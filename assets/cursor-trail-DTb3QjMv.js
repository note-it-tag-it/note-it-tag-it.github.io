var x=Object.defineProperty;var Y=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var E=(e,t,n)=>Y(e,typeof t!="symbol"?t+"":t,n);import{r as u}from"./index-CMdFx5aj.js";const H=({element:e,particles:t=15,rate:n=.6,baseImageSrc:R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAAAAXNSR0IArs4c6QAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAAEwAAAAAChpcNAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABqElEQVQoFY3SPUvDQBgH8BREpRHExYiDgmLFl6WC+AYmWeyLg4i7buJX8DMpOujgyxGvUYeCgzhUQUSKKLUS0+ZyptXh8Z5Ti621ekPyJHl+uftfomhaf9Ei5JyxXKfynyEA6EYcLHpwyflT958GAQ7DTABNHd8EbtDbEH2BD5QEQmi2mM8P/Iq+A0SzszEg+3sPjDnDdVEtQKQbMUidHD3xVzf6A9UDEmEm+8h9KTqTVUjT+vB53aHrCbAPiceYq1dQI1Aqv4EhMll0jzv+Y0yiRgCnLRSYyDQHVoqUXe4uKL9l+L7GXC4vkMhE6eW/AOJs9k583ORDUyXMZ8F5SVHVVnllmPNKSFagAJ5DofaqGXw/gHBYg51dIldkmknY3tguv3jOtHR4+MqAzaraJXbEhqHhcQlwGSOi5pytVQHZLN5s0WNe8HPrLYlFsO20RPHkImxsbmHdLJFI76th7Z4SeuF53hTeFLvhRCJRCTKZKxgdnRDbW+iozFJbBMw14/ElwGYc0egMBMFzT21f5Rog33Z7dX02GBm7WV5ZfT5Nn5bE3zuCDe9UxdTpNvK+5AAAAABJRU5ErkJggg=="})=>{const h=u.useRef(null),i=u.useRef({x:0,y:0}),a=u.useRef([]),m=u.useRef(null),w=u.useRef(!1);class v{constructor(g,c,r){E(this,"position");E(this,"image");this.position={x:g,y:c},this.image=r}move(g){g.drawImage(this.image,this.position.x,this.position.y)}}return u.useEffect(()=>{const l=new Image;l.src=R;const g=window.matchMedia("(prefers-reduced-motion: reduce)"),c=e!==void 0,r=c?e:document.body,A=document.createElement("canvas"),p=A.getContext("2d");if(!p)return;h.current=A,A.style.top="0px",A.style.left="0px",A.style.pointerEvents="none",A.className="z-50",c?(A.style.position="absolute",r.appendChild(A),A.width=r.clientWidth,A.height=r.clientHeight):(A.style.position="fixed",document.body.appendChild(A),A.width=window.innerWidth,A.height=window.innerHeight);const f=s=>{if(c&&e){const o=e.getBoundingClientRect();i.current.x=s.clientX-o.left,i.current.y=s.clientY-o.top}else i.current.x=s.clientX,i.current.y=s.clientY;if(w.current===!1){w.current=!0;for(let o=0;o<t;o++)a.current.push(new v(i.current.x,i.current.y,l))}},y=()=>{c&&e?(A.width=e.clientWidth,A.height=e.clientHeight):(A.width=window.innerWidth,A.height=window.innerHeight)},I=()=>{p.clearRect(0,0,A.width,A.height);let s=i.current.x,o=i.current.y;a.current.forEach((d,W)=>{const B=a.current[W+1]||a.current[0];d.position.x=s,d.position.y=o,d.move(p),s+=(B.position.x-d.position.x)*n,o+=(B.position.y-d.position.y)*n})},C=()=>{I(),m.current=requestAnimationFrame(C)};return g.matches||(r.addEventListener("mousemove",f),window.addEventListener("resize",y),C()),()=>{h.current&&h.current.remove(),m.current&&cancelAnimationFrame(m.current),r.removeEventListener("mousemove",f),window.removeEventListener("resize",y)}},[e,t,n,R]),null};export{H as default};
