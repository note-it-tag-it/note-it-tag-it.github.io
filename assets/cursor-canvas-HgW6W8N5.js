import{j as x,r as w}from"./index-CMdFx5aj.js";const E=()=>{function v(n){this.init(n||{})}v.prototype={init:function(n){this.phase=n.phase||0,this.offset=n.offset||0,this.frequency=n.frequency||.001,this.amplitude=n.amplitude||1},update:function(){return this.phase+=this.frequency,p=this.offset+Math.sin(this.phase)*this.amplitude},value:function(){return p}};function f(n){this.init(n||{})}f.prototype={init:function(n){this.spring=n.spring+.1*Math.random()-.02,this.friction=a.friction+.01*Math.random()-.002,this.nodes=[];for(var e,o=0;o<a.size;o++)e=new g,e.x=r.x,e.y=r.y,this.nodes.push(e)},update:function(){var n=this.spring,e=this.nodes[0];e.vx+=(r.x-e.x)*n,e.vy+=(r.y-e.y)*n;for(var o,s=0,i=this.nodes.length;s<i;s++)e=this.nodes[s],0<s&&(o=this.nodes[s-1],e.vx+=(o.x-e.x)*n,e.vy+=(o.y-e.y)*n,e.vx+=o.vx*a.dampening,e.vy+=o.vy*a.dampening),e.vx*=this.friction,e.vy*=this.friction,e.x+=e.vx,e.y+=e.vy,n*=a.tension},draw:function(){var n,e,o=this.nodes[0].x,s=this.nodes[0].y;t.beginPath(),t.moveTo(o,s);for(var i=1,l=this.nodes.length-2;i<l;i++)n=this.nodes[i],e=this.nodes[i+1],o=.5*(n.x+e.x),s=.5*(n.y+e.y),t.quadraticCurveTo(n.x,n.y,o,s);n=this.nodes[i],e=this.nodes[i+1],t.quadraticCurveTo(n.x,n.y,e.x,e.y),t.stroke(),t.closePath()}};function u(n){function e(){h=[];for(var i=0;i<a.trails;i++)h.push(new f({spring:.4+i/a.trails*.025}))}function o(i){i.touches?(r.x=i.touches[0].pageX,r.y=i.touches[0].pageY):(r.x=i.clientX,r.y=i.clientY),i.preventDefault()}function s(i){i.touches.length==1&&(r.x=i.touches[0].pageX,r.y=i.touches[0].pageY)}document.removeEventListener("mousemove",u),document.removeEventListener("touchstart",u),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o),document.addEventListener("touchstart",s),o(n),e(),c()}function c(){if(t.running){t.globalCompositeOperation="source-over",t.clearRect(0,0,t.canvas.width,t.canvas.height),t.globalCompositeOperation="lighter",t.strokeStyle="hsla("+Math.round(m.update())+",50%,50%,0.2)",t.lineWidth=1;for(var n,e=0;e<a.trails;e++)(n=h[e]).update(),n.draw();t.frame++,window.requestAnimationFrame(c)}}function d(){t.canvas.width=window.innerWidth-20,t.canvas.height=window.innerHeight}var t,m,p=0,r={},h=[],a={friction:.5,trails:20,size:50,dampening:.25,tension:.98};function g(){this.x=0,this.y=0,this.vy=0,this.vx=0}const y=function(){t=document.getElementById("canvas").getContext("2d"),t.running=!0,t.frame=1,m=new v({phase:Math.random()*2*Math.PI,amplitude:85,frequency:.0015,offset:285}),document.addEventListener("mousemove",u),document.addEventListener("touchstart",u),document.body.addEventListener("orientationchange",d),window.addEventListener("resize",d),window.addEventListener("focus",()=>{t.running||(t.running=!0,c())}),window.addEventListener("blur",()=>{t.running=!0}),d()};w.useEffect(()=>(y(),()=>{t.running=!1,document.removeEventListener("mousemove",u),document.removeEventListener("touchstart",u),document.body.removeEventListener("orientationchange",d),window.removeEventListener("resize",d),window.removeEventListener("focus",()=>{t.running||(t.running=!0,c())}),window.removeEventListener("blur",()=>{t.running=!0})}),[])},C=()=>(E(),x.jsx("canvas",{className:"pointer-events-none fixed inset-0 z-50",id:"canvas"}));export{C as default};
