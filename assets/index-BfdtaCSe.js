const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CcgSecBr.js","assets/road-map-D5NZkz9G.js","assets/index-BO9QUQ4L.js"])))=>i.map(i=>d[i]);
var G7=Object.defineProperty;var K7=(n,e,t)=>e in n?G7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var vt=(n,e,t)=>K7(n,typeof e!="symbol"?e+"":e,t);function Y7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var _S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jB(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function UB(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var FA={exports:{}},Q0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function X7(){if(wN)return Q0;wN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Q0.Fragment=e,Q0.jsx=t,Q0.jsxs=t,Q0}var xN;function Q7(){return xN||(xN=1,FA.exports=X7()),FA.exports}var R=Q7(),HA={exports:{}},J0={},$A={exports:{}},qA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function J7(){return SN||(SN=1,function(n){function e(J,se){var te=J.length;J.push(se);e:for(;0<te;){var we=te-1>>>1,Q=J[we];if(0<i(Q,se))J[we]=se,J[te]=Q,te=we;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var se=J[0],te=J.pop();if(te!==se){J[0]=te;e:for(var we=0,Q=J.length,ae=Q>>>1;we<ae;){var ve=2*(we+1)-1,ne=J[ve],ge=ve+1,Re=J[ge];if(0>i(ne,te))ge<Q&&0>i(Re,ne)?(J[we]=Re,J[ge]=te,we=ge):(J[we]=ne,J[ve]=te,we=ve);else if(ge<Q&&0>i(Re,te))J[we]=Re,J[ge]=te,we=ge;else break e}}return se}function i(J,se){var te=J.sortIndex-se.sortIndex;return te!==0?te:J.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],f=[],d=1,m=null,g=3,b=!1,x=!1,_=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function P(J){for(var se=t(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=J)r(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=t(f)}}function H(J){if(_=!1,P(J),!x)if(t(c)!==null)x=!0,U||(U=!0,X());else{var se=t(f);se!==null&&Ee(H,se.startTime-J)}}var U=!1,O=-1,D=5,V=-1;function F(){return C?!0:!(n.unstable_now()-V<D)}function W(){if(C=!1,U){var J=n.unstable_now();V=J;var se=!0;try{e:{x=!1,_&&(_=!1,N(O),O=-1),b=!0;var te=g;try{t:{for(P(J),m=t(c);m!==null&&!(m.expirationTime>J&&F());){var we=m.callback;if(typeof we=="function"){m.callback=null,g=m.priorityLevel;var Q=we(m.expirationTime<=J);if(J=n.unstable_now(),typeof Q=="function"){m.callback=Q,P(J),se=!0;break t}m===t(c)&&r(c),P(J)}else r(c);m=t(c)}if(m!==null)se=!0;else{var ae=t(f);ae!==null&&Ee(H,ae.startTime-J),se=!1}}break e}finally{m=null,g=te,b=!1}se=void 0}}finally{se?X():U=!1}}}var X;if(typeof z=="function")X=function(){z(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Te=G.port2;G.port1.onmessage=W,X=function(){Te.postMessage(null)}}else X=function(){k(W,0)};function Ee(J,se){O=k(function(){J(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(J){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var te=g;g=se;try{return J()}finally{g=te}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=g;g=J;try{return se()}finally{g=te}},n.unstable_scheduleCallback=function(J,se,te){var we=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?we+te:we):te=we,J){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,J={id:d++,callback:se,priorityLevel:J,startTime:te,expirationTime:Q,sortIndex:-1},te>we?(J.sortIndex=te,e(f,J),t(c)===null&&J===t(f)&&(_?(N(O),O=-1):_=!0,Ee(H,te-we))):(J.sortIndex=Q,e(c,J),x||b||(x=!0,U||(U=!0,X()))),J},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(J){var se=g;return function(){var te=g;g=se;try{return J.apply(this,arguments)}finally{g=te}}}}(qA)),qA}var EN;function Z7(){return EN||(EN=1,$A.exports=J7()),$A.exports}var WA={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function eq(){if(_N)return Bt;_N=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function g(Q){return Q===null||typeof Q!="object"?null:(Q=m&&Q[m]||Q["@@iterator"],typeof Q=="function"?Q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function C(Q,ae,ve){this.props=Q,this.context=ae,this.refs=_,this.updater=ve||b}C.prototype.isReactComponent={},C.prototype.setState=function(Q,ae){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ae,"setState")},C.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function k(){}k.prototype=C.prototype;function N(Q,ae,ve){this.props=Q,this.context=ae,this.refs=_,this.updater=ve||b}var z=N.prototype=new k;z.constructor=N,x(z,C.prototype),z.isPureReactComponent=!0;var P=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function O(Q,ae,ve,ne,ge,Re){return ve=Re.ref,{$$typeof:n,type:Q,key:ae,ref:ve!==void 0?ve:null,props:Re}}function D(Q,ae){return O(Q.type,ae,void 0,void 0,void 0,Q.props)}function V(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function F(Q){var ae={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(ve){return ae[ve]})}var W=/\/+/g;function X(Q,ae){return typeof Q=="object"&&Q!==null&&Q.key!=null?F(""+Q.key):ae.toString(36)}function G(){}function Te(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(G,G):(Q.status="pending",Q.then(function(ae){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ae)},function(ae){Q.status==="pending"&&(Q.status="rejected",Q.reason=ae)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function Ee(Q,ae,ve,ne,ge){var Re=typeof Q;(Re==="undefined"||Re==="boolean")&&(Q=null);var ye=!1;if(Q===null)ye=!0;else switch(Re){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(Q.$$typeof){case n:case e:ye=!0;break;case d:return ye=Q._init,Ee(ye(Q._payload),ae,ve,ne,ge)}}if(ye)return ge=ge(Q),ye=ne===""?"."+X(Q,0):ne,P(ge)?(ve="",ye!=null&&(ve=ye.replace(W,"$&/")+"/"),Ee(ge,ae,ve,"",function(He){return He})):ge!=null&&(V(ge)&&(ge=D(ge,ve+(ge.key==null||Q&&Q.key===ge.key?"":(""+ge.key).replace(W,"$&/")+"/")+ye)),ae.push(ge)),1;ye=0;var Ae=ne===""?".":ne+":";if(P(Q))for(var Le=0;Le<Q.length;Le++)ne=Q[Le],Re=Ae+X(ne,Le),ye+=Ee(ne,ae,ve,Re,ge);else if(Le=g(Q),typeof Le=="function")for(Q=Le.call(Q),Le=0;!(ne=Q.next()).done;)ne=ne.value,Re=Ae+X(ne,Le++),ye+=Ee(ne,ae,ve,Re,ge);else if(Re==="object"){if(typeof Q.then=="function")return Ee(Te(Q),ae,ve,ne,ge);throw ae=String(Q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(Q,ae,ve){if(Q==null)return Q;var ne=[],ge=0;return Ee(Q,ne,"","",function(Re){return ae.call(ve,Re,ge++)}),ne}function se(Q){if(Q._status===-1){var ae=Q._result;ae=ae(),ae.then(function(ve){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=ve)},function(ve){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=ve)}),Q._status===-1&&(Q._status=0,Q._result=ae)}if(Q._status===1)return Q._result.default;throw Q._result}var te=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function we(){}return Bt.Children={map:J,forEach:function(Q,ae,ve){J(Q,function(){ae.apply(this,arguments)},ve)},count:function(Q){var ae=0;return J(Q,function(){ae++}),ae},toArray:function(Q){return J(Q,function(ae){return ae})||[]},only:function(Q){if(!V(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Bt.Component=C,Bt.Fragment=t,Bt.Profiler=i,Bt.PureComponent=N,Bt.StrictMode=r,Bt.Suspense=c,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return H.H.useMemoCache(Q)}},Bt.cache=function(Q){return function(){return Q.apply(null,arguments)}},Bt.cloneElement=function(Q,ae,ve){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var ne=x({},Q.props),ge=Q.key,Re=void 0;if(ae!=null)for(ye in ae.ref!==void 0&&(Re=void 0),ae.key!==void 0&&(ge=""+ae.key),ae)!U.call(ae,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ae.ref===void 0||(ne[ye]=ae[ye]);var ye=arguments.length-2;if(ye===1)ne.children=ve;else if(1<ye){for(var Ae=Array(ye),Le=0;Le<ye;Le++)Ae[Le]=arguments[Le+2];ne.children=Ae}return O(Q.type,ge,void 0,void 0,Re,ne)},Bt.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:s,_context:Q},Q},Bt.createElement=function(Q,ae,ve){var ne,ge={},Re=null;if(ae!=null)for(ne in ae.key!==void 0&&(Re=""+ae.key),ae)U.call(ae,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ge[ne]=ae[ne]);var ye=arguments.length-2;if(ye===1)ge.children=ve;else if(1<ye){for(var Ae=Array(ye),Le=0;Le<ye;Le++)Ae[Le]=arguments[Le+2];ge.children=Ae}if(Q&&Q.defaultProps)for(ne in ye=Q.defaultProps,ye)ge[ne]===void 0&&(ge[ne]=ye[ne]);return O(Q,Re,void 0,void 0,null,ge)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(Q){return{$$typeof:a,render:Q}},Bt.isValidElement=V,Bt.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:se}},Bt.memo=function(Q,ae){return{$$typeof:f,type:Q,compare:ae===void 0?null:ae}},Bt.startTransition=function(Q){var ae=H.T,ve={};H.T=ve;try{var ne=Q(),ge=H.S;ge!==null&&ge(ve,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(we,te)}catch(Re){te(Re)}finally{H.T=ae}},Bt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Bt.use=function(Q){return H.H.use(Q)},Bt.useActionState=function(Q,ae,ve){return H.H.useActionState(Q,ae,ve)},Bt.useCallback=function(Q,ae){return H.H.useCallback(Q,ae)},Bt.useContext=function(Q){return H.H.useContext(Q)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(Q,ae){return H.H.useDeferredValue(Q,ae)},Bt.useEffect=function(Q,ae,ve){var ne=H.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(Q,ae)},Bt.useId=function(){return H.H.useId()},Bt.useImperativeHandle=function(Q,ae,ve){return H.H.useImperativeHandle(Q,ae,ve)},Bt.useInsertionEffect=function(Q,ae){return H.H.useInsertionEffect(Q,ae)},Bt.useLayoutEffect=function(Q,ae){return H.H.useLayoutEffect(Q,ae)},Bt.useMemo=function(Q,ae){return H.H.useMemo(Q,ae)},Bt.useOptimistic=function(Q,ae){return H.H.useOptimistic(Q,ae)},Bt.useReducer=function(Q,ae,ve){return H.H.useReducer(Q,ae,ve)},Bt.useRef=function(Q){return H.H.useRef(Q)},Bt.useState=function(Q){return H.H.useState(Q)},Bt.useSyncExternalStore=function(Q,ae,ve){return H.H.useSyncExternalStore(Q,ae,ve)},Bt.useTransition=function(){return H.H.useTransition()},Bt.version="19.1.0",Bt}var TN;function av(){return TN||(TN=1,WA.exports=eq()),WA.exports}var GA={exports:{}},bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function tq(){if(CN)return bs;CN=1;var n=av();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:d}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bs.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,d)},bs.flushSync=function(c){var f=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=d,r.d.f()}},bs.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},bs.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},bs.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,m=a(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:b}):d==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bs.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=a(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},bs.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=a(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bs.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=a(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},bs.requestFormReset=function(c){r.d.r(c)},bs.unstable_batchedUpdates=function(c,f){return c(f)},bs.useFormState=function(c,f,d){return o.H.useFormState(c,f,d)},bs.useFormStatus=function(){return o.H.useHostTransitionStatus()},bs.version="19.1.0",bs}var AN;function FB(){if(AN)return GA.exports;AN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),GA.exports=tq(),GA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function nq(){if(RN)return J0;RN=1;var n=Z7(),e=av(),t=FB();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(s(l)!==l)throw Error(r(188))}function c(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,v=u;;){var S=h.return;if(S===null)break;var T=S.alternate;if(T===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===h)return a(S),l;if(T===v)return a(S),u;T=T.sibling}throw Error(r(188))}if(h.return!==v.return)h=S,v=T;else{for(var B=!1,q=S.child;q;){if(q===h){B=!0,h=S,v=T;break}if(q===v){B=!0,v=S,h=T;break}q=q.sibling}if(!B){for(q=T.child;q;){if(q===h){B=!0,h=T,v=S;break}if(q===v){B=!0,v=T,h=S;break}q=q.sibling}if(!B)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function X(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var G=Symbol.for("react.client.reference");function Te(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===G?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case x:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList";case V:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case z:return(l.displayName||"Context")+".Provider";case N:return(l._context.displayName||"Context")+".Consumer";case P:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case O:return u=l.displayName||null,u!==null?u:Te(l.type)||"Memo";case D:u=l._payload,l=l._init;try{return Te(l(u))}catch{}}return null}var Ee=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},we=[],Q=-1;function ae(l){return{current:l}}function ve(l){0>Q||(l.current=we[Q],we[Q]=null,Q--)}function ne(l,u){Q++,we[Q]=l.current,l.current=u}var ge=ae(null),Re=ae(null),ye=ae(null),Ae=ae(null);function Le(l,u){switch(ne(ye,u),ne(Re,l),ne(ge,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?ar(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=ar(u),l=fr(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ve(ge),ne(ge,l)}function He(){ve(ge),ve(Re),ve(ye)}function it(l){l.memoizedState!==null&&ne(Ae,l);var u=ge.current,h=fr(u,l.type);u!==h&&(ne(Re,l),ne(ge,h))}function Lt(l){Re.current===l&&(ve(ge),ve(Re)),Ae.current===l&&(ve(Ae),Wf._currentValue=te)}var Kt=Object.prototype.hasOwnProperty,Et=n.unstable_scheduleCallback,Dt=n.unstable_cancelCallback,tr=n.unstable_shouldYield,kr=n.unstable_requestPaint,jt=n.unstable_now,kn=n.unstable_getCurrentPriorityLevel,Pn=n.unstable_ImmediatePriority,nr=n.unstable_UserBlockingPriority,ln=n.unstable_NormalPriority,_n=n.unstable_LowPriority,Wn=n.unstable_IdlePriority,Ds=n.log,Li=n.unstable_setDisableYieldValue,yn=null,Nt=null;function Gn(l){if(typeof Ds=="function"&&Li(l),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(yn,l)}catch{}}var rr=Math.clz32?Math.clz32:ti,Vi=Math.log,Zo=Math.LN2;function ti(l){return l>>>=0,l===0?32:31-(Vi(l)/Zo|0)|0}var Is=256,xe=4194304;function Fe(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function et(l,u,h){var v=l.pendingLanes;if(v===0)return 0;var S=0,T=l.suspendedLanes,B=l.pingedLanes;l=l.warmLanes;var q=v&134217727;return q!==0?(v=q&~T,v!==0?S=Fe(v):(B&=q,B!==0?S=Fe(B):h||(h=q&~l,h!==0&&(S=Fe(h))))):(q=v&~T,q!==0?S=Fe(q):B!==0?S=Fe(B):h||(h=v&~l,h!==0&&(S=Fe(h)))),S===0?0:u!==0&&u!==S&&(u&T)===0&&(T=S&-S,h=u&-u,T>=h||T===32&&(h&4194048)!==0)?u:S}function It(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Ct(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tn(){var l=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),l}function Mr(){var l=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),l}function Fr(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Si(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ei(l,u,h,v,S,T){var B=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var q=l.entanglements,ee=l.expirationTimes,de=l.hiddenUpdates;for(h=B&~h;0<h;){var _e=31-rr(h),Me=1<<_e;q[_e]=0,ee[_e]=-1;var pe=de[_e];if(pe!==null)for(de[_e]=null,_e=0;_e<pe.length;_e++){var he=pe[_e];he!==null&&(he.lane&=-536870913)}h&=~Me}v!==0&&st(l,v,0),T!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=T&~(B&~u))}function st(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-rr(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|h&4194090}function Mn(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var v=31-rr(h),S=1<<v;S&u|l[v]&u&&(l[v]|=u),h&=~S}}function vn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ur(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function mi(){var l=se.p;return l!==0?l:(l=window.event,l===void 0?32:vS(l.type))}function jn(l,u){var h=se.p;try{return se.p=l,u()}finally{se.p=h}}var Yt=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Yt,bn="__reactProps$"+Yt,Yn="__reactContainer$"+Yt,Rl="__reactEvents$"+Yt,To="__reactListeners$"+Yt,Va="__reactHandles$"+Yt,ym="__reactResources$"+Yt,Bc="__reactMarker$"+Yt;function kl(l){delete l[Kn],delete l[bn],delete l[Rl],delete l[To],delete l[Va]}function Ba(l){var u=l[Kn];if(u)return u;for(var h=l.parentNode;h;){if(u=h[Yn]||h[Kn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=oS(l);l!==null;){if(h=l[Kn])return h;l=oS(l)}return u}l=h,h=l.parentNode}return null}function ea(l){if(l=l[Kn]||l[Yn]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Co(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function Bi(l){var u=l[ym];return u||(u=l[ym]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Sr(l){l[Bc]=!0}var Jd=new Set,Ju={};function Ao(l,u){za(l,u),za(l+"Capture",u)}function za(l,u){for(Ju[l]=u,l=0;l<u.length;l++)Jd.add(u[l])}var zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vm={},ta={};function bm(l){return Kt.call(ta,l)?!0:Kt.call(vm,l)?!1:zc.test(l)?ta[l]=!0:(vm[l]=!0,!1)}function Ml(l,u,h){if(bm(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function na(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function ni(l,u,h,v){if(v===null)l.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+v)}}var Dl,Zd;function ja(l){if(Dl===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Dl=u&&u[1]||"",Zd=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+l+Zd}var Zu=!1;function ef(l,u){if(!l||Zu)return"";Zu=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(he){var pe=he}Reflect.construct(l,[],Me)}else{try{Me.call()}catch(he){pe=he}l.call(Me.prototype)}}else{try{throw Error()}catch(he){pe=he}(Me=l())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(he){if(he&&pe&&typeof he.stack=="string")return[he.stack,pe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),B=T[0],q=T[1];if(B&&q){var ee=B.split(`
`),de=q.split(`
`);for(S=v=0;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;for(;S<de.length&&!de[S].includes("DetermineComponentFrameRoot");)S++;if(v===ee.length||S===de.length)for(v=ee.length-1,S=de.length-1;1<=v&&0<=S&&ee[v]!==de[S];)S--;for(;1<=v&&0<=S;v--,S--)if(ee[v]!==de[S]){if(v!==1||S!==1)do if(v--,S--,0>S||ee[v]!==de[S]){var _e=`
`+ee[v].replace(" at new "," at ");return l.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",l.displayName)),_e}while(1<=v&&0<=S);break}}}finally{Zu=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?ja(h):""}function eh(l){switch(l.tag){case 26:case 27:case 5:return ja(l.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 15:return ef(l.type,!1);case 11:return ef(l.type.render,!1);case 1:return ef(l.type,!0);case 31:return ja("Activity");default:return""}}function jc(l){try{var u="";do u+=eh(l),l=l.return;while(l);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function _i(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function tf(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function th(l){var u=tf(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,T=h.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(B){v=""+B,T.call(this,B)}}),Object.defineProperty(l,u,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(B){v=""+B},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function nf(l){l._valueTracker||(l._valueTracker=th(l))}function rf(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return l&&(v=tf(l)?l.checked?"true":"false":l.value),l=v,l!==h?(u.setValue(l),!0):!1}function ra(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var wm=/[\n"\\]/g;function Dr(l){return l.replace(wm,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function rs(l,u,h,v,S,T,B,q){l.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?l.type=B:l.removeAttribute("type"),u!=null?B==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+_i(u)):l.value!==""+_i(u)&&(l.value=""+_i(u)):B!=="submit"&&B!=="reset"||l.removeAttribute("value"),u!=null?ia(l,B,_i(u)):h!=null?ia(l,B,_i(h)):v!=null&&l.removeAttribute("value"),S==null&&T!=null&&(l.defaultChecked=!!T),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?l.name=""+_i(q):l.removeAttribute("name")}function Il(l,u,h,v,S,T,B,q){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(l.type=T),u!=null||h!=null){if(!(T!=="submit"&&T!=="reset"||u!=null))return;h=h!=null?""+_i(h):"",u=u!=null?""+_i(u):h,q||u===l.value||(l.value=u),l.defaultValue=u}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=q?l.checked:!!v,l.defaultChecked=!!v,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(l.name=B)}function ia(l,u,h){u==="number"&&ra(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Ua(l,u,h,v){if(l=l.options,u){u={};for(var S=0;S<h.length;S++)u["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=u.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&v&&(l[h].defaultSelected=!0)}else{for(h=""+_i(h),u=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Dn(l,u,h){if(u!=null&&(u=""+_i(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+_i(h):""}function Fa(l,u,h,v){if(u==null){if(v!=null){if(h!=null)throw Error(r(92));if(Ee(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),u=h}h=_i(u),l.defaultValue=h,v=l.textContent,v===h&&v!==""&&v!==null&&(l.value=v)}function is(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(l,u,h){var v=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,h):typeof h!="number"||h===0||Xs.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function sf(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in u)v=u[S],u.hasOwnProperty(S)&&h[S]!==v&&nh(l,S,v)}else for(var T in u)u.hasOwnProperty(T)&&nh(l,T,u[T])}function rh(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uc(l){return Sm.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var sa=null;function Qs(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ha=null,$a=null;function of(l){var u=ea(l);if(u&&(l=u.stateNode)){var h=l[bn]||null;e:switch(l=u.stateNode,u.type){case"input":if(rs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Dr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==l&&v.form===l.form){var S=v[bn]||null;if(!S)throw Error(r(90));rs(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<h.length;u++)v=h[u],v.form===l.form&&rf(v)}break e;case"textarea":Dn(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Ua(l,!!h.multiple,u,!1)}}}var oa=!1;function Em(l,u,h){if(oa)return l(u,h);oa=!0;try{var v=l(u);return v}finally{if(oa=!1,(Ha!==null||$a!==null)&&(bg(),Ha&&(u=Ha,l=$a,$a=Ha=null,of(u),l)))for(u=0;u<l.length;u++)of(l[u])}}function Fc(l,u){var h=l.stateNode;if(h===null)return null;var v=h[bn]||null;if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ss=!1;if(Ro)try{var Hc={};Object.defineProperty(Hc,"passive",{get:function(){ss=!0}}),window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{ss=!1}var aa=null,Ol=null,qa=null;function ih(){if(qa)return qa;var l,u=Ol,h=u.length,v,S="value"in aa?aa.value:aa.textContent,T=S.length;for(l=0;l<h&&u[l]===S[l];l++);var B=h-l;for(v=1;v<=B&&u[h-v]===S[T-v];v++);return qa=S.slice(l,1<v?1-v:void 0)}function cn(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function rn(){return!0}function sh(){return!1}function ri(l){function u(h,v,S,T,B){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var q in l)l.hasOwnProperty(q)&&(h=l[q],this[q]=h?h(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?rn:sh,this.isPropagationStopped=sh,this}return d(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),u}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},af=ri(Cn),$c=d({},Cn,{view:0,detail:0}),_m=ri($c),qc,lf,Xn,Wa=d({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Xn&&(Xn&&l.type==="mousemove"?(qc=l.screenX-Xn.screenX,lf=l.screenY-Xn.screenY):lf=qc=0,Xn=l),qc)},movementY:function(l){return"movementY"in l?l.movementY:lf}}),ii=ri(Wa),oh=d({},Wa,{dataTransfer:0}),ah=ri(oh),si=d({},$c,{relatedTarget:0}),Wc=ri(si),cf=d({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=ri(cf),lh=d({},Cn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Kc=ri(lh),Tm=d({},Cn,{data:0}),gi=ri(Tm),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uf(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Cm[l])?!!u[l]:!1}function as(){return uf}var Xc=d({},$c,{key:function(l){if(l.key){var u=Yc[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=cn(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?zi[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(l){return l.type==="keypress"?cn(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?cn(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Nl=ri(Xc),Un=d({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=ri(Un),ko=d({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Am=ri(ko),ff=d({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rm=ri(ff),km=d({},Wa,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),df=ri(km),Ti=d({},Cn,{newState:0,oldState:0}),Qc=ri(Ti),Ga=[9,13,27,32],la=Ro&&"CompositionEvent"in window,w=null;Ro&&"documentMode"in document&&(w=document.documentMode);var M=Ro&&"TextEvent"in window&&!w,L=Ro&&(!la||w&&8<w&&11>=w),K=" ",ue=!1;function be(l,u){switch(l){case"keyup":return Ga.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ze(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var en=!1;function Hr(l,u){switch(l){case"compositionend":return ze(u);case"keypress":return u.which!==32?null:(ue=!0,K);case"textInput":return l=u.data,l===K&&ue?null:l;default:return null}}function sn(l,u){if(en)return l==="compositionend"||!la&&be(l,u)?(l=ih(),qa=Ol=aa=null,en=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return L&&u.locale!=="ko"?null:u.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!An[l.type]:u==="textarea"}function Os(l,u,h,v){Ha?$a?$a.push(v):$a=[v]:Ha=v,u=Cg(u,"onChange"),0<u.length&&(h=new af("onChange","change",null,h,v),l.push({event:h,listeners:u}))}var oi=null,Mo=null;function ch(l){Jx(l,0)}function Mm(l){var u=Co(l);if(rf(u))return l}function _1(l,u){if(l==="change")return u}var T1=!1;if(Ro){var kv;if(Ro){var Pl="oninput"in document;if(!Pl){var C1=document.createElement("div");C1.setAttribute("oninput","return;"),Pl=typeof C1.oninput=="function"}kv=Pl}else kv=!1;T1=kv&&(!document.documentMode||9<document.documentMode)}function A1(){oi&&(oi.detachEvent("onpropertychange",Dm),Mo=oi=null)}function Dm(l){if(l.propertyName==="value"&&Mm(Mo)){var u=[];Os(u,Mo,l,Qs(l)),Em(ch,u)}}function R1(l,u,h){l==="focusin"?(A1(),oi=u,Mo=h,oi.attachEvent("onpropertychange",Dm)):l==="focusout"&&A1()}function Ll(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Mm(Mo)}function Im(l,u){if(l==="click")return Mm(u)}function KC(l,u){if(l==="input"||l==="change")return Mm(u)}function YC(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ns=typeof Object.is=="function"?Object.is:YC;function ca(l,u){if(Ns(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!Kt.call(u,S)||!Ns(l[S],u[S]))return!1}return!0}function Zs(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Mv(l,u){var h=Zs(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=u&&v>=u)return{node:h,offset:u-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Zs(h)}}function k1(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?k1(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function M1(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=ra(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=ra(l.document)}return u}function Dv(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var XC=Ro&&"documentMode"in document&&11>=document.documentMode,hf=null,Vl=null,oe=null,Se=!1;function me(l,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Se||hf==null||hf!==ra(v)||(v=hf,"selectionStart"in v&&Dv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),oe&&ca(oe,v)||(oe=v,v=Cg(Vl,"onSelect"),0<v.length&&(u=new af("onSelect","select",null,u,h),l.push({event:u,listeners:v}),u.target=hf)))}function $e(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var dt={animationend:$e("Animation","AnimationEnd"),animationiteration:$e("Animation","AnimationIteration"),animationstart:$e("Animation","AnimationStart"),transitionrun:$e("Transition","TransitionRun"),transitionstart:$e("Transition","TransitionStart"),transitioncancel:$e("Transition","TransitionCancel"),transitionend:$e("Transition","TransitionEnd")},hn={},Ir={};Ro&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete dt.animationend.animation,delete dt.animationiteration.animation,delete dt.animationstart.animation),"TransitionEvent"in window||delete dt.transitionend.transition);function pn(l){if(hn[l])return hn[l];if(!dt[l])return l;var u=dt[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in Ir)return hn[l]=u[h];return l}var Om=pn("animationend"),D1=pn("animationiteration"),Ps=pn("animationstart"),Nm=pn("transitionrun"),QC=pn("transitionstart"),pf=pn("transitioncancel"),uh=pn("transitionend"),fh=new Map,Sn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sn.push("scrollEnd");function Do(l,u){fh.set(l,u),Ao(u,[l])}var Iv=new WeakMap;function ji(l,u){if(typeof l=="object"&&l!==null){var h=Iv.get(l);return h!==void 0?h:(u={value:l,source:u,stack:jc(u)},Iv.set(l,u),u)}return{value:l,source:u,stack:jc(u)}}var eo=[],mf=0,Ov=0;function Jc(){for(var l=mf,u=Ov=mf=0;u<l;){var h=eo[u];eo[u++]=null;var v=eo[u];eo[u++]=null;var S=eo[u];eo[u++]=null;var T=eo[u];if(eo[u++]=null,v!==null&&S!==null){var B=v.pending;B===null?S.next=S:(S.next=B.next,B.next=S),v.pending=S}T!==0&&dh(h,S,T)}}function Io(l,u,h,v){eo[mf++]=l,eo[mf++]=u,eo[mf++]=h,eo[mf++]=v,Ov|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function gf(l,u,h,v){return Io(l,u,h,v),hh(l)}function Zc(l,u){return Io(l,null,null,u),hh(l)}function dh(l,u,h){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h);for(var S=!1,T=l.return;T!==null;)T.childLanes|=h,v=T.alternate,v!==null&&(v.childLanes|=h),T.tag===22&&(l=T.stateNode,l===null||l._visibility&1||(S=!0)),l=T,T=T.return;return l.tag===3?(T=l.stateNode,S&&u!==null&&(S=31-rr(h),l=T.hiddenUpdates,v=l[S],v===null?l[S]=[u]:v.push(u),u.lane=h|536870912),T):null}function hh(l){if(50<Bf)throw Bf=0,A0=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var eu={};function Pm(l,u,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(l,u,h,v){return new Pm(l,u,h,v)}function tu(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ui(l,u){var h=l.alternate;return h===null?(h=ls(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function ph(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Lm(l,u,h,v,S,T){var B=0;if(v=l,typeof l=="function")tu(l)&&(B=1);else if(typeof l=="string")B=RA(l,h,ge.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case V:return l=ls(31,h,u,S),l.elementType=V,l.lanes=T,l;case x:return nu(h.children,S,T,u);case _:B=8,S|=24;break;case C:return l=ls(12,h,u,S|2),l.elementType=C,l.lanes=T,l;case H:return l=ls(13,h,u,S),l.elementType=H,l.lanes=T,l;case U:return l=ls(19,h,u,S),l.elementType=U,l.lanes=T,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:case z:B=10;break e;case N:B=9;break e;case P:B=11;break e;case O:B=14;break e;case D:B=16,v=null;break e}B=29,h=Error(r(130,l===null?"null":typeof l,"")),v=null}return u=ls(B,h,u,S),u.elementType=l,u.type=v,u.lanes=T,u}function nu(l,u,h,v){return l=ls(7,l,v,u),l.lanes=h,l}function Nv(l,u,h){return l=ls(6,l,null,u),l.lanes=h,l}function yf(l,u,h){return u=ls(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Ka=[],Bl=0,Vm=null,mh=0,to=[],no=0,Jn=null,ir=1,Ya="";function ru(l,u){Ka[Bl++]=mh,Ka[Bl++]=Vm,Vm=l,mh=u}function Pv(l,u,h){to[no++]=ir,to[no++]=Ya,to[no++]=Jn,Jn=l;var v=ir;l=Ya;var S=32-rr(v)-1;v&=~(1<<S),h+=1;var T=32-rr(u)+S;if(30<T){var B=S-S%5;T=(v&(1<<B)-1).toString(32),v>>=B,S-=B,ir=1<<32-rr(u)+S|h<<S|v,Ya=T+l}else ir=1<<T|h<<S|v,Ya=l}function Lv(l){l.return!==null&&(ru(l,1),Pv(l,1,0))}function gh(l){for(;l===Vm;)Vm=Ka[--Bl],Ka[Bl]=null,mh=Ka[--Bl],Ka[Bl]=null;for(;l===Jn;)Jn=to[--no],to[no]=null,Ya=to[--no],to[no]=null,ir=to[--no],to[no]=null}var $r=null,sr=null,tn=!1,Oo=null,cs=!1,vf=Error(r(519));function ro(l){var u=Error(r(418,""));throw zl(ji(u,l)),vf}function I1(l){var u=l.stateNode,h=l.type,v=l.memoizedProps;switch(u[Kn]=l,u[bn]=v,h){case"dialog":Qt("cancel",u),Qt("close",u);break;case"iframe":case"object":case"embed":Qt("load",u);break;case"video":case"audio":for(h=0;h<ip.length;h++)Qt(ip[h],u);break;case"source":Qt("error",u);break;case"img":case"image":case"link":Qt("error",u),Qt("load",u);break;case"details":Qt("toggle",u);break;case"input":Qt("invalid",u),Il(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),nf(u);break;case"select":Qt("invalid",u);break;case"textarea":Qt("invalid",u),Fa(u,v.value,v.defaultValue,v.children),nf(u)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||v.suppressHydrationWarning===!0||tS(u.textContent,h)?(v.popover!=null&&(Qt("beforetoggle",u),Qt("toggle",u)),v.onScroll!=null&&Qt("scroll",u),v.onScrollEnd!=null&&Qt("scrollend",u),v.onClick!=null&&(u.onclick=Ag),u=!0):u=!1,u||ro(l)}function O1(l){for($r=l.return;$r;)switch($r.tag){case 5:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:$r=$r.return}}function yh(l){if(l!==$r)return!1;if(!tn)return O1(l),tn=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||kg(l.type,l.memoizedProps)),h=!h),h&&sr&&ro(l),O1(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(h=l.data,h==="/$"){if(u===0){sr=zo(l.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;l=l.nextSibling}sr=null}}else u===27?(u=sr,co(l.type)?(l=U0,U0=null,sr=l):sr=u):sr=$r?zo(l.stateNode.nextSibling):null;return!0}function vh(){sr=$r=null,tn=!1}function N1(){var l=Oo;return l!==null&&(ys===null?ys=l:ys.push.apply(ys,l),Oo=null),l}function zl(l){Oo===null?Oo=[l]:Oo.push(l)}var iu=ae(null),jl=null,$=null;function Ls(l,u,h){ne(iu,u._currentValue),u._currentValue=h}function io(l){l._currentValue=iu.current,ve(iu)}function us(l,u,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===h)break;l=l.return}}function Ut(l,u,h,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var T=S.dependencies;if(T!==null){var B=S.child;T=T.firstContext;e:for(;T!==null;){var q=T;T=S;for(var ee=0;ee<u.length;ee++)if(q.context===u[ee]){T.lanes|=h,q=T.alternate,q!==null&&(q.lanes|=h),us(T.return,h,l),v||(B=null);break e}T=q.next}}else if(S.tag===18){if(B=S.return,B===null)throw Error(r(341));B.lanes|=h,T=B.alternate,T!==null&&(T.lanes|=h),us(B,h,l),B=null}else B=S.child;if(B!==null)B.return=S;else for(B=S;B!==null;){if(B===l){B=null;break}if(S=B.sibling,S!==null){S.return=B.return,B=S;break}B=B.return}S=B}}function bh(l,u,h,v){l=null;for(var S=u,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var B=S.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var q=S.type;Ns(S.pendingProps.value,B.value)||(l!==null?l.push(q):l=[q])}}else if(S===Ae.current){if(B=S.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Wf):l=[Wf])}S=S.return}l!==null&&Ut(u,l,h,v),u.flags|=262144}function Bm(l){for(l=l.firstContext;l!==null;){if(!Ns(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function su(l){jl=l,$=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function mr(l){return P1(jl,l)}function zm(l,u){return jl===null&&su(l),P1(l,u)}function P1(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},$===null){if(l===null)throw Error(r(308));$=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else $=$.next=u;return h}var JC=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},ZC=n.unstable_scheduleCallback,eA=n.unstable_NormalPriority,Fn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vv(){return{controller:new JC,data:new Map,refCount:0}}function wh(l){l.refCount--,l.refCount===0&&ZC(eA,function(){l.controller.abort()})}var xh=null,Bv=0,bf=0,fs=null;function tA(l,u){if(xh===null){var h=xh=[];Bv=0,bf=Tg(),fs={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Bv++,u.then(L1,L1),u}function L1(){if(--Bv===0&&xh!==null){fs!==null&&(fs.status="fulfilled");var l=xh;xh=null,bf=0,fs=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function nA(l,u){var h=[],v={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var S=0;S<h.length;S++)(0,h[S])(u)},function(S){for(v.status="rejected",v.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),v}var V1=J.S;J.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&tA(l,u),V1!==null&&V1(l,u)};var ou=ae(null);function Xa(){var l=ou.current;return l!==null?l:Qn.pooledCache}function jm(l,u){u===null?ne(ou,ou.current):ne(ou,u.pool)}function B1(){var l=Xa();return l===null?null:{parent:Fn._currentValue,pool:l}}var Fi=Error(r(460)),z1=Error(r(474)),Um=Error(r(542)),zv={then:function(){}};function j1(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Fm(){}function jv(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(Fm,Fm),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,F1(l),l;default:if(typeof u.status=="string")u.then(Fm,Fm);else{if(l=Qn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=v}},function(v){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,F1(l),l}throw wf=u,Fi}}var wf=null;function U1(){if(wf===null)throw Error(r(459));var l=wf;return wf=null,l}function F1(l){if(l===Fi||l===Um)throw Error(r(483))}var ua=!1;function au(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ul(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Qa(l,u,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(On&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,u=hh(l),dh(l,null,h),u}return Io(l,v,u,h),hh(l)}function Sh(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,h|=v,u.lanes=h,Mn(l,h)}}function No(l,u){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};T===null?S=T=B:T=T.next=B,h=h.next}while(h!==null);T===null?S=T=u:T=T.next=u}else S=T=u;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var Eh=!1;function Po(){if(Eh){var l=fs;if(l!==null)throw l}}function Ci(l,u,h,v){Eh=!1;var S=l.updateQueue;ua=!1;var T=S.firstBaseUpdate,B=S.lastBaseUpdate,q=S.shared.pending;if(q!==null){S.shared.pending=null;var ee=q,de=ee.next;ee.next=null,B===null?T=de:B.next=de,B=ee;var _e=l.alternate;_e!==null&&(_e=_e.updateQueue,q=_e.lastBaseUpdate,q!==B&&(q===null?_e.firstBaseUpdate=de:q.next=de,_e.lastBaseUpdate=ee))}if(T!==null){var Me=S.baseState;B=0,_e=de=ee=null,q=T;do{var pe=q.lane&-536870913,he=pe!==q.lane;if(he?(un&pe)===pe:(v&pe)===pe){pe!==0&&pe===bf&&(Eh=!0),_e!==null&&(_e=_e.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var ct=l,lt=q;pe=u;var Vn=h;switch(lt.tag){case 1:if(ct=lt.payload,typeof ct=="function"){Me=ct.call(Vn,Me,pe);break e}Me=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=lt.payload,pe=typeof ct=="function"?ct.call(Vn,Me,pe):ct,pe==null)break e;Me=d({},Me,pe);break e;case 2:ua=!0}}pe=q.callback,pe!==null&&(l.flags|=64,he&&(l.flags|=8192),he=S.callbacks,he===null?S.callbacks=[pe]:he.push(pe))}else he={lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},_e===null?(de=_e=he,ee=Me):_e=_e.next=he,B|=pe;if(q=q.next,q===null){if(q=S.shared.pending,q===null)break;he=q,q=he.next,he.next=null,S.lastBaseUpdate=he,S.shared.pending=null}}while(!0);_e===null&&(ee=Me),S.baseState=ee,S.firstBaseUpdate=de,S.lastBaseUpdate=_e,T===null&&(S.shared.lanes=0),Xl|=B,l.lanes=B,l.memoizedState=Me}}function H1(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Uv(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)H1(h[l],u)}var lu=ae(null),Fl=ae(0);function Ja(l,u){l=al,ne(Fl,l),ne(lu,u),al=l|u.baseLanes}function Hm(){ne(Fl,al),ne(lu,lu.current)}function Fv(){al=Fl.current,ve(lu),ve(Fl)}var Lo=0,Vt=null,In=null,nn=null,Sf=!1,cu=!1,Ai=!1,Ef=0,Hl=0,so=null,$1=0;function on(){throw Error(r(321))}function _h(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!Ns(l[h],u[h]))return!1;return!0}function Hv(l,u,h,v,S,T){return Lo=T,Vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,J.H=l===null||l.memoizedState===null?rx:a0,Ai=!1,T=h(v,S),Ai=!1,cu&&(T=W1(u,h,v,S)),q1(l),T}function q1(l){J.H=Ph;var u=In!==null&&In.next!==null;if(Lo=0,nn=In=Vt=null,Sf=!1,Hl=0,so=null,u)throw Error(r(300));l===null||ai||(l=l.dependencies,l!==null&&Bm(l)&&(ai=!0))}function W1(l,u,h,v){Vt=l;var S=0;do{if(cu&&(so=null),Hl=0,cu=!1,25<=S)throw Error(r(301));if(S+=1,nn=In=null,l.updateQueue!=null){var T=l.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}J.H=ix,T=u(h,v)}while(cu);return T}function $v(){var l=J.H,u=l.useState()[0];return u=typeof u.then=="function"?Th(u):u,l=l.useState()[0],(In!==null?In.memoizedState:null)!==l&&(Vt.flags|=1024),u}function qv(){var l=Ef!==0;return Ef=0,l}function uu(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function $m(l){if(Sf){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Sf=!1}Lo=0,nn=In=Vt=null,cu=!1,Hl=Ef=0,so=null}function ds(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Vt.memoizedState=nn=l:nn=nn.next=l,nn}function Or(){if(In===null){var l=Vt.alternate;l=l!==null?l.memoizedState:null}else l=In.next;var u=nn===null?Vt.memoizedState:nn.next;if(u!==null)nn=u,In=l;else{if(l===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));In=l,l={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},nn===null?Vt.memoizedState=nn=l:nn=nn.next=l}return nn}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Th(l){var u=Hl;return Hl+=1,so===null&&(so=[]),l=jv(so,l,u),u=Vt,(nn===null?u.memoizedState:nn.next)===null&&(u=u.alternate,J.H=u===null||u.memoizedState===null?rx:a0),l}function qm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Th(l);if(l.$$typeof===z)return mr(l)}throw Error(r(438,String(l)))}function Ch(l){var u=null,h=Vt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var v=Vt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=fu(),Vt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),v=0;v<l;v++)h[v]=F;return u.index++,h}function fa(l,u){return typeof u=="function"?u(l):u}function Wm(l){var u=Or();return Wv(u,In,l)}function Wv(l,u,h){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var S=l.baseQueue,T=v.pending;if(T!==null){if(S!==null){var B=S.next;S.next=T.next,T.next=B}u.baseQueue=S=T,v.pending=null}if(T=l.baseState,S===null)l.memoizedState=T;else{u=S.next;var q=B=null,ee=null,de=u,_e=!1;do{var Me=de.lane&-536870913;if(Me!==de.lane?(un&Me)===Me:(Lo&Me)===Me){var pe=de.revertLane;if(pe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Me===bf&&(_e=!0);else if((Lo&pe)===pe){de=de.next,pe===bf&&(_e=!0);continue}else Me={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(q=ee=Me,B=T):ee=ee.next=Me,Vt.lanes|=pe,Xl|=pe;Me=de.action,Ai&&h(T,Me),T=de.hasEagerState?de.eagerState:h(T,Me)}else pe={lane:Me,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(q=ee=pe,B=T):ee=ee.next=pe,Vt.lanes|=Me,Xl|=Me;de=de.next}while(de!==null&&de!==u);if(ee===null?B=T:ee.next=q,!Ns(T,l.memoizedState)&&(ai=!0,_e&&(h=fs,h!==null)))throw h;l.memoizedState=T,l.baseState=B,l.baseQueue=ee,v.lastRenderedState=T}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Gv(l){var u=Or(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var v=h.dispatch,S=h.pending,T=u.memoizedState;if(S!==null){h.pending=null;var B=S=S.next;do T=l(T,B.action),B=B.next;while(B!==S);Ns(T,u.memoizedState)||(ai=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),h.lastRenderedState=T}return[T,v]}function Kv(l,u,h){var v=Vt,S=Or(),T=tn;if(T){if(h===void 0)throw Error(r(407));h=h()}else h=u();var B=!Ns((In||S).memoizedState,h);B&&(S.memoizedState=h,ai=!0),S=S.queue;var q=Km.bind(null,v,S,l);if(kh(2048,8,q,[l]),S.getSnapshot!==u||B||nn!==null&&nn.memoizedState.tag&1){if(v.flags|=2048,_f(9,Zm(),G1.bind(null,v,S,h,u),null),Qn===null)throw Error(r(349));T||(Lo&124)!==0||Gm(v,u,h)}return h}function Gm(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=Vt.updateQueue,u===null?(u=fu(),Vt.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function G1(l,u,h,v){u.value=h,u.getSnapshot=v,Yv(u)&&Xv(l)}function Km(l,u,h){return h(function(){Yv(u)&&Xv(l)})}function Yv(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!Ns(l,h)}catch{return!0}}function Xv(l){var u=Zc(l,2);u!==null&&Us(u,l,2)}function Ym(l){var u=ds();if(typeof l=="function"){var h=l;if(l=h(),Ai){Gn(!0);try{h()}finally{Gn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:l},u}function Ah(l,u,h,v){return l.baseState=h,Wv(l,In,typeof v=="function"?v:fa)}function rA(l,u,h,v,S){if(rg(l))throw Error(r(485));if(l=u.action,l!==null){var T={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){T.listeners.push(B)}};J.T!==null?h(!0):T.isTransition=!1,v(T),h=u.pending,h===null?(T.next=u.pending=T,Qv(u,T)):(T.next=h.next,u.pending=h.next=T)}}function Qv(l,u){var h=u.action,v=u.payload,S=l.state;if(u.isTransition){var T=J.T,B={};J.T=B;try{var q=h(S,v),ee=J.S;ee!==null&&ee(B,q),Jv(l,u,q)}catch(de){Xm(l,u,de)}finally{J.T=T}}else try{T=h(S,v),Jv(l,u,T)}catch(de){Xm(l,u,de)}}function Jv(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){K1(l,u,v)},function(v){return Xm(l,u,v)}):K1(l,u,h)}function K1(l,u,h){u.status="fulfilled",u.value=h,Y1(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,Qv(l,h)))}function Xm(l,u,h){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=h,Y1(u),u=u.next;while(u!==v)}l.action=null}function Y1(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Qm(l,u){return u}function Zv(l,u){if(tn){var h=Qn.formState;if(h!==null){e:{var v=Vt;if(tn){if(sr){t:{for(var S=sr,T=cs;S.nodeType!==8;){if(!T){S=null;break t}if(S=zo(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){sr=zo(S.nextSibling),v=S.data==="F!";break e}}ro(v)}v=!1}v&&(u=h[0])}}return h=ds(),h.memoizedState=h.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:u},h.queue=v,h=i0.bind(null,Vt,v),v.dispatch=h,v=Ym(!1),T=s0.bind(null,Vt,!1,v.queue),v=ds(),S={state:u,dispatch:null,action:l,pending:null},v.queue=S,h=rA.bind(null,Vt,S,T,h),S.dispatch=h,v.memoizedState=l,[u,h,!1]}function Jm(l){var u=Or();return X1(u,In,l)}function X1(l,u,h){if(u=Wv(l,u,Qm)[0],l=Wm(fa)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Th(u)}catch(B){throw B===Fi?Um:B}else v=u;u=Or();var S=u.queue,T=S.dispatch;return h!==u.memoizedState&&(Vt.flags|=2048,_f(9,Zm(),e0.bind(null,S,h),null)),[v,T,l]}function e0(l,u){l.action=u}function Pt(l){var u=Or(),h=In;if(h!==null)return X1(u,h,l);Or(),u=u.memoizedState,h=Or();var v=h.queue.dispatch;return h.memoizedState=l,[u,v,!1]}function _f(l,u,h,v){return l={tag:l,create:h,deps:v,inst:u,next:null},u=Vt.updateQueue,u===null&&(u=fu(),Vt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,u.lastEffect=l),l}function Zm(){return{destroy:void 0,resource:void 0}}function Tf(){return Or().memoizedState}function Rh(l,u,h,v){var S=ds();v=v===void 0?null:v,Vt.flags|=l,S.memoizedState=_f(1|u,Zm(),h,v)}function kh(l,u,h,v){var S=Or();v=v===void 0?null:v;var T=S.memoizedState.inst;In!==null&&v!==null&&_h(v,In.memoizedState.deps)?S.memoizedState=_f(u,T,h,v):(Vt.flags|=l,S.memoizedState=_f(1|u,T,h,v))}function Q1(l,u){Rh(8390656,8,l,u)}function Vs(l,u){kh(2048,8,l,u)}function J1(l,u){return kh(4,2,l,u)}function Mh(l,u){return kh(4,4,l,u)}function eg(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function t0(l,u,h){h=h!=null?h.concat([l]):null,kh(4,4,eg.bind(null,u,l),h)}function tg(){}function hs(l,u){var h=Or();u=u===void 0?null:u;var v=h.memoizedState;return u!==null&&_h(u,v[1])?v[0]:(h.memoizedState=[l,u],l)}function Za(l,u){var h=Or();u=u===void 0?null:u;var v=h.memoizedState;if(u!==null&&_h(u,v[1]))return v[0];if(v=l(),Ai){Gn(!0);try{l()}finally{Gn(!1)}}return h.memoizedState=[v,u],v}function Dh(l,u,h){return h===void 0||(Lo&1073741824)!==0?l.memoizedState=u:(l.memoizedState=h,l=Dx(),Vt.lanes|=l,Xl|=l,h)}function n0(l,u,h,v){return Ns(h,u)?h:lu.current!==null?(l=Dh(l,h,v),Ns(l,u)||(ai=!0),l):(Lo&42)===0?(ai=!0,l.memoizedState=h):(l=Dx(),Vt.lanes|=l,Xl|=l,u)}function Ih(l,u,h,v,S){var T=se.p;se.p=T!==0&&8>T?T:8;var B=J.T,q={};J.T=q,s0(l,!1,u,h);try{var ee=S(),de=J.S;if(de!==null&&de(q,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var _e=nA(ee,v);du(l,u,_e,ki(l))}else du(l,u,v,ki(l))}catch(Me){du(l,u,{then:function(){},status:"rejected",reason:Me},ki())}finally{se.p=T,J.T=B}}function Z1(){}function Oh(l,u,h,v){if(l.tag!==5)throw Error(r(476));var S=r0(l).queue;Ih(l,S,u,te,h===null?Z1:function(){return ng(l),h(v)})}function r0(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:te},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function ng(l){var u=r0(l).next.queue;du(l,u,{},ki())}function Nh(){return mr(Wf)}function el(){return Or().memoizedState}function ex(){return Or().memoizedState}function $l(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=ki();l=Ul(h);var v=Qa(u,l,h);v!==null&&(Us(v,u,h),Sh(v,u,h)),u={cache:Vv()},l.payload=u;return}u=u.return}}function tx(l,u,h){var v=ki();h={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},rg(l)?nx(u,h):(h=gf(l,u,h,v),h!==null&&(Us(h,l,v),o0(h,u,v)))}function i0(l,u,h){var v=ki();du(l,u,h,v)}function du(l,u,h,v){var S={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(rg(l))nx(u,S);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var B=u.lastRenderedState,q=T(B,h);if(S.hasEagerState=!0,S.eagerState=q,Ns(q,B))return Io(l,u,S,0),Qn===null&&Jc(),!1}catch{}finally{}if(h=gf(l,u,S,v),h!==null)return Us(h,l,v),o0(h,u,v),!0}return!1}function s0(l,u,h,v){if(v={lane:2,revertLane:Tg(),action:v,hasEagerState:!1,eagerState:null,next:null},rg(l)){if(u)throw Error(r(479))}else u=gf(l,h,v,2),u!==null&&Us(u,l,2)}function rg(l){var u=l.alternate;return l===Vt||u!==null&&u===Vt}function nx(l,u){cu=Sf=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function o0(l,u,h){if((h&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,h|=v,u.lanes=h,Mn(l,h)}}var Ph={readContext:mr,use:qm,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on},rx={readContext:mr,use:qm,useCallback:function(l,u){return ds().memoizedState=[l,u===void 0?null:u],l},useContext:mr,useEffect:Q1,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,Rh(4194308,4,eg.bind(null,u,l),h)},useLayoutEffect:function(l,u){return Rh(4194308,4,l,u)},useInsertionEffect:function(l,u){Rh(4,2,l,u)},useMemo:function(l,u){var h=ds();u=u===void 0?null:u;var v=l();if(Ai){Gn(!0);try{l()}finally{Gn(!1)}}return h.memoizedState=[v,u],v},useReducer:function(l,u,h){var v=ds();if(h!==void 0){var S=h(u);if(Ai){Gn(!0);try{h(u)}finally{Gn(!1)}}}else S=u;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=tx.bind(null,Vt,l),[v.memoizedState,l]},useRef:function(l){var u=ds();return l={current:l},u.memoizedState=l},useState:function(l){l=Ym(l);var u=l.queue,h=i0.bind(null,Vt,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:tg,useDeferredValue:function(l,u){var h=ds();return Dh(h,l,u)},useTransition:function(){var l=Ym(!1);return l=Ih.bind(null,Vt,l.queue,!0,!1),ds().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var v=Vt,S=ds();if(tn){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Qn===null)throw Error(r(349));(un&124)!==0||Gm(v,u,h)}S.memoizedState=h;var T={value:h,getSnapshot:u};return S.queue=T,Q1(Km.bind(null,v,T,l),[l]),v.flags|=2048,_f(9,Zm(),G1.bind(null,v,T,h,u),null),h},useId:function(){var l=ds(),u=Qn.identifierPrefix;if(tn){var h=Ya,v=ir;h=(v&~(1<<32-rr(v)-1)).toString(32)+h,u=""+u+"R"+h,h=Ef++,0<h&&(u+="H"+h.toString(32)),u+=""}else h=$1++,u=""+u+"r"+h.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:Nh,useFormState:Zv,useActionState:Zv,useOptimistic:function(l){var u=ds();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=s0.bind(null,Vt,!0,h),h.dispatch=u,[l,u]},useMemoCache:Ch,useCacheRefresh:function(){return ds().memoizedState=$l.bind(null,Vt)}},a0={readContext:mr,use:qm,useCallback:hs,useContext:mr,useEffect:Vs,useImperativeHandle:t0,useInsertionEffect:J1,useLayoutEffect:Mh,useMemo:Za,useReducer:Wm,useRef:Tf,useState:function(){return Wm(fa)},useDebugValue:tg,useDeferredValue:function(l,u){var h=Or();return n0(h,In.memoizedState,l,u)},useTransition:function(){var l=Wm(fa)[0],u=Or().memoizedState;return[typeof l=="boolean"?l:Th(l),u]},useSyncExternalStore:Kv,useId:el,useHostTransitionStatus:Nh,useFormState:Jm,useActionState:Jm,useOptimistic:function(l,u){var h=Or();return Ah(h,In,l,u)},useMemoCache:Ch,useCacheRefresh:ex},ix={readContext:mr,use:qm,useCallback:hs,useContext:mr,useEffect:Vs,useImperativeHandle:t0,useInsertionEffect:J1,useLayoutEffect:Mh,useMemo:Za,useReducer:Gv,useRef:Tf,useState:function(){return Gv(fa)},useDebugValue:tg,useDeferredValue:function(l,u){var h=Or();return In===null?Dh(h,l,u):n0(h,In.memoizedState,l,u)},useTransition:function(){var l=Gv(fa)[0],u=Or().memoizedState;return[typeof l=="boolean"?l:Th(l),u]},useSyncExternalStore:Kv,useId:el,useHostTransitionStatus:Nh,useFormState:Pt,useActionState:Pt,useOptimistic:function(l,u){var h=Or();return In!==null?Ah(h,In,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:ex},qr=null,ps=0;function ig(l){var u=ps;return ps+=1,qr===null&&(qr=[]),jv(qr,l,u)}function Lh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function hu(l,u){throw u.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function pu(l){var u=l._init;return u(l._payload)}function l0(l){function u(le,ie){if(l){var fe=le.deletions;fe===null?(le.deletions=[ie],le.flags|=16):fe.push(ie)}}function h(le,ie){if(!l)return null;for(;ie!==null;)u(le,ie),ie=ie.sibling;return null}function v(le){for(var ie=new Map;le!==null;)le.key!==null?ie.set(le.key,le):ie.set(le.index,le),le=le.sibling;return ie}function S(le,ie){return le=Ui(le,ie),le.index=0,le.sibling=null,le}function T(le,ie,fe){return le.index=fe,l?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ie?(le.flags|=67108866,ie):fe):(le.flags|=67108866,ie)):(le.flags|=1048576,ie)}function B(le){return l&&le.alternate===null&&(le.flags|=67108866),le}function q(le,ie,fe,Ce){return ie===null||ie.tag!==6?(ie=Nv(fe,le.mode,Ce),ie.return=le,ie):(ie=S(ie,fe),ie.return=le,ie)}function ee(le,ie,fe,Ce){var We=fe.type;return We===x?_e(le,ie,fe.props.children,Ce,fe.key):ie!==null&&(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===D&&pu(We)===ie.type)?(ie=S(ie,fe.props),Lh(ie,fe),ie.return=le,ie):(ie=Lm(fe.type,fe.key,fe.props,null,le.mode,Ce),Lh(ie,fe),ie.return=le,ie)}function de(le,ie,fe,Ce){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=yf(fe,le.mode,Ce),ie.return=le,ie):(ie=S(ie,fe.children||[]),ie.return=le,ie)}function _e(le,ie,fe,Ce,We){return ie===null||ie.tag!==7?(ie=nu(fe,le.mode,Ce,We),ie.return=le,ie):(ie=S(ie,fe),ie.return=le,ie)}function Me(le,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Nv(""+ie,le.mode,fe),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:return fe=Lm(ie.type,ie.key,ie.props,null,le.mode,fe),Lh(fe,ie),fe.return=le,fe;case b:return ie=yf(ie,le.mode,fe),ie.return=le,ie;case D:var Ce=ie._init;return ie=Ce(ie._payload),Me(le,ie,fe)}if(Ee(ie)||X(ie))return ie=nu(ie,le.mode,fe,null),ie.return=le,ie;if(typeof ie.then=="function")return Me(le,ig(ie),fe);if(ie.$$typeof===z)return Me(le,zm(le,ie),fe);hu(le,ie)}return null}function pe(le,ie,fe,Ce){var We=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return We!==null?null:q(le,ie,""+fe,Ce);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:return fe.key===We?ee(le,ie,fe,Ce):null;case b:return fe.key===We?de(le,ie,fe,Ce):null;case D:return We=fe._init,fe=We(fe._payload),pe(le,ie,fe,Ce)}if(Ee(fe)||X(fe))return We!==null?null:_e(le,ie,fe,Ce,null);if(typeof fe.then=="function")return pe(le,ie,ig(fe),Ce);if(fe.$$typeof===z)return pe(le,ie,zm(le,fe),Ce);hu(le,fe)}return null}function he(le,ie,fe,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return le=le.get(fe)||null,q(ie,le,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return le=le.get(Ce.key===null?fe:Ce.key)||null,ee(ie,le,Ce,We);case b:return le=le.get(Ce.key===null?fe:Ce.key)||null,de(ie,le,Ce,We);case D:var Ft=Ce._init;return Ce=Ft(Ce._payload),he(le,ie,fe,Ce,We)}if(Ee(Ce)||X(Ce))return le=le.get(fe)||null,_e(ie,le,Ce,We,null);if(typeof Ce.then=="function")return he(le,ie,fe,ig(Ce),We);if(Ce.$$typeof===z)return he(le,ie,fe,zm(ie,Ce),We);hu(ie,Ce)}return null}function ct(le,ie,fe,Ce){for(var We=null,Ft=null,nt=ie,ut=ie=0,ui=null;nt!==null&&ut<fe.length;ut++){nt.index>ut?(ui=nt,nt=null):ui=nt.sibling;var mn=pe(le,nt,fe[ut],Ce);if(mn===null){nt===null&&(nt=ui);break}l&&nt&&mn.alternate===null&&u(le,nt),ie=T(mn,ie,ut),Ft===null?We=mn:Ft.sibling=mn,Ft=mn,nt=ui}if(ut===fe.length)return h(le,nt),tn&&ru(le,ut),We;if(nt===null){for(;ut<fe.length;ut++)nt=Me(le,fe[ut],Ce),nt!==null&&(ie=T(nt,ie,ut),Ft===null?We=nt:Ft.sibling=nt,Ft=nt);return tn&&ru(le,ut),We}for(nt=v(nt);ut<fe.length;ut++)ui=he(nt,le,ut,fe[ut],Ce),ui!==null&&(l&&ui.alternate!==null&&nt.delete(ui.key===null?ut:ui.key),ie=T(ui,ie,ut),Ft===null?We=ui:Ft.sibling=ui,Ft=ui);return l&&nt.forEach(function(oc){return u(le,oc)}),tn&&ru(le,ut),We}function lt(le,ie,fe,Ce){if(fe==null)throw Error(r(151));for(var We=null,Ft=null,nt=ie,ut=ie=0,ui=null,mn=fe.next();nt!==null&&!mn.done;ut++,mn=fe.next()){nt.index>ut?(ui=nt,nt=null):ui=nt.sibling;var oc=pe(le,nt,mn.value,Ce);if(oc===null){nt===null&&(nt=ui);break}l&&nt&&oc.alternate===null&&u(le,nt),ie=T(oc,ie,ut),Ft===null?We=oc:Ft.sibling=oc,Ft=oc,nt=ui}if(mn.done)return h(le,nt),tn&&ru(le,ut),We;if(nt===null){for(;!mn.done;ut++,mn=fe.next())mn=Me(le,mn.value,Ce),mn!==null&&(ie=T(mn,ie,ut),Ft===null?We=mn:Ft.sibling=mn,Ft=mn);return tn&&ru(le,ut),We}for(nt=v(nt);!mn.done;ut++,mn=fe.next())mn=he(nt,le,ut,mn.value,Ce),mn!==null&&(l&&mn.alternate!==null&&nt.delete(mn.key===null?ut:mn.key),ie=T(mn,ie,ut),Ft===null?We=mn:Ft.sibling=mn,Ft=mn);return l&&nt.forEach(function(zA){return u(le,zA)}),tn&&ru(le,ut),We}function Vn(le,ie,fe,Ce){if(typeof fe=="object"&&fe!==null&&fe.type===x&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case g:e:{for(var We=fe.key;ie!==null;){if(ie.key===We){if(We=fe.type,We===x){if(ie.tag===7){h(le,ie.sibling),Ce=S(ie,fe.props.children),Ce.return=le,le=Ce;break e}}else if(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===D&&pu(We)===ie.type){h(le,ie.sibling),Ce=S(ie,fe.props),Lh(Ce,fe),Ce.return=le,le=Ce;break e}h(le,ie);break}else u(le,ie);ie=ie.sibling}fe.type===x?(Ce=nu(fe.props.children,le.mode,Ce,fe.key),Ce.return=le,le=Ce):(Ce=Lm(fe.type,fe.key,fe.props,null,le.mode,Ce),Lh(Ce,fe),Ce.return=le,le=Ce)}return B(le);case b:e:{for(We=fe.key;ie!==null;){if(ie.key===We)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){h(le,ie.sibling),Ce=S(ie,fe.children||[]),Ce.return=le,le=Ce;break e}else{h(le,ie);break}else u(le,ie);ie=ie.sibling}Ce=yf(fe,le.mode,Ce),Ce.return=le,le=Ce}return B(le);case D:return We=fe._init,fe=We(fe._payload),Vn(le,ie,fe,Ce)}if(Ee(fe))return ct(le,ie,fe,Ce);if(X(fe)){if(We=X(fe),typeof We!="function")throw Error(r(150));return fe=We.call(fe),lt(le,ie,fe,Ce)}if(typeof fe.then=="function")return Vn(le,ie,ig(fe),Ce);if(fe.$$typeof===z)return Vn(le,ie,zm(le,fe),Ce);hu(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ie!==null&&ie.tag===6?(h(le,ie.sibling),Ce=S(ie,fe),Ce.return=le,le=Ce):(h(le,ie),Ce=Nv(fe,le.mode,Ce),Ce.return=le,le=Ce),B(le)):h(le,ie)}return function(le,ie,fe,Ce){try{ps=0;var We=Vn(le,ie,fe,Ce);return qr=null,We}catch(nt){if(nt===Fi||nt===Um)throw nt;var Ft=ls(29,nt,null,le.mode);return Ft.lanes=Ce,Ft.return=le,Ft}finally{}}}var mu=l0(!0),sx=l0(!1),Bs=ae(null),Hi=null;function oo(l){var u=l.alternate;ne(gr,gr.current&1),ne(Bs,l),Hi===null&&(u===null||lu.current!==null||u.memoizedState!==null)&&(Hi=l)}function ox(l){if(l.tag===22){if(ne(gr,gr.current),ne(Bs,l),Hi===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Hi=l)}}else tl()}function tl(){ne(gr,gr.current),ne(Bs,Bs.current)}function da(l){ve(Bs),Hi===l&&(Hi=null),ve(gr)}var gr=ae(0);function Vh(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||qi(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Cf(l,u,h,v){u=l.memoizedState,h=h(v,u),h=h==null?u:d({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Bh={enqueueSetState:function(l,u,h){l=l._reactInternals;var v=ki(),S=Ul(v);S.payload=u,h!=null&&(S.callback=h),u=Qa(l,S,v),u!==null&&(Us(u,l,v),Sh(u,l,v))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var v=ki(),S=Ul(v);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=Qa(l,S,v),u!==null&&(Us(u,l,v),Sh(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=ki(),v=Ul(h);v.tag=2,u!=null&&(v.callback=u),u=Qa(l,v,h),u!==null&&(Us(u,l,h),Sh(u,l,h))}};function zh(l,u,h,v,S,T,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,B):u.prototype&&u.prototype.isPureReactComponent?!ca(h,v)||!ca(S,T):!0}function ax(l,u,h,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==l&&Bh.enqueueReplaceState(u,u.state,null)}function ql(l,u){var h=u;if("ref"in u){h={};for(var v in u)v!=="ref"&&(h[v]=u[v])}if(l=l.defaultProps){h===u&&(h=d({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}var gu=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function c0(l){gu(l)}function sg(l){console.error(l)}function lx(l){gu(l)}function jh(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function ha(l,u,h){try{var v=l.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function og(l,u,h){return h=Ul(h),h.tag=3,h.payload={element:null},h.callback=function(){jh(l,u)},h}function u0(l){return l=Ul(l),l.tag=3,l}function cx(l,u,h,v){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var T=v.value;l.payload=function(){return S(T)},l.callback=function(){ha(u,h,v)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(l.callback=function(){ha(u,h,v),typeof S!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var q=v.stack;this.componentDidCatch(v.value,{componentStack:q!==null?q:""})})}function ux(l,u,h,v,S){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=h.alternate,u!==null&&bh(u,h,S,!0),h=Bs.current,h!==null){switch(h.tag){case 13:return Hi===null?k0():h.alternate===null&&yr===0&&(yr=3),h.flags&=-257,h.flags|=65536,h.lanes=S,v===zv?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([v]):u.add(v),I0(l,v,S)),!1;case 22:return h.flags|=65536,v===zv?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([v]):h.add(v)),I0(l,v,S)),!1}throw Error(r(435,h.tag))}return I0(l,v,S),k0(),!1}if(tn)return u=Bs.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,v!==vf&&(l=Error(r(422),{cause:v}),zl(ji(l,h)))):(v!==vf&&(u=Error(r(423),{cause:v}),zl(ji(u,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=ji(v,h),S=og(l.stateNode,v,S),No(l,S),yr!==4&&(yr=2)),!1;var T=Error(r(520),{cause:v});if(T=ji(T,h),Xh===null?Xh=[T]:Xh.push(T),yr!==4&&(yr=2),u===null)return!0;v=ji(v,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=og(h.stateNode,v,l),No(h,l),!1;case 1:if(u=h.type,T=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ql===null||!Ql.has(T))))return h.flags|=65536,S&=-S,h.lanes|=S,S=u0(S),cx(S,l,h,v),No(h,S),!1}h=h.return}while(h!==null);return!1}var fx=Error(r(461)),ai=!1;function Zn(l,u,h,v){u.child=l===null?sx(u,null,h,v):mu(u,l.child,h,v)}function ag(l,u,h,v,S){h=h.render;var T=u.ref;if("ref"in v){var B={};for(var q in v)q!=="ref"&&(B[q]=v[q])}else B=v;return su(u),v=Hv(l,u,h,B,T,S),q=qv(),l!==null&&!ai?(uu(l,u,S),nl(l,u,S)):(tn&&q&&Lv(u),u.flags|=1,Zn(l,u,v,S),u.child)}function lg(l,u,h,v,S){if(l===null){var T=h.type;return typeof T=="function"&&!tu(T)&&T.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=T,cg(l,u,T,v,S)):(l=Lm(h.type,null,v,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,!Vo(l,S)){var B=T.memoizedProps;if(h=h.compare,h=h!==null?h:ca,h(B,v)&&l.ref===u.ref)return nl(l,u,S)}return u.flags|=1,l=Ui(T,v),l.ref=u.ref,l.return=u,u.child=l}function cg(l,u,h,v,S){if(l!==null){var T=l.memoizedProps;if(ca(T,v)&&l.ref===u.ref)if(ai=!1,u.pendingProps=v=T,Vo(l,S))(l.flags&131072)!==0&&(ai=!0);else return u.lanes=l.lanes,nl(l,u,S)}return Af(l,u,h,v,S)}function Uh(l,u,h){var v=u.pendingProps,S=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=T!==null?T.baseLanes|h:h,l!==null){for(S=u.child=l.child,T=0;S!==null;)T=T|S.lanes|S.childLanes,S=S.sibling;u.childLanes=T&~v}else u.childLanes=0,u.child=null;return yu(l,u,v,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&jm(u,T!==null?T.cachePool:null),T!==null?Ja(u,T):Hm(),ox(u);else return u.lanes=u.childLanes=536870912,yu(l,u,T!==null?T.baseLanes|h:h,h)}else T!==null?(jm(u,T.cachePool),Ja(u,T),tl(),u.memoizedState=null):(l!==null&&jm(u,null),Hm(),tl());return Zn(l,u,S,h),u.child}function yu(l,u,h,v){var S=Xa();return S=S===null?null:{parent:Fn._currentValue,pool:S},u.memoizedState={baseLanes:h,cachePool:S},l!==null&&jm(u,null),Hm(),ox(u),l!==null&&bh(l,u,v,!0),null}function ot(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function Af(l,u,h,v,S){return su(u),h=Hv(l,u,h,v,void 0,S),v=qv(),l!==null&&!ai?(uu(l,u,S),nl(l,u,S)):(tn&&v&&Lv(u),u.flags|=1,Zn(l,u,h,S),u.child)}function ug(l,u,h,v,S,T){return su(u),u.updateQueue=null,h=W1(u,v,h,S),q1(l),v=qv(),l!==null&&!ai?(uu(l,u,T),nl(l,u,T)):(tn&&v&&Lv(u),u.flags|=1,Zn(l,u,h,T),u.child)}function Wl(l,u,h,v,S){if(su(u),u.stateNode===null){var T=eu,B=h.contextType;typeof B=="object"&&B!==null&&(T=mr(B)),T=new h(v,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Bh,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=v,T.state=u.memoizedState,T.refs={},au(u),B=h.contextType,T.context=typeof B=="object"&&B!==null?mr(B):eu,T.state=u.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(Cf(u,h,B,v),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(B=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),B!==T.state&&Bh.enqueueReplaceState(T,T.state,null),Ci(u,v,T,S),Po(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){T=u.stateNode;var q=u.memoizedProps,ee=ql(h,q);T.props=ee;var de=T.context,_e=h.contextType;B=eu,typeof _e=="object"&&_e!==null&&(B=mr(_e));var Me=h.getDerivedStateFromProps;_e=typeof Me=="function"||typeof T.getSnapshotBeforeUpdate=="function",q=u.pendingProps!==q,_e||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(q||de!==B)&&ax(u,T,v,B),ua=!1;var pe=u.memoizedState;T.state=pe,Ci(u,v,T,S),Po(),de=u.memoizedState,q||pe!==de||ua?(typeof Me=="function"&&(Cf(u,h,Me,v),de=u.memoizedState),(ee=ua||zh(u,h,ee,v,pe,de,B))?(_e||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=de),T.props=v,T.state=de,T.context=B,v=ee):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{T=u.stateNode,xf(l,u),B=u.memoizedProps,_e=ql(h,B),T.props=_e,Me=u.pendingProps,pe=T.context,de=h.contextType,ee=eu,typeof de=="object"&&de!==null&&(ee=mr(de)),q=h.getDerivedStateFromProps,(de=typeof q=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==Me||pe!==ee)&&ax(u,T,v,ee),ua=!1,pe=u.memoizedState,T.state=pe,Ci(u,v,T,S),Po();var he=u.memoizedState;B!==Me||pe!==he||ua||l!==null&&l.dependencies!==null&&Bm(l.dependencies)?(typeof q=="function"&&(Cf(u,h,q,v),he=u.memoizedState),(_e=ua||zh(u,h,_e,v,pe,he,ee)||l!==null&&l.dependencies!==null&&Bm(l.dependencies))?(de||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,he,ee),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,he,ee)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===l.memoizedProps&&pe===l.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&pe===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=he),T.props=v,T.state=he,T.context=ee,v=_e):(typeof T.componentDidUpdate!="function"||B===l.memoizedProps&&pe===l.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&pe===l.memoizedState||(u.flags|=1024),v=!1)}return T=v,ot(l,u),v=(u.flags&128)!==0,T||v?(T=u.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,l!==null&&v?(u.child=mu(u,l.child,null,S),u.child=mu(u,null,h,S)):Zn(l,u,h,S),u.memoizedState=T.state,l=u.child):l=nl(l,u,S),l}function dx(l,u,h,v){return vh(),u.flags|=256,Zn(l,u,h,v),u.child}var Fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fg(l){return{baseLanes:l,cachePool:B1()}}function li(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=lo),l}function hx(l,u,h){var v=u.pendingProps,S=!1,T=(u.flags&128)!==0,B;if((B=T)||(B=l!==null&&l.memoizedState===null?!1:(gr.current&2)!==0),B&&(S=!0,u.flags&=-129),B=(u.flags&32)!==0,u.flags&=-33,l===null){if(tn){if(S?oo(u):tl(),tn){var q=sr,ee;if(ee=q){e:{for(ee=q,q=cs;ee.nodeType!==8;){if(!q){q=null;break e}if(ee=zo(ee.nextSibling),ee===null){q=null;break e}}q=ee}q!==null?(u.memoizedState={dehydrated:q,treeContext:Jn!==null?{id:ir,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},ee=ls(18,null,null,0),ee.stateNode=q,ee.return=u,u.child=ee,$r=u,sr=null,ee=!0):ee=!1}ee||ro(u)}if(q=u.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return qi(q)?u.lanes=32:u.lanes=536870912,null;da(u)}return q=v.children,v=v.fallback,S?(tl(),S=u.mode,q=Hh({mode:"hidden",children:q},S),v=nu(v,S,h,null),q.return=u,v.return=u,q.sibling=v,u.child=q,S=u.child,S.memoizedState=fg(h),S.childLanes=li(l,B,h),u.memoizedState=Fh,v):(oo(u),f0(u,q))}if(ee=l.memoizedState,ee!==null&&(q=ee.dehydrated,q!==null)){if(T)u.flags&256?(oo(u),u.flags&=-257,u=d0(l,u,h)):u.memoizedState!==null?(tl(),u.child=l.child,u.flags|=128,u=null):(tl(),S=v.fallback,q=u.mode,v=Hh({mode:"visible",children:v.children},q),S=nu(S,q,h,null),S.flags|=2,v.return=u,S.return=u,v.sibling=S,u.child=v,mu(u,l.child,null,h),v=u.child,v.memoizedState=fg(h),v.childLanes=li(l,B,h),u.memoizedState=Fh,u=S);else if(oo(u),qi(q)){if(B=q.nextSibling&&q.nextSibling.dataset,B)var de=B.dgst;B=de,v=Error(r(419)),v.stack="",v.digest=B,zl({value:v,source:null,stack:null}),u=d0(l,u,h)}else if(ai||bh(l,u,h,!1),B=(h&l.childLanes)!==0,ai||B){if(B=Qn,B!==null&&(v=h&-h,v=(v&42)!==0?1:vn(v),v=(v&(B.suspendedLanes|h))!==0?0:v,v!==0&&v!==ee.retryLane))throw ee.retryLane=v,Zc(l,v),Us(B,l,v),fx;q.data==="$?"||k0(),u=d0(l,u,h)}else q.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=ee.treeContext,sr=zo(q.nextSibling),$r=u,tn=!0,Oo=null,cs=!1,l!==null&&(to[no++]=ir,to[no++]=Ya,to[no++]=Jn,ir=l.id,Ya=l.overflow,Jn=u),u=f0(u,v.children),u.flags|=4096);return u}return S?(tl(),S=v.fallback,q=u.mode,ee=l.child,de=ee.sibling,v=Ui(ee,{mode:"hidden",children:v.children}),v.subtreeFlags=ee.subtreeFlags&65011712,de!==null?S=Ui(de,S):(S=nu(S,q,h,null),S.flags|=2),S.return=u,v.return=u,v.sibling=S,u.child=v,v=S,S=u.child,q=l.child.memoizedState,q===null?q=fg(h):(ee=q.cachePool,ee!==null?(de=Fn._currentValue,ee=ee.parent!==de?{parent:de,pool:de}:ee):ee=B1(),q={baseLanes:q.baseLanes|h,cachePool:ee}),S.memoizedState=q,S.childLanes=li(l,B,h),u.memoizedState=Fh,v):(oo(u),h=l.child,l=h.sibling,h=Ui(h,{mode:"visible",children:v.children}),h.return=u,h.sibling=null,l!==null&&(B=u.deletions,B===null?(u.deletions=[l],u.flags|=16):B.push(l)),u.child=h,u.memoizedState=null,h)}function f0(l,u){return u=Hh({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Hh(l,u){return l=ls(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function d0(l,u,h){return mu(u,l.child,null,h),l=f0(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function h0(l,u,h){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),us(l.return,u,h)}function p0(l,u,h,v,S){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=h,T.tailMode=S)}function px(l,u,h){var v=u.pendingProps,S=v.revealOrder,T=v.tail;if(Zn(l,u,v.children,h),v=gr.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&h0(l,h,u);else if(l.tag===19)h0(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(ne(gr,v),S){case"forwards":for(h=u.child,S=null;h!==null;)l=h.alternate,l!==null&&Vh(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=u.child,u.child=null):(S=h.sibling,h.sibling=null),p0(u,!1,S,h,T);break;case"backwards":for(h=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Vh(l)===null){u.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}p0(u,!0,h,null,T);break;case"together":p0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function nl(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),Xl|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(bh(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=Ui(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=Ui(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function Vo(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Bm(l)))}function $i(l,u,h){switch(u.tag){case 3:Le(u,u.stateNode.containerInfo),Ls(u,Fn,l.memoizedState.cache),vh();break;case 27:case 5:it(u);break;case 4:Le(u,u.stateNode.containerInfo);break;case 10:Ls(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(oo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?hx(l,u,h):(oo(u),l=nl(l,u,h),l!==null?l.sibling:null);oo(u);break;case 19:var S=(l.flags&128)!==0;if(v=(h&u.childLanes)!==0,v||(bh(l,u,h,!1),v=(h&u.childLanes)!==0),S){if(v)return px(l,u,h);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ne(gr,gr.current),v)break;return null;case 22:case 23:return u.lanes=0,Uh(l,u,h);case 24:Ls(u,Fn,l.memoizedState.cache)}return nl(l,u,h)}function dg(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)ai=!0;else{if(!Vo(l,h)&&(u.flags&128)===0)return ai=!1,$i(l,u,h);ai=(l.flags&131072)!==0}else ai=!1,tn&&(u.flags&1048576)!==0&&Pv(u,mh,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var v=u.elementType,S=v._init;if(v=S(v._payload),u.type=v,typeof v=="function")tu(v)?(l=ql(v,l),u.tag=1,u=Wl(null,u,v,l,h)):(u.tag=0,u=Af(null,u,v,l,h));else{if(v!=null){if(S=v.$$typeof,S===P){u.tag=11,u=ag(null,u,v,l,h);break e}else if(S===O){u.tag=14,u=lg(null,u,v,l,h);break e}}throw u=Te(v)||v,Error(r(306,u,""))}}return u;case 0:return Af(l,u,u.type,u.pendingProps,h);case 1:return v=u.type,S=ql(v,u.pendingProps),Wl(l,u,v,S,h);case 3:e:{if(Le(u,u.stateNode.containerInfo),l===null)throw Error(r(387));v=u.pendingProps;var T=u.memoizedState;S=T.element,xf(l,u),Ci(u,v,null,h);var B=u.memoizedState;if(v=B.cache,Ls(u,Fn,v),v!==T.cache&&Ut(u,[Fn],h,!0),Po(),v=B.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:B.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=dx(l,u,v,h);break e}else if(v!==S){S=ji(Error(r(424)),u),zl(S),u=dx(l,u,v,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(sr=zo(l.firstChild),$r=u,tn=!0,Oo=null,cs=!0,h=sx(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(vh(),v===S){u=nl(l,u,h);break e}Zn(l,u,v,h)}u=u.child}return u;case 26:return ot(l,u),l===null?(h=uS(u.type,null,u.pendingProps,null))?u.memoizedState=h:tn||(h=u.type,l=u.pendingProps,v=wu(ye.current).createElement(h),v[Kn]=u,v[bn]=l,Kr(v,h,l),Sr(v),u.stateNode=v):u.memoizedState=uS(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return it(u),l===null&&tn&&(v=u.stateNode=aS(u.type,u.pendingProps,ye.current),$r=u,cs=!0,S=sr,co(u.type)?(U0=S,sr=zo(v.firstChild)):sr=S),Zn(l,u,u.pendingProps.children,h),ot(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&tn&&((S=v=sr)&&(v=sS(v,u.type,u.pendingProps,cs),v!==null?(u.stateNode=v,$r=u,sr=zo(v.firstChild),cs=!1,S=!0):S=!1),S||ro(u)),it(u),S=u.type,T=u.pendingProps,B=l!==null?l.memoizedProps:null,v=T.children,kg(S,T)?v=null:B!==null&&kg(S,B)&&(u.flags|=32),u.memoizedState!==null&&(S=Hv(l,u,$v,null,null,h),Wf._currentValue=S),ot(l,u),Zn(l,u,v,h),u.child;case 6:return l===null&&tn&&((l=h=sr)&&(h=Dg(h,u.pendingProps,cs),h!==null?(u.stateNode=h,$r=u,sr=null,l=!0):l=!1),l||ro(u)),null;case 13:return hx(l,u,h);case 4:return Le(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=mu(u,null,v,h):Zn(l,u,v,h),u.child;case 11:return ag(l,u,u.type,u.pendingProps,h);case 7:return Zn(l,u,u.pendingProps,h),u.child;case 8:return Zn(l,u,u.pendingProps.children,h),u.child;case 12:return Zn(l,u,u.pendingProps.children,h),u.child;case 10:return v=u.pendingProps,Ls(u,u.type,v.value),Zn(l,u,v.children,h),u.child;case 9:return S=u.type._context,v=u.pendingProps.children,su(u),S=mr(S),v=v(S),u.flags|=1,Zn(l,u,v,h),u.child;case 14:return lg(l,u,u.type,u.pendingProps,h);case 15:return cg(l,u,u.type,u.pendingProps,h);case 19:return px(l,u,h);case 31:return v=u.pendingProps,h=u.mode,v={mode:v.mode,children:v.children},l===null?(h=Hh(v,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=Ui(l.child,v),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return Uh(l,u,h);case 24:return su(u),v=mr(Fn),l===null?(S=Xa(),S===null&&(S=Qn,T=Vv(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=h),S=T),u.memoizedState={parent:v,cache:S},au(u),Ls(u,Fn,S)):((l.lanes&h)!==0&&(xf(l,u),Ci(u,null,null,h),Po()),S=l.memoizedState,T=u.memoizedState,S.parent!==v?(S={parent:v,cache:v},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),Ls(u,Fn,v)):(v=T.cache,Ls(u,Fn,v),v!==S.cache&&Ut(u,[Fn],h,!0))),Zn(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function rl(l){l.flags|=4}function hg(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Yr(u)){if(u=Bs.current,u!==null&&((un&4194048)===un?Hi!==null:(un&62914560)!==un&&(un&536870912)===0||u!==Hi))throw wf=zv,z1;l.flags|=8192}}function pg(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Mr():536870912,l.lanes|=u,Nf|=u)}function $h(l,u){if(!tn)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Hn(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(u)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=h,u}function mx(l,u,h){var v=u.pendingProps;switch(gh(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(u),null;case 1:return Hn(u),null;case 3:return h=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),io(Fn),He(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(yh(u)?rl(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,N1())),Hn(u),null;case 26:return h=u.memoizedState,l===null?(rl(u),h!==null?(Hn(u),hg(u,h)):(Hn(u),u.flags&=-16777217)):h?h!==l.memoizedState?(rl(u),Hn(u),hg(u,h)):(Hn(u),u.flags&=-16777217):(l.memoizedProps!==v&&rl(u),Hn(u),u.flags&=-16777217),null;case 27:Lt(u),h=ye.current;var S=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==v&&rl(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Hn(u),null}l=ge.current,yh(u)?I1(u):(l=aS(S,v,h),u.stateNode=l,rl(u))}return Hn(u),null;case 5:if(Lt(u),h=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&rl(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Hn(u),null}if(l=ge.current,yh(u))I1(u);else{switch(S=wu(ye.current),l){case 1:l=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:l=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":l=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":l=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":l=S.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?S.createElement(h,{is:v.is}):S.createElement(h)}}l[Kn]=u,l[bn]=v;e:for(S=u.child;S!==null;){if(S.tag===5||S.tag===6)l.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===u)break e;for(;S.sibling===null;){if(S.return===null||S.return===u)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}u.stateNode=l;e:switch(Kr(l,h,v),h){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rl(u)}}return Hn(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&rl(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(l=ye.current,yh(u)){if(l=u.stateNode,h=u.memoizedProps,v=null,S=$r,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[Kn]=u,l=!!(l.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||tS(l.nodeValue,h)),l||ro(u)}else l=wu(l).createTextNode(v),l[Kn]=u,u.stateNode=l}return Hn(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=yh(u),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Kn]=u}else vh(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Hn(u),S=!1}else S=N1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(da(u),u):(da(u),null)}if(da(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=v!==null,l=l!==null&&l.memoizedState!==null,h){v=u.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var T=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==S&&(v.flags|=2048)}return h!==l&&h&&(u.child.flags|=8192),pg(u,u.updateQueue),Hn(u),null;case 4:return He(),l===null&&V0(u.stateNode.containerInfo),Hn(u),null;case 10:return io(u.type),Hn(u),null;case 19:if(ve(gr),S=u.memoizedState,S===null)return Hn(u),null;if(v=(u.flags&128)!==0,T=S.rendering,T===null)if(v)$h(S,!1);else{if(yr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(T=Vh(l),T!==null){for(u.flags|=128,$h(S,!1),l=T.updateQueue,u.updateQueue=l,pg(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)ph(h,l),h=h.sibling;return ne(gr,gr.current&1|2),u.child}l=l.sibling}S.tail!==null&&jt()>Pf&&(u.flags|=128,v=!0,$h(S,!1),u.lanes=4194304)}else{if(!v)if(l=Vh(T),l!==null){if(u.flags|=128,v=!0,l=l.updateQueue,u.updateQueue=l,pg(u,l),$h(S,!0),S.tail===null&&S.tailMode==="hidden"&&!T.alternate&&!tn)return Hn(u),null}else 2*jt()-S.renderingStartTime>Pf&&h!==536870912&&(u.flags|=128,v=!0,$h(S,!1),u.lanes=4194304);S.isBackwards?(T.sibling=u.child,u.child=T):(l=S.last,l!==null?l.sibling=T:u.child=T,S.last=T)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=jt(),u.sibling=null,l=gr.current,ne(gr,v?l&1|2:l&1),u):(Hn(u),null);case 22:case 23:return da(u),Fv(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(h&536870912)!==0&&(u.flags&128)===0&&(Hn(u),u.subtreeFlags&6&&(u.flags|=8192)):Hn(u),h=u.updateQueue,h!==null&&pg(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==h&&(u.flags|=2048),l!==null&&ve(ou),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),io(Fn),Hn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function gx(l,u){switch(gh(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return io(Fn),He(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Lt(u),null;case 13:if(da(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));vh()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ve(gr),null;case 4:return He(),null;case 10:return io(u.type),null;case 22:case 23:return da(u),Fv(),l!==null&&ve(ou),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return io(Fn),null;case 25:return null;default:return null}}function yx(l,u){switch(gh(u),u.tag){case 3:io(Fn),He();break;case 26:case 27:case 5:Lt(u);break;case 4:He();break;case 13:da(u);break;case 19:ve(gr);break;case 10:io(u.type);break;case 22:case 23:da(u),Fv(),l!==null&&ve(ou);break;case 24:io(Fn)}}function qh(l,u){try{var h=u.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&l)===l){v=void 0;var T=h.create,B=h.inst;v=T(),B.destroy=v}h=h.next}while(h!==S)}}catch(q){$n(u,u.return,q)}}function Gl(l,u,h){try{var v=u.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var T=S.next;v=T;do{if((v.tag&l)===l){var B=v.inst,q=B.destroy;if(q!==void 0){B.destroy=void 0,S=u;var ee=h,de=q;try{de()}catch(_e){$n(S,ee,_e)}}}v=v.next}while(v!==T)}}catch(_e){$n(u,u.return,_e)}}function vx(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{Uv(u,h)}catch(v){$n(l,l.return,v)}}}function m0(l,u,h){h.props=ql(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(v){$n(l,u,v)}}function Rf(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof h=="function"?l.refCleanup=h(v):h.current=v}}catch(S){$n(l,u,S)}}function pa(l,u){var h=l.ref,v=l.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(S){$n(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){$n(l,u,S)}else h.current=null}function mg(l){var u=l.type,h=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(S){$n(l,l.return,S)}}function gg(l,u,h){try{var v=l.stateNode;vA(v,l.type,h,u),v[bn]=u}catch(S){$n(l,l.return,S)}}function kf(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&co(l.type)||l.tag===4}function Wh(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||kf(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&co(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function yg(l,u,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Ag));else if(v!==4&&(v===27&&co(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(yg(l,u,h),l=l.sibling;l!==null;)yg(l,u,h),l=l.sibling}function Gh(l,u,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(v!==4&&(v===27&&co(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Gh(l,u,h),l=l.sibling;l!==null;)Gh(l,u,h),l=l.sibling}function Kh(l){var u=l.stateNode,h=l.memoizedProps;try{for(var v=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);Kr(u,v,h),u[Kn]=l,u[bn]=h}catch(T){$n(l,l.return,T)}}var ma=!1,Rn=!1,il=!1,bx=typeof WeakSet=="function"?WeakSet:Set,Wr=null;function iA(l,u){if(l=l.containerInfo,Bo=Pg,l=M1(l),Dv(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var B=0,q=-1,ee=-1,de=0,_e=0,Me=l,pe=null;t:for(;;){for(var he;Me!==h||S!==0&&Me.nodeType!==3||(q=B+S),Me!==T||v!==0&&Me.nodeType!==3||(ee=B+v),Me.nodeType===3&&(B+=Me.nodeValue.length),(he=Me.firstChild)!==null;)pe=Me,Me=he;for(;;){if(Me===l)break t;if(pe===h&&++de===S&&(q=B),pe===T&&++_e===v&&(ee=B),(he=Me.nextSibling)!==null)break;Me=pe,pe=Me.parentNode}Me=he}h=q===-1||ee===-1?null:{start:q,end:ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(Rg={focusedElem:l,selectionRange:h},Pg=!1,Wr=u;Wr!==null;)if(u=Wr,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Wr=l;else for(;Wr!==null;){switch(u=Wr,T=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&T!==null){l=void 0,h=u,S=T.memoizedProps,T=T.memoizedState,v=h.stateNode;try{var ct=ql(h.type,S,h.elementType===h.type);l=v.getSnapshotBeforeUpdate(ct,T),v.__reactInternalSnapshotBeforeUpdate=l}catch(lt){$n(h,h.return,lt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)j0(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":j0(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Wr=l;break}Wr=u.return}}function wx(l,u,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Kl(l,h),v&4&&qh(5,h);break;case 1:if(Kl(l,h),v&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(B){$n(h,h.return,B)}else{var S=ql(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(B){$n(h,h.return,B)}}v&64&&vx(h),v&512&&Rf(h,h.return);break;case 3:if(Kl(l,h),v&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Uv(l,u)}catch(B){$n(h,h.return,B)}}break;case 27:u===null&&v&4&&Kh(h);case 26:case 5:Kl(l,h),u===null&&v&4&&mg(h),v&512&&Rf(h,h.return);break;case 12:Kl(l,h);break;case 13:Kl(l,h),v&4&&Ex(l,h),v&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=Sg.bind(null,h),Uf(l,h))));break;case 22:if(v=h.memoizedState!==null||ma,!v){u=u!==null&&u.memoizedState!==null||Rn,S=ma;var T=Rn;ma=v,(Rn=u)&&!T?ol(l,h,(h.subtreeFlags&8772)!==0):Kl(l,h),ma=S,Rn=T}break;case 30:break;default:Kl(l,h)}}function xx(l){var u=l.alternate;u!==null&&(l.alternate=null,xx(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&kl(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var or=null,ms=!1;function sl(l,u,h){for(h=h.child;h!==null;)Sx(l,u,h),h=h.sibling}function Sx(l,u,h){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(yn,h)}catch{}switch(h.tag){case 26:Rn||pa(h,u),sl(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Rn||pa(h,u);var v=or,S=ms;co(h.type)&&(or=h.stateNode,ms=!1),sl(l,u,h),sp(h.stateNode),or=v,ms=S;break;case 5:Rn||pa(h,u);case 6:if(v=or,S=ms,or=null,sl(l,u,h),or=v,ms=S,or!==null)if(ms)try{(or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or).removeChild(h.stateNode)}catch(T){$n(h,u,T)}else try{or.removeChild(h.stateNode)}catch(T){$n(h,u,T)}break;case 18:or!==null&&(ms?(l=or,Mg(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),hp(l)):Mg(or,h.stateNode));break;case 4:v=or,S=ms,or=h.stateNode.containerInfo,ms=!0,sl(l,u,h),or=v,ms=S;break;case 0:case 11:case 14:case 15:Rn||Gl(2,h,u),Rn||Gl(4,h,u),sl(l,u,h);break;case 1:Rn||(pa(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"&&m0(h,u,v)),sl(l,u,h);break;case 21:sl(l,u,h);break;case 22:Rn=(v=Rn)||h.memoizedState!==null,sl(l,u,h),Rn=v;break;default:sl(l,u,h)}}function Ex(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{hp(l)}catch(h){$n(u,u.return,h)}}function sA(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new bx),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new bx),u;default:throw Error(r(435,l.tag))}}function g0(l,u){var h=sA(l);u.forEach(function(v){var S=fA.bind(null,l,v);h.has(v)||(h.add(v),v.then(S,S))})}function zs(l,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v],T=l,B=u,q=B;e:for(;q!==null;){switch(q.tag){case 27:if(co(q.type)){or=q.stateNode,ms=!1;break e}break;case 5:or=q.stateNode,ms=!1;break e;case 3:case 4:or=q.stateNode.containerInfo,ms=!0;break e}q=q.return}if(or===null)throw Error(r(160));Sx(T,B,S),or=null,ms=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)y0(u,l),u=u.sibling}var ao=null;function y0(l,u){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:zs(u,l),gs(l),v&4&&(Gl(3,l,l.return),qh(3,l),Gl(5,l,l.return));break;case 1:zs(u,l),gs(l),v&512&&(Rn||h===null||pa(h,h.return)),v&64&&ma&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var S=ao;if(zs(u,l),gs(l),v&512&&(Rn||h===null||pa(h,h.return)),v&4){var T=h!==null?h.memoizedState:null;if(v=l.memoizedState,h===null)if(v===null)if(l.stateNode===null){e:{v=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":T=S.getElementsByTagName("title")[0],(!T||T[Bc]||T[Kn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(v),S.head.insertBefore(T,S.querySelector("head > title"))),Kr(T,v,h),T[Kn]=l,Sr(T),v=T;break e;case"link":var B=hS("link","href",S).get(v+(h.href||""));if(B){for(var q=0;q<B.length;q++)if(T=B[q],T.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&T.getAttribute("rel")===(h.rel==null?null:h.rel)&&T.getAttribute("title")===(h.title==null?null:h.title)&&T.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(q,1);break t}}T=S.createElement(v),Kr(T,v,h),S.head.appendChild(T);break;case"meta":if(B=hS("meta","content",S).get(v+(h.content||""))){for(q=0;q<B.length;q++)if(T=B[q],T.getAttribute("content")===(h.content==null?null:""+h.content)&&T.getAttribute("name")===(h.name==null?null:h.name)&&T.getAttribute("property")===(h.property==null?null:h.property)&&T.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&T.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(q,1);break t}}T=S.createElement(v),Kr(T,v,h),S.head.appendChild(T);break;default:throw Error(r(468,v))}T[Kn]=l,Sr(T),v=T}l.stateNode=v}else pS(S,l.type,l.stateNode);else l.stateNode=dS(S,v,l.memoizedProps);else T!==v?(T===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):T.count--,v===null?pS(S,l.type,l.stateNode):dS(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&gg(l,l.memoizedProps,h.memoizedProps)}break;case 27:zs(u,l),gs(l),v&512&&(Rn||h===null||pa(h,h.return)),h!==null&&v&4&&gg(l,l.memoizedProps,h.memoizedProps);break;case 5:if(zs(u,l),gs(l),v&512&&(Rn||h===null||pa(h,h.return)),l.flags&32){S=l.stateNode;try{is(S,"")}catch(he){$n(l,l.return,he)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,gg(l,S,h!==null?h.memoizedProps:S)),v&1024&&(il=!0);break;case 6:if(zs(u,l),gs(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,h=l.stateNode;try{h.nodeValue=v}catch(he){$n(l,l.return,he)}}break;case 3:if(qf=null,S=ao,ao=Tt(u.containerInfo),zs(u,l),ao=S,gs(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{hp(u.containerInfo)}catch(he){$n(l,l.return,he)}il&&(il=!1,_x(l));break;case 4:v=ao,ao=Tt(l.stateNode.containerInfo),zs(u,l),gs(l),ao=v;break;case 12:zs(u,l),gs(l);break;case 13:zs(u,l),gs(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(_0=jt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,g0(l,v)));break;case 22:S=l.memoizedState!==null;var ee=h!==null&&h.memoizedState!==null,de=ma,_e=Rn;if(ma=de||S,Rn=_e||ee,zs(u,l),Rn=_e,ma=de,gs(l),v&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(h===null||ee||ma||Rn||vu(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){ee=h=u;try{if(T=ee.stateNode,S)B=T.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{q=ee.stateNode;var Me=ee.memoizedProps.style,pe=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;q.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(he){$n(ee,ee.return,he)}}}else if(u.tag===6){if(h===null){ee=u;try{ee.stateNode.nodeValue=S?"":ee.memoizedProps}catch(he){$n(ee,ee.return,he)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,g0(l,h))));break;case 19:zs(u,l),gs(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,g0(l,v)));break;case 30:break;case 21:break;default:zs(u,l),gs(l)}}function gs(l){var u=l.flags;if(u&2){try{for(var h,v=l.return;v!==null;){if(kf(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,T=Wh(l);Gh(l,T,S);break;case 5:var B=h.stateNode;h.flags&32&&(is(B,""),h.flags&=-33);var q=Wh(l);Gh(l,q,B);break;case 3:case 4:var ee=h.stateNode.containerInfo,de=Wh(l);yg(l,de,ee);break;default:throw Error(r(161))}}catch(_e){$n(l,l.return,_e)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function _x(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;_x(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Kl(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)wx(l,u.alternate,u),u=u.sibling}function vu(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Gl(4,u,u.return),vu(u);break;case 1:pa(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&m0(u,u.return,h),vu(u);break;case 27:sp(u.stateNode);case 26:case 5:pa(u,u.return),vu(u);break;case 22:u.memoizedState===null&&vu(u);break;case 30:vu(u);break;default:vu(u)}l=l.sibling}}function ol(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,S=l,T=u,B=T.flags;switch(T.tag){case 0:case 11:case 15:ol(S,T,h),qh(4,T);break;case 1:if(ol(S,T,h),v=T,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(de){$n(v,v.return,de)}if(v=T,S=v.updateQueue,S!==null){var q=v.stateNode;try{var ee=S.shared.hiddenCallbacks;if(ee!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ee.length;S++)H1(ee[S],q)}catch(de){$n(v,v.return,de)}}h&&B&64&&vx(T),Rf(T,T.return);break;case 27:Kh(T);case 26:case 5:ol(S,T,h),h&&v===null&&B&4&&mg(T),Rf(T,T.return);break;case 12:ol(S,T,h);break;case 13:ol(S,T,h),h&&B&4&&Ex(S,T);break;case 22:T.memoizedState===null&&ol(S,T,h),Rf(T,T.return);break;case 30:break;default:ol(S,T,h)}u=u.sibling}}function v0(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&wh(h))}function b0(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&wh(l))}function ga(l,u,h,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Tx(l,u,h,v),u=u.sibling}function Tx(l,u,h,v){var S=u.flags;switch(u.tag){case 0:case 11:case 15:ga(l,u,h,v),S&2048&&qh(9,u);break;case 1:ga(l,u,h,v);break;case 3:ga(l,u,h,v),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&wh(l)));break;case 12:if(S&2048){ga(l,u,h,v),l=u.stateNode;try{var T=u.memoizedProps,B=T.id,q=T.onPostCommit;typeof q=="function"&&q(B,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ee){$n(u,u.return,ee)}}else ga(l,u,h,v);break;case 13:ga(l,u,h,v);break;case 23:break;case 22:T=u.stateNode,B=u.alternate,u.memoizedState!==null?T._visibility&2?ga(l,u,h,v):Yh(l,u):T._visibility&2?ga(l,u,h,v):(T._visibility|=2,Mf(l,u,h,v,(u.subtreeFlags&10256)!==0)),S&2048&&v0(B,u);break;case 24:ga(l,u,h,v),S&2048&&b0(u.alternate,u);break;default:ga(l,u,h,v)}}function Mf(l,u,h,v,S){for(S=S&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var T=l,B=u,q=h,ee=v,de=B.flags;switch(B.tag){case 0:case 11:case 15:Mf(T,B,q,ee,S),qh(8,B);break;case 23:break;case 22:var _e=B.stateNode;B.memoizedState!==null?_e._visibility&2?Mf(T,B,q,ee,S):Yh(T,B):(_e._visibility|=2,Mf(T,B,q,ee,S)),S&&de&2048&&v0(B.alternate,B);break;case 24:Mf(T,B,q,ee,S),S&&de&2048&&b0(B.alternate,B);break;default:Mf(T,B,q,ee,S)}u=u.sibling}}function Yh(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,v=u,S=v.flags;switch(v.tag){case 22:Yh(h,v),S&2048&&v0(v.alternate,v);break;case 24:Yh(h,v),S&2048&&b0(v.alternate,v);break;default:Yh(h,v)}u=u.sibling}}var Ri=8192;function Df(l){if(l.subtreeFlags&Ri)for(l=l.child;l!==null;)Cx(l),l=l.sibling}function Cx(l){switch(l.tag){case 26:Df(l),l.flags&Ri&&l.memoizedState!==null&&MA(ao,l.memoizedState,l.memoizedProps);break;case 5:Df(l);break;case 3:case 4:var u=ao;ao=Tt(l.stateNode.containerInfo),Df(l),ao=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Ri,Ri=16777216,Df(l),Ri=u):Df(l));break;default:Df(l)}}function Ax(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function If(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Wr=v,kx(v,l)}Ax(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Rx(l),l=l.sibling}function Rx(l){switch(l.tag){case 0:case 11:case 15:If(l),l.flags&2048&&Gl(9,l,l.return);break;case 3:If(l);break;case 12:If(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,vg(l)):If(l);break;default:If(l)}}function vg(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Wr=v,kx(v,l)}Ax(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Gl(8,u,u.return),vg(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,vg(u));break;default:vg(u)}l=l.sibling}}function kx(l,u){for(;Wr!==null;){var h=Wr;switch(h.tag){case 0:case 11:case 15:Gl(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:wh(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,Wr=v;else e:for(h=l;Wr!==null;){v=Wr;var S=v.sibling,T=v.return;if(xx(v),v===h){Wr=null;break e}if(S!==null){S.return=T,Wr=S;break e}Wr=T}}}var oA={getCacheForType:function(l){var u=mr(Fn),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h}},w0=typeof WeakMap=="function"?WeakMap:Map,On=0,Qn=null,Xt=null,un=0,Nn=0,js=null,Yl=!1,Of=!1,x0=!1,al=0,yr=0,Xl=0,bu=0,S0=0,lo=0,Nf=0,Xh=null,ys=null,E0=!1,_0=0,Pf=1/0,Qh=null,Ql=null,yi=0,Jl=null,Lf=null,Vf=0,T0=0,C0=null,Mx=null,Bf=0,A0=null;function ki(){if((On&2)!==0&&un!==0)return un&-un;if(J.T!==null){var l=bf;return l!==0?l:Tg()}return mi()}function Dx(){lo===0&&(lo=(un&536870912)===0||tn?Tn():536870912);var l=Bs.current;return l!==null&&(l.flags|=32),lo}function Us(l,u,h){(l===Qn&&(Nn===2||Nn===9)||l.cancelPendingCommit!==null)&&(zf(l,0),Zl(l,un,lo,!1)),Si(l,h),((On&2)===0||l!==Qn)&&(l===Qn&&((On&2)===0&&(bu|=h),yr===4&&Zl(l,un,lo,!1)),ya(l))}function Ix(l,u,h){if((On&6)!==0)throw Error(r(327));var v=!h&&(u&124)===0&&(u&l.expiredLanes)===0||It(l,u),S=v?cA(l,u):M0(l,u,!0),T=v;do{if(S===0){Of&&!v&&Zl(l,u,0,!1);break}else{if(h=l.current.alternate,T&&!aA(h)){S=M0(l,u,!1),T=!1;continue}if(S===2){if(T=u,l.errorRecoveryDisabledLanes&T)var B=0;else B=l.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){u=B;e:{var q=l;S=Xh;var ee=q.current.memoizedState.isDehydrated;if(ee&&(zf(q,B).flags|=256),B=M0(q,B,!1),B!==2){if(x0&&!ee){q.errorRecoveryDisabledLanes|=T,bu|=T,S=4;break e}T=ys,ys=S,T!==null&&(ys===null?ys=T:ys.push.apply(ys,T))}S=B}if(T=!1,S!==2)continue}}if(S===1){zf(l,0),Zl(l,u,0,!0);break}e:{switch(v=l,T=S,T){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Zl(v,u,lo,!Yl);break e;case 2:ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(S=_0+300-jt(),10<S)){if(Zl(v,u,lo,!Yl),et(v,0,!0)!==0)break e;v.timeoutHandle=nS(Ox.bind(null,v,h,ys,Qh,E0,u,lo,bu,Nf,Yl,T,2,-0,0),S);break e}Ox(v,h,ys,Qh,E0,u,lo,bu,Nf,Yl,T,0,-0,0)}}break}while(!0);ya(l)}function Ox(l,u,h,v,S,T,B,q,ee,de,_e,Me,pe,he){if(l.timeoutHandle=-1,Me=u.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(ci={stylesheets:null,count:0,unsuspend:kA},Cx(u),Me=DA(),Me!==null)){l.cancelPendingCommit=Me(Jh.bind(null,l,u,T,h,v,S,B,q,ee,_e,1,pe,he)),Zl(l,T,B,!de);return}Jh(l,u,T,h,v,S,B,q,ee)}function aA(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var S=h[v],T=S.getSnapshot;S=S.value;try{if(!Ns(T(),S))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Zl(l,u,h,v){u&=~S0,u&=~bu,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var S=u;0<S;){var T=31-rr(S),B=1<<T;v[T]=-1,S&=~B}h!==0&&st(l,h,u)}function bg(){return(On&6)===0?(tp(0),!1):!0}function R0(){if(Xt!==null){if(Nn===0)var l=Xt.return;else l=Xt,$=jl=null,$m(l),qr=null,ps=0,l=Xt;for(;l!==null;)yx(l.alternate,l),l=l.return;Xt=null}}function zf(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,wA(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),R0(),Qn=l,Xt=h=Ui(l.current,null),un=u,Nn=0,js=null,Yl=!1,Of=It(l,u),x0=!1,Nf=lo=S0=bu=Xl=yr=0,ys=Xh=null,E0=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var S=31-rr(v),T=1<<S;u|=l[S],v&=~T}return al=u,Jc(),h}function Nx(l,u){Vt=null,J.H=Ph,u===Fi||u===Um?(u=U1(),Nn=3):u===z1?(u=U1(),Nn=4):Nn=u===fx?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,js=u,Xt===null&&(yr=1,jh(l,ji(u,l.current)))}function Px(){var l=J.H;return J.H=Ph,l===null?Ph:l}function Lx(){var l=J.A;return J.A=oA,l}function k0(){yr=4,Yl||(un&4194048)!==un&&Bs.current!==null||(Of=!0),(Xl&134217727)===0&&(bu&134217727)===0||Qn===null||Zl(Qn,un,lo,!1)}function M0(l,u,h){var v=On;On|=2;var S=Px(),T=Lx();(Qn!==l||un!==u)&&(Qh=null,zf(l,u)),u=!1;var B=yr;e:do try{if(Nn!==0&&Xt!==null){var q=Xt,ee=js;switch(Nn){case 8:R0(),B=6;break e;case 3:case 2:case 9:case 6:Bs.current===null&&(u=!0);var de=Nn;if(Nn=0,js=null,jf(l,q,ee,de),h&&Of){B=0;break e}break;default:de=Nn,Nn=0,js=null,jf(l,q,ee,de)}}lA(),B=yr;break}catch(_e){Nx(l,_e)}while(!0);return u&&l.shellSuspendCounter++,$=jl=null,On=v,J.H=S,J.A=T,Xt===null&&(Qn=null,un=0,Jc()),B}function lA(){for(;Xt!==null;)D0(Xt)}function cA(l,u){var h=On;On|=2;var v=Px(),S=Lx();Qn!==l||un!==u?(Qh=null,Pf=jt()+500,zf(l,u)):Of=It(l,u);e:do try{if(Nn!==0&&Xt!==null){u=Xt;var T=js;t:switch(Nn){case 1:Nn=0,js=null,jf(l,u,T,1);break;case 2:case 9:if(j1(T)){Nn=0,js=null,Bx(u);break}u=function(){Nn!==2&&Nn!==9||Qn!==l||(Nn=7),ya(l)},T.then(u,u);break e;case 3:Nn=7;break e;case 4:Nn=5;break e;case 7:j1(T)?(Nn=0,js=null,Bx(u)):(Nn=0,js=null,jf(l,u,T,7));break;case 5:var B=null;switch(Xt.tag){case 26:B=Xt.memoizedState;case 5:case 27:var q=Xt;if(!B||Yr(B)){Nn=0,js=null;var ee=q.sibling;if(ee!==null)Xt=ee;else{var de=q.return;de!==null?(Xt=de,wg(de)):Xt=null}break t}}Nn=0,js=null,jf(l,u,T,5);break;case 6:Nn=0,js=null,jf(l,u,T,6);break;case 8:R0(),yr=6;break e;default:throw Error(r(462))}}Vx();break}catch(_e){Nx(l,_e)}while(!0);return $=jl=null,J.H=v,J.A=S,On=h,Xt!==null?0:(Qn=null,un=0,Jc(),yr)}function Vx(){for(;Xt!==null&&!tr();)D0(Xt)}function D0(l){var u=dg(l.alternate,l,al);l.memoizedProps=l.pendingProps,u===null?wg(l):Xt=u}function Bx(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=ug(h,u,u.pendingProps,u.type,void 0,un);break;case 11:u=ug(h,u,u.pendingProps,u.type.render,u.ref,un);break;case 5:$m(u);default:yx(h,u),u=Xt=ph(u,al),u=dg(h,u,al)}l.memoizedProps=l.pendingProps,u===null?wg(l):Xt=u}function jf(l,u,h,v){$=jl=null,$m(u),qr=null,ps=0;var S=u.return;try{if(ux(l,S,u,h,un)){yr=1,jh(l,ji(h,l.current)),Xt=null;return}}catch(T){if(S!==null)throw Xt=S,T;yr=1,jh(l,ji(h,l.current)),Xt=null;return}u.flags&32768?(tn||v===1?l=!0:Of||(un&536870912)!==0?l=!1:(Yl=l=!0,(v===2||v===9||v===3||v===6)&&(v=Bs.current,v!==null&&v.tag===13&&(v.flags|=16384))),zx(u,l)):wg(u)}function wg(l){var u=l;do{if((u.flags&32768)!==0){zx(u,Yl);return}l=u.return;var h=mx(u.alternate,u,al);if(h!==null){Xt=h;return}if(u=u.sibling,u!==null){Xt=u;return}Xt=u=l}while(u!==null);yr===0&&(yr=5)}function zx(l,u){do{var h=gx(l.alternate,l);if(h!==null){h.flags&=32767,Xt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){Xt=l;return}Xt=l=h}while(l!==null);yr=6,Xt=null}function Jh(l,u,h,v,S,T,B,q,ee){l.cancelPendingCommit=null;do xg();while(yi!==0);if((On&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(T=u.lanes|u.childLanes,T|=Ov,Ei(l,h,T,B,q,ee),l===Qn&&(Xt=Qn=null,un=0),Lf=u,Jl=l,Vf=h,T0=T,C0=S,Mx=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Gx(ln,function(){return $x(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,S=se.p,se.p=2,B=On,On|=4;try{iA(l,u,h)}finally{On=B,se.p=S,J.T=v}}yi=1,jx(),Ux(),Fx()}}function jx(){if(yi===1){yi=0;var l=Jl,u=Lf,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=J.T,J.T=null;var v=se.p;se.p=2;var S=On;On|=4;try{y0(u,l);var T=Rg,B=M1(l.containerInfo),q=T.focusedElem,ee=T.selectionRange;if(B!==q&&q&&q.ownerDocument&&k1(q.ownerDocument.documentElement,q)){if(ee!==null&&Dv(q)){var de=ee.start,_e=ee.end;if(_e===void 0&&(_e=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(_e,q.value.length);else{var Me=q.ownerDocument||document,pe=Me&&Me.defaultView||window;if(pe.getSelection){var he=pe.getSelection(),ct=q.textContent.length,lt=Math.min(ee.start,ct),Vn=ee.end===void 0?lt:Math.min(ee.end,ct);!he.extend&&lt>Vn&&(B=Vn,Vn=lt,lt=B);var le=Mv(q,lt),ie=Mv(q,Vn);if(le&&ie&&(he.rangeCount!==1||he.anchorNode!==le.node||he.anchorOffset!==le.offset||he.focusNode!==ie.node||he.focusOffset!==ie.offset)){var fe=Me.createRange();fe.setStart(le.node,le.offset),he.removeAllRanges(),lt>Vn?(he.addRange(fe),he.extend(ie.node,ie.offset)):(fe.setEnd(ie.node,ie.offset),he.addRange(fe))}}}}for(Me=[],he=q;he=he.parentNode;)he.nodeType===1&&Me.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Me.length;q++){var Ce=Me[q];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Pg=!!Bo,Rg=Bo=null}finally{On=S,se.p=v,J.T=h}}l.current=u,yi=2}}function Ux(){if(yi===2){yi=0;var l=Jl,u=Lf,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=J.T,J.T=null;var v=se.p;se.p=2;var S=On;On|=4;try{wx(l,u.alternate,u)}finally{On=S,se.p=v,J.T=h}}yi=3}}function Fx(){if(yi===4||yi===3){yi=0,kr();var l=Jl,u=Lf,h=Vf,v=Mx;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?yi=5:(yi=0,Lf=Jl=null,Hx(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(Ql=null),ur(h),u=u.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(yn,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=J.T,S=se.p,se.p=2,J.T=null;try{for(var T=l.onRecoverableError,B=0;B<v.length;B++){var q=v[B];T(q.value,{componentStack:q.stack})}}finally{J.T=u,se.p=S}}(Vf&3)!==0&&xg(),ya(l),S=l.pendingLanes,(h&4194090)!==0&&(S&42)!==0?l===A0?Bf++:(Bf=0,A0=l):Bf=0,tp(0)}}function Hx(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,wh(u)))}function xg(l){return jx(),Ux(),Fx(),$x()}function $x(){if(yi!==5)return!1;var l=Jl,u=T0;T0=0;var h=ur(Vf),v=J.T,S=se.p;try{se.p=32>h?32:h,J.T=null,h=C0,C0=null;var T=Jl,B=Vf;if(yi=0,Lf=Jl=null,Vf=0,(On&6)!==0)throw Error(r(331));var q=On;if(On|=4,Rx(T.current),Tx(T,T.current,B,h),On=q,tp(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(yn,T)}catch{}return!0}finally{se.p=S,J.T=v,Hx(l,u)}}function qx(l,u,h){u=ji(h,u),u=og(l.stateNode,u,2),l=Qa(l,u,2),l!==null&&(Si(l,2),ya(l))}function $n(l,u,h){if(l.tag===3)qx(l,l,h);else for(;u!==null;){if(u.tag===3){qx(u,l,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ql===null||!Ql.has(v))){l=ji(h,l),h=u0(2),v=Qa(u,h,2),v!==null&&(cx(h,v,u,l),Si(v,2),ya(v));break}}u=u.return}}function I0(l,u,h){var v=l.pingCache;if(v===null){v=l.pingCache=new w0;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(h)||(x0=!0,S.add(h),l=uA.bind(null,l,u,h),u.then(l,l))}function uA(l,u,h){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,Qn===l&&(un&h)===h&&(yr===4||yr===3&&(un&62914560)===un&&300>jt()-_0?(On&2)===0&&zf(l,0):S0|=h,Nf===un&&(Nf=0)),ya(l)}function Wx(l,u){u===0&&(u=Mr()),l=Zc(l,u),l!==null&&(Si(l,u),ya(l))}function Sg(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),Wx(l,h)}function fA(l,u){var h=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),Wx(l,h)}function Gx(l,u){return Et(l,u)}var Zh=null,ec=null,Eg=!1,ep=!1,_g=!1,tc=0;function ya(l){l!==ec&&l.next===null&&(ec===null?Zh=ec=l:ec=ec.next=l),ep=!0,Eg||(Eg=!0,O0())}function tp(l,u){if(!_g&&ep){_g=!0;do for(var h=!1,v=Zh;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var T=0;else{var B=v.suspendedLanes,q=v.pingedLanes;T=(1<<31-rr(42|l)+1)-1,T&=S&~(B&~q),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(h=!0,Yx(v,T))}else T=un,T=et(v,v===Qn?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||It(v,T)||(h=!0,Yx(v,T));v=v.next}while(h);_g=!1}}function dA(){np()}function np(){ep=Eg=!1;var l=0;tc!==0&&(bA()&&(l=tc),tc=0);for(var u=jt(),h=null,v=Zh;v!==null;){var S=v.next,T=rp(v,u);T===0?(v.next=null,h===null?Zh=S:h.next=S,S===null&&(ec=h)):(h=v,(l!==0||(T&3)!==0)&&(ep=!0)),v=S}tp(l)}function rp(l,u){for(var h=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,T=l.pendingLanes&-62914561;0<T;){var B=31-rr(T),q=1<<B,ee=S[B];ee===-1?((q&h)===0||(q&v)!==0)&&(S[B]=Ct(q,u)):ee<=u&&(l.expiredLanes|=q),T&=~q}if(u=Qn,h=un,h=et(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,h===0||l===u&&(Nn===2||Nn===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&Dt(v),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||It(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(v!==null&&Dt(v),ur(h)){case 2:case 8:h=nr;break;case 32:h=ln;break;case 268435456:h=Wn;break;default:h=ln}return v=Kx.bind(null,l),h=Et(h,v),l.callbackPriority=u,l.callbackNode=h,u}return v!==null&&v!==null&&Dt(v),l.callbackPriority=2,l.callbackNode=null,2}function Kx(l,u){if(yi!==0&&yi!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(xg()&&l.callbackNode!==h)return null;var v=un;return v=et(l,l===Qn?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(Ix(l,v,u),rp(l,jt()),l.callbackNode!=null&&l.callbackNode===h?Kx.bind(null,l):null)}function Yx(l,u){if(xg())return null;Ix(l,u,!0)}function O0(){xA(function(){(On&6)!==0?Et(Pn,dA):np()})}function Tg(){return tc===0&&(tc=Tn()),tc}function Xx(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Uc(""+l)}function Qx(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function hA(l,u,h,v,S){if(u==="submit"&&h&&h.stateNode===S){var T=Xx((S[bn]||null).action),B=v.submitter;B&&(u=(u=B[bn]||null)?Xx(u.formAction):B.getAttribute("formAction"),u!==null&&(T=u,B=null));var q=new af("action","action",null,v,S);l.push({event:q,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(tc!==0){var ee=B?Qx(S,B):new FormData(S);Oh(h,{pending:!0,data:ee,method:S.method,action:T},null,ee)}}else typeof T=="function"&&(q.preventDefault(),ee=B?Qx(S,B):new FormData(S),Oh(h,{pending:!0,data:ee,method:S.method,action:T},T,ee))},currentTarget:S}]})}}for(var N0=0;N0<Sn.length;N0++){var P0=Sn[N0],pA=P0.toLowerCase(),mA=P0[0].toUpperCase()+P0.slice(1);Do(pA,"on"+mA)}Do(Om,"onAnimationEnd"),Do(D1,"onAnimationIteration"),Do(Ps,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(Nm,"onTransitionRun"),Do(QC,"onTransitionStart"),Do(pf,"onTransitionCancel"),Do(uh,"onTransitionEnd"),za("onMouseEnter",["mouseout","mouseover"]),za("onMouseLeave",["mouseout","mouseover"]),za("onPointerEnter",["pointerout","pointerover"]),za("onPointerLeave",["pointerout","pointerover"]),Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ip));function Jx(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],S=v.event;v=v.listeners;e:{var T=void 0;if(u)for(var B=v.length-1;0<=B;B--){var q=v[B],ee=q.instance,de=q.currentTarget;if(q=q.listener,ee!==T&&S.isPropagationStopped())break e;T=q,S.currentTarget=de;try{T(S)}catch(_e){gu(_e)}S.currentTarget=null,T=ee}else for(B=0;B<v.length;B++){if(q=v[B],ee=q.instance,de=q.currentTarget,q=q.listener,ee!==T&&S.isPropagationStopped())break e;T=q,S.currentTarget=de;try{T(S)}catch(_e){gu(_e)}S.currentTarget=null,T=ee}}}}function Qt(l,u){var h=u[Rl];h===void 0&&(h=u[Rl]=new Set);var v=l+"__bubble";h.has(v)||(Zx(u,l,2,!1),h.add(v))}function L0(l,u,h){var v=0;u&&(v|=4),Zx(h,l,v,u)}var vs="_reactListening"+Math.random().toString(36).slice(2);function V0(l){if(!l[vs]){l[vs]=!0,Jd.forEach(function(h){h!=="selectionchange"&&(gA.has(h)||L0(h,!1,l),L0(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[vs]||(u[vs]=!0,L0("selectionchange",!1,u))}}function Zx(l,u,h,v){switch(vS(u)){case 2:var S=NA;break;case 8:S=Gf;break;default:S=G0}h=S.bind(null,u,h,l),S=void 0,!ss||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(u,h,{capture:!0,passive:S}):l.addEventListener(u,h,!0):S!==void 0?l.addEventListener(u,h,{passive:S}):l.addEventListener(u,h,!1)}function ll(l,u,h,v,S){var T=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var B=v.tag;if(B===3||B===4){var q=v.stateNode.containerInfo;if(q===S)break;if(B===4)for(B=v.return;B!==null;){var ee=B.tag;if((ee===3||ee===4)&&B.stateNode.containerInfo===S)return;B=B.return}for(;q!==null;){if(B=Ba(q),B===null)return;if(ee=B.tag,ee===5||ee===6||ee===26||ee===27){v=T=B;continue e}q=q.parentNode}}v=v.return}Em(function(){var de=T,_e=Qs(h),Me=[];e:{var pe=fh.get(l);if(pe!==void 0){var he=af,ct=l;switch(l){case"keypress":if(cn(h)===0)break e;case"keydown":case"keyup":he=Nl;break;case"focusin":ct="focus",he=Wc;break;case"focusout":ct="blur",he=Wc;break;case"beforeblur":case"afterblur":he=Wc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Am;break;case Om:case D1:case Ps:he=Gc;break;case uh:he=Rm;break;case"scroll":case"scrollend":he=_m;break;case"wheel":he=df;break;case"copy":case"cut":case"paste":he=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Js;break;case"toggle":case"beforetoggle":he=Qc}var lt=(u&4)!==0,Vn=!lt&&(l==="scroll"||l==="scrollend"),le=lt?pe!==null?pe+"Capture":null:pe;lt=[];for(var ie=de,fe;ie!==null;){var Ce=ie;if(fe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||fe===null||le===null||(Ce=Fc(ie,le),Ce!=null&&lt.push(yt(ie,Ce,fe))),Vn)break;ie=ie.return}0<lt.length&&(pe=new he(pe,ct,null,h,_e),Me.push({event:pe,listeners:lt}))}}if((u&7)===0){e:{if(pe=l==="mouseover"||l==="pointerover",he=l==="mouseout"||l==="pointerout",pe&&h!==sa&&(ct=h.relatedTarget||h.fromElement)&&(Ba(ct)||ct[Yn]))break e;if((he||pe)&&(pe=_e.window===_e?_e:(pe=_e.ownerDocument)?pe.defaultView||pe.parentWindow:window,he?(ct=h.relatedTarget||h.toElement,he=de,ct=ct?Ba(ct):null,ct!==null&&(Vn=s(ct),lt=ct.tag,ct!==Vn||lt!==5&&lt!==27&&lt!==6)&&(ct=null)):(he=null,ct=de),he!==ct)){if(lt=ii,Ce="onMouseLeave",le="onMouseEnter",ie="mouse",(l==="pointerout"||l==="pointerover")&&(lt=Js,Ce="onPointerLeave",le="onPointerEnter",ie="pointer"),Vn=he==null?pe:Co(he),fe=ct==null?pe:Co(ct),pe=new lt(Ce,ie+"leave",he,h,_e),pe.target=Vn,pe.relatedTarget=fe,Ce=null,Ba(_e)===de&&(lt=new lt(le,ie+"enter",ct,h,_e),lt.target=fe,lt.relatedTarget=Vn,Ce=lt),Vn=Ce,he&&ct)t:{for(lt=he,le=ct,ie=0,fe=lt;fe;fe=Gr(fe))ie++;for(fe=0,Ce=le;Ce;Ce=Gr(Ce))fe++;for(;0<ie-fe;)lt=Gr(lt),ie--;for(;0<fe-ie;)le=Gr(le),fe--;for(;ie--;){if(lt===le||le!==null&&lt===le.alternate)break t;lt=Gr(lt),le=Gr(le)}lt=null}else lt=null;he!==null&&vr(Me,pe,he,lt,!1),ct!==null&&Vn!==null&&vr(Me,Vn,ct,lt,!0)}}e:{if(pe=de?Co(de):window,he=pe.nodeName&&pe.nodeName.toLowerCase(),he==="select"||he==="input"&&pe.type==="file")var We=_1;else if(Er(pe))if(T1)We=KC;else{We=Ll;var Ft=R1}else he=pe.nodeName,!he||he.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?de&&rh(de.elementType)&&(We=_1):We=Im;if(We&&(We=We(l,de))){Os(Me,We,h,_e);break e}Ft&&Ft(l,pe,de),l==="focusout"&&de&&pe.type==="number"&&de.memoizedProps.value!=null&&ia(pe,"number",pe.value)}switch(Ft=de?Co(de):window,l){case"focusin":(Er(Ft)||Ft.contentEditable==="true")&&(hf=Ft,Vl=de,oe=null);break;case"focusout":oe=Vl=hf=null;break;case"mousedown":Se=!0;break;case"contextmenu":case"mouseup":case"dragend":Se=!1,me(Me,h,_e);break;case"selectionchange":if(XC)break;case"keydown":case"keyup":me(Me,h,_e)}var nt;if(la)e:{switch(l){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else en?be(l,h)&&(ut="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(ut="onCompositionStart");ut&&(L&&h.locale!=="ko"&&(en||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&en&&(nt=ih()):(aa=_e,Ol="value"in aa?aa.value:aa.textContent,en=!0)),Ft=Cg(de,ut),0<Ft.length&&(ut=new gi(ut,l,null,h,_e),Me.push({event:ut,listeners:Ft}),nt?ut.data=nt:(nt=ze(h),nt!==null&&(ut.data=nt)))),(nt=M?Hr(l,h):sn(l,h))&&(ut=Cg(de,"onBeforeInput"),0<ut.length&&(Ft=new gi("onBeforeInput","beforeinput",null,h,_e),Me.push({event:Ft,listeners:ut}),Ft.data=nt)),hA(Me,l,de,h,_e)}Jx(Me,u)})}function yt(l,u,h){return{instance:l,listener:u,currentTarget:h}}function Cg(l,u){for(var h=u+"Capture",v=[];l!==null;){var S=l,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=Fc(l,h),S!=null&&v.unshift(yt(l,S,T)),S=Fc(l,u),S!=null&&v.push(yt(l,S,T))),l.tag===3)return v;l=l.return}return[]}function Gr(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function vr(l,u,h,v,S){for(var T=u._reactName,B=[];h!==null&&h!==v;){var q=h,ee=q.alternate,de=q.stateNode;if(q=q.tag,ee!==null&&ee===v)break;q!==5&&q!==26&&q!==27||de===null||(ee=de,S?(de=Fc(h,T),de!=null&&B.unshift(yt(h,de,ee))):S||(de=Fc(h,T),de!=null&&B.push(yt(h,de,ee)))),h=h.return}B.length!==0&&l.push({event:u,listeners:B})}var yA=/\r\n?/g,nc=/\u0000|\uFFFD/g;function eS(l){return(typeof l=="string"?l:""+l).replace(yA,`
`).replace(nc,"")}function tS(l,u){return u=eS(u),eS(l)===u}function Ag(){}function Ln(l,u,h,v,S,T){switch(h){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||is(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&is(l,""+v);break;case"className":na(l,"class",v);break;case"tabIndex":na(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":na(l,h,v);break;case"style":sf(l,v,T);break;case"data":if(u!=="object"){na(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=Uc(""+v),l.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(h==="formAction"?(u!=="input"&&Ln(l,u,"name",S.name,S,null),Ln(l,u,"formEncType",S.formEncType,S,null),Ln(l,u,"formMethod",S.formMethod,S,null),Ln(l,u,"formTarget",S.formTarget,S,null)):(Ln(l,u,"encType",S.encType,S,null),Ln(l,u,"method",S.method,S,null),Ln(l,u,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=Uc(""+v),l.setAttribute(h,v);break;case"onClick":v!=null&&(l.onclick=Ag);break;case"onScroll":v!=null&&Qt("scroll",l);break;case"onScrollEnd":v!=null&&Qt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}h=Uc(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""+v):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":v===!0?l.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,v):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(h,v):l.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(h):l.setAttribute(h,v);break;case"popover":Qt("beforetoggle",l),Qt("toggle",l),Ml(l,"popover",v);break;case"xlinkActuate":ni(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ni(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ni(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ni(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ni(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ni(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ni(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ni(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ni(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ml(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=xm.get(h)||h,Ml(l,h,v))}}function B0(l,u,h,v,S,T){switch(h){case"style":sf(l,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof v=="string"?is(l,v):(typeof v=="number"||typeof v=="bigint")&&is(l,""+v);break;case"onScroll":v!=null&&Qt("scroll",l);break;case"onScrollEnd":v!=null&&Qt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Ag);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ju.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),u=h.slice(2,S?h.length-7:void 0),T=l[bn]||null,T=T!=null?T[h]:null,typeof T=="function"&&l.removeEventListener(u,T,S),typeof v=="function")){typeof T!="function"&&T!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,v,S);break e}h in l?l[h]=v:v===!0?l.setAttribute(h,""):Ml(l,h,v)}}}function Kr(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",l),Qt("load",l);var v=!1,S=!1,T;for(T in h)if(h.hasOwnProperty(T)){var B=h[T];if(B!=null)switch(T){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ln(l,u,T,B,h,null)}}S&&Ln(l,u,"srcSet",h.srcSet,h,null),v&&Ln(l,u,"src",h.src,h,null);return;case"input":Qt("invalid",l);var q=T=B=S=null,ee=null,de=null;for(v in h)if(h.hasOwnProperty(v)){var _e=h[v];if(_e!=null)switch(v){case"name":S=_e;break;case"type":B=_e;break;case"checked":ee=_e;break;case"defaultChecked":de=_e;break;case"value":T=_e;break;case"defaultValue":q=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,u));break;default:Ln(l,u,v,_e,h,null)}}Il(l,T,q,ee,de,B,S,!1),nf(l);return;case"select":Qt("invalid",l),v=B=T=null;for(S in h)if(h.hasOwnProperty(S)&&(q=h[S],q!=null))switch(S){case"value":T=q;break;case"defaultValue":B=q;break;case"multiple":v=q;default:Ln(l,u,S,q,h,null)}u=T,h=B,l.multiple=!!v,u!=null?Ua(l,!!v,u,!1):h!=null&&Ua(l,!!v,h,!0);return;case"textarea":Qt("invalid",l),T=S=v=null;for(B in h)if(h.hasOwnProperty(B)&&(q=h[B],q!=null))switch(B){case"value":v=q;break;case"defaultValue":S=q;break;case"children":T=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Ln(l,u,B,q,h,null)}Fa(l,v,S,T),nf(l);return;case"option":for(ee in h)if(h.hasOwnProperty(ee)&&(v=h[ee],v!=null))switch(ee){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ln(l,u,ee,v,h,null)}return;case"dialog":Qt("beforetoggle",l),Qt("toggle",l),Qt("cancel",l),Qt("close",l);break;case"iframe":case"object":Qt("load",l);break;case"video":case"audio":for(v=0;v<ip.length;v++)Qt(ip[v],l);break;case"image":Qt("error",l),Qt("load",l);break;case"details":Qt("toggle",l);break;case"embed":case"source":case"link":Qt("error",l),Qt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in h)if(h.hasOwnProperty(de)&&(v=h[de],v!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ln(l,u,de,v,h,null)}return;default:if(rh(u)){for(_e in h)h.hasOwnProperty(_e)&&(v=h[_e],v!==void 0&&B0(l,u,_e,v,h,void 0));return}}for(q in h)h.hasOwnProperty(q)&&(v=h[q],v!=null&&Ln(l,u,q,v,h,null))}function vA(l,u,h,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,B=null,q=null,ee=null,de=null,_e=null;for(he in h){var Me=h[he];if(h.hasOwnProperty(he)&&Me!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":ee=Me;default:v.hasOwnProperty(he)||Ln(l,u,he,null,v,Me)}}for(var pe in v){var he=v[pe];if(Me=h[pe],v.hasOwnProperty(pe)&&(he!=null||Me!=null))switch(pe){case"type":T=he;break;case"name":S=he;break;case"checked":de=he;break;case"defaultChecked":_e=he;break;case"value":B=he;break;case"defaultValue":q=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,u));break;default:he!==Me&&Ln(l,u,pe,he,v,Me)}}rs(l,B,q,ee,de,_e,T,S);return;case"select":he=B=q=pe=null;for(T in h)if(ee=h[T],h.hasOwnProperty(T)&&ee!=null)switch(T){case"value":break;case"multiple":he=ee;default:v.hasOwnProperty(T)||Ln(l,u,T,null,v,ee)}for(S in v)if(T=v[S],ee=h[S],v.hasOwnProperty(S)&&(T!=null||ee!=null))switch(S){case"value":pe=T;break;case"defaultValue":q=T;break;case"multiple":B=T;default:T!==ee&&Ln(l,u,S,T,v,ee)}u=q,h=B,v=he,pe!=null?Ua(l,!!h,pe,!1):!!v!=!!h&&(u!=null?Ua(l,!!h,u,!0):Ua(l,!!h,h?[]:"",!1));return;case"textarea":he=pe=null;for(q in h)if(S=h[q],h.hasOwnProperty(q)&&S!=null&&!v.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Ln(l,u,q,null,v,S)}for(B in v)if(S=v[B],T=h[B],v.hasOwnProperty(B)&&(S!=null||T!=null))switch(B){case"value":pe=S;break;case"defaultValue":he=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==T&&Ln(l,u,B,S,v,T)}Dn(l,pe,he);return;case"option":for(var ct in h)if(pe=h[ct],h.hasOwnProperty(ct)&&pe!=null&&!v.hasOwnProperty(ct))switch(ct){case"selected":l.selected=!1;break;default:Ln(l,u,ct,null,v,pe)}for(ee in v)if(pe=v[ee],he=h[ee],v.hasOwnProperty(ee)&&pe!==he&&(pe!=null||he!=null))switch(ee){case"selected":l.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Ln(l,u,ee,pe,v,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in h)pe=h[lt],h.hasOwnProperty(lt)&&pe!=null&&!v.hasOwnProperty(lt)&&Ln(l,u,lt,null,v,pe);for(de in v)if(pe=v[de],he=h[de],v.hasOwnProperty(de)&&pe!==he&&(pe!=null||he!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,u));break;default:Ln(l,u,de,pe,v,he)}return;default:if(rh(u)){for(var Vn in h)pe=h[Vn],h.hasOwnProperty(Vn)&&pe!==void 0&&!v.hasOwnProperty(Vn)&&B0(l,u,Vn,void 0,v,pe);for(_e in v)pe=v[_e],he=h[_e],!v.hasOwnProperty(_e)||pe===he||pe===void 0&&he===void 0||B0(l,u,_e,pe,v,he);return}}for(var le in h)pe=h[le],h.hasOwnProperty(le)&&pe!=null&&!v.hasOwnProperty(le)&&Ln(l,u,le,null,v,pe);for(Me in v)pe=v[Me],he=h[Me],!v.hasOwnProperty(Me)||pe===he||pe==null&&he==null||Ln(l,u,Me,pe,v,he)}var Bo=null,Rg=null;function wu(l){return l.nodeType===9?l:l.ownerDocument}function ar(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fr(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function kg(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var z0=null;function bA(){var l=window.event;return l&&l.type==="popstate"?l===z0?!1:(z0=l,!0):(z0=null,!1)}var nS=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,rS=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof rS<"u"?function(l){return rS.resolve(null).then(l).catch(iS)}:nS;function iS(l){setTimeout(function(){throw l})}function co(l){return l==="head"}function Mg(l,u){var h=u,v=0,S=0;do{var T=h.nextSibling;if(l.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"){if(0<v&&8>v){h=v;var B=l.ownerDocument;if(h&1&&sp(B.documentElement),h&2&&sp(B.body),h&4)for(h=B.head,sp(h),B=h.firstChild;B;){var q=B.nextSibling,ee=B.nodeName;B[Bc]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&B.rel.toLowerCase()==="stylesheet"||h.removeChild(B),B=q}}if(S===0){l.removeChild(T),hp(u);return}S--}else h==="$"||h==="$?"||h==="$!"?S++:v=h.charCodeAt(0)-48;else v=0;h=T}while(h);hp(u)}function j0(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":j0(h),kl(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function sS(l,u,h,v){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Bc])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(T=l.getAttribute("rel"),T==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(T!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(T=l.getAttribute("src"),(T!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===T)return l}else return l;if(l=zo(l.nextSibling),l===null)break}return null}function Dg(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=zo(l.nextSibling),l===null))return null;return l}function qi(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Uf(l,u){var h=l.ownerDocument;if(l.data!=="$?"||h.readyState==="complete")u();else{var v=function(){u(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function zo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var U0=null;function oS(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return l;u--}else h==="/$"&&u++}l=l.previousSibling}return null}function aS(l,u,h){switch(u=wu(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function sp(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);kl(l)}var Fs=new Map,va=new Set;function Tt(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ba=se.d;se.d={f:uo,r:lS,D:SA,C:cS,L:Ig,m:EA,X:TA,S:_A,M:CA};function uo(){var l=ba.f(),u=bg();return l||u}function lS(l){var u=ea(l);u!==null&&u.tag===5&&u.type==="form"?ng(u):ba.r(l)}var Ff=typeof document>"u"?null:document;function En(l,u,h){var v=Ff;if(v&&typeof u=="string"&&u){var S=Dr(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),va.has(S)||(va.add(S),l={rel:l,crossOrigin:h,href:u},v.querySelector(S)===null&&(u=v.createElement("link"),Kr(u,"link",l),Sr(u),v.head.appendChild(u)))}}function SA(l){ba.D(l),En("dns-prefetch",l,null)}function cS(l,u){ba.C(l,u),En("preconnect",l,u)}function Ig(l,u,h){ba.L(l,u,h);var v=Ff;if(v&&l&&u){var S='link[rel="preload"][as="'+Dr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Dr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Dr(h.imageSizes)+'"]')):S+='[href="'+Dr(l)+'"]';var T=S;switch(u){case"style":T=Hf(l);break;case"script":T=$f(l)}Fs.has(T)||(l=d({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),Fs.set(T,l),v.querySelector(S)!==null||u==="style"&&v.querySelector(op(T))||u==="script"&&v.querySelector(ap(T))||(u=v.createElement("link"),Kr(u,"link",l),Sr(u),v.head.appendChild(u)))}}function EA(l,u){ba.m(l,u);var h=Ff;if(h&&l){var v=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+Dr(v)+'"][href="'+Dr(l)+'"]',T=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=$f(l)}if(!Fs.has(T)&&(l=d({rel:"modulepreload",href:l},u),Fs.set(T,l),h.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ap(T)))return}v=h.createElement("link"),Kr(v,"link",l),Sr(v),h.head.appendChild(v)}}}function _A(l,u,h){ba.S(l,u,h);var v=Ff;if(v&&l){var S=Bi(v).hoistableStyles,T=Hf(l);u=u||"default";var B=S.get(T);if(!B){var q={loading:0,preload:null};if(B=v.querySelector(op(T)))q.loading=5;else{l=d({rel:"stylesheet",href:l,"data-precedence":u},h),(h=Fs.get(T))&&lp(l,h);var ee=B=v.createElement("link");Sr(ee),Kr(ee,"link",l),ee._p=new Promise(function(de,_e){ee.onload=de,ee.onerror=_e}),ee.addEventListener("load",function(){q.loading|=1}),ee.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Og(B,u,v)}B={type:"stylesheet",instance:B,count:1,state:q},S.set(T,B)}}}function TA(l,u){ba.X(l,u);var h=Ff;if(h&&l){var v=Bi(h).hoistableScripts,S=$f(l),T=v.get(S);T||(T=h.querySelector(ap(S)),T||(l=d({src:l,async:!0},u),(u=Fs.get(S))&&F0(l,u),T=h.createElement("script"),Sr(T),Kr(T,"link",l),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function CA(l,u){ba.M(l,u);var h=Ff;if(h&&l){var v=Bi(h).hoistableScripts,S=$f(l),T=v.get(S);T||(T=h.querySelector(ap(S)),T||(l=d({src:l,async:!0,type:"module"},u),(u=Fs.get(S))&&F0(l,u),T=h.createElement("script"),Sr(T),Kr(T,"link",l),h.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(S,T))}}function uS(l,u,h,v){var S=(S=ye.current)?Tt(S):null;if(!S)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Hf(h.href),h=Bi(S).hoistableStyles,v=h.get(u),v||(v={type:"style",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Hf(h.href);var T=Bi(S).hoistableStyles,B=T.get(l);if(B||(S=S.ownerDocument||S,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(l,B),(T=S.querySelector(op(l)))&&!T._p&&(B.instance=T,B.state.loading=5),Fs.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Fs.set(l,h),T||AA(S,l,h,B.state))),u&&v===null)throw Error(r(528,""));return B}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=$f(h),h=Bi(S).hoistableScripts,v=h.get(u),v||(v={type:"script",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Hf(l){return'href="'+Dr(l)+'"'}function op(l){return'link[rel="stylesheet"]['+l+"]"}function fS(l){return d({},l,{"data-precedence":l.precedence,precedence:null})}function AA(l,u,h,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),Kr(u,"link",h),Sr(u),l.head.appendChild(u))}function $f(l){return'[src="'+Dr(l)+'"]'}function ap(l){return"script[async]"+l}function dS(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+Dr(h.href)+'"]');if(v)return u.instance=v,Sr(v),v;var S=d({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Sr(v),Kr(v,"style",S),Og(v,h.precedence,l),u.instance=v;case"stylesheet":S=Hf(h.href);var T=l.querySelector(op(S));if(T)return u.state.loading|=4,u.instance=T,Sr(T),T;v=fS(h),(S=Fs.get(S))&&lp(v,S),T=(l.ownerDocument||l).createElement("link"),Sr(T);var B=T;return B._p=new Promise(function(q,ee){B.onload=q,B.onerror=ee}),Kr(T,"link",v),u.state.loading|=4,Og(T,h.precedence,l),u.instance=T;case"script":return T=$f(h.src),(S=l.querySelector(ap(T)))?(u.instance=S,Sr(S),S):(v=h,(S=Fs.get(T))&&(v=d({},h),F0(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),Sr(S),Kr(S,"link",v),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,Og(v,h.precedence,l));return u.instance}function Og(l,u,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,T=S,B=0;B<v.length;B++){var q=v[B];if(q.dataset.precedence===u)T=q;else if(T!==S)break}T?T.parentNode.insertBefore(l,T.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function lp(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function F0(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var qf=null;function hS(l,u,h){if(qf===null){var v=new Map,S=qf=new Map;S.set(h,v)}else S=qf,v=S.get(h),v||(v=new Map,S.set(h,v));if(v.has(l))return v;for(v.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var T=h[S];if(!(T[Bc]||T[Kn]||l==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var B=T.getAttribute(u)||"";B=l+B;var q=v.get(B);q?q.push(T):v.set(B,[T])}}return v}function pS(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function RA(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Yr(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var ci=null;function kA(){}function MA(l,u,h){if(ci===null)throw Error(r(475));var v=ci;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var S=Hf(h.href),T=l.querySelector(op(S));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=cp.bind(v),l.then(v,v)),u.state.loading|=4,u.instance=T,Sr(T);return}T=l.ownerDocument||l,h=fS(h),(S=Fs.get(S))&&lp(h,S),T=T.createElement("link"),Sr(T);var B=T;B._p=new Promise(function(q,ee){B.onload=q,B.onerror=ee}),Kr(T,"link",h),u.instance=T}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=cp.bind(v),l.addEventListener("load",u),l.addEventListener("error",u))}}function DA(){if(ci===null)throw Error(r(475));var l=ci;return l.stylesheets&&l.count===0&&H0(l,l.stylesheets),0<l.count?function(u){var h=setTimeout(function(){if(l.stylesheets&&H0(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(h)}}:null}function cp(){if(this.count--,this.count===0){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ng=null;function H0(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ng=new Map,u.forEach(IA,l),Ng=null,cp.call(l))}function IA(l,u){if(!(u.state.loading&4)){var h=Ng.get(l);if(h)var v=h.get(null);else{h=new Map,Ng.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var B=S[T];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),v=B)}v&&h.set(null,v)}S=u.instance,B=S.getAttribute("data-precedence"),T=h.get(B)||v,T===v&&h.set(null,S),h.set(B,S),this.count++,v=cp.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),T?T.parentNode.insertBefore(S,T.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Wf={$$typeof:z,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function OA(l,u,h,v,S,T,B,q){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function mS(l,u,h,v,S,T,B,q,ee,de,_e,Me){return l=new OA(l,u,h,B,q,ee,de,Me),u=1,T===!0&&(u|=24),T=ls(3,null,null,u),l.current=T,T.stateNode=l,u=Vv(),u.refCount++,l.pooledCache=u,u.refCount++,T.memoizedState={element:v,isDehydrated:h,cache:u},au(T),l}function gS(l){return l?(l=eu,l):eu}function $0(l,u,h,v,S,T){S=gS(S),v.context===null?v.context=S:v.pendingContext=S,v=Ul(u),v.payload={element:h},T=T===void 0?null:T,T!==null&&(v.callback=T),h=Qa(l,v,u),h!==null&&(Us(h,l,u),Sh(h,l,u))}function q0(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function W0(l,u){q0(l,u),(l=l.alternate)&&q0(l,u)}function yS(l){if(l.tag===13){var u=Zc(l,67108864);u!==null&&Us(u,l,67108864),W0(l,67108864)}}var Pg=!0;function NA(l,u,h,v){var S=J.T;J.T=null;var T=se.p;try{se.p=2,G0(l,u,h,v)}finally{se.p=T,J.T=S}}function Gf(l,u,h,v){var S=J.T;J.T=null;var T=se.p;try{se.p=8,G0(l,u,h,v)}finally{se.p=T,J.T=S}}function G0(l,u,h,v){if(Pg){var S=K0(v);if(S===null)ll(l,u,v,Lg,h),bS(l,v);else if(LA(S,l,u,h,v))v.stopPropagation();else if(bS(l,v),u&4&&-1<PA.indexOf(l)){for(;S!==null;){var T=ea(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var B=Fe(T.pendingLanes);if(B!==0){var q=T;for(q.pendingLanes|=2,q.entangledLanes|=2;B;){var ee=1<<31-rr(B);q.entanglements[1]|=ee,B&=~ee}ya(T),(On&6)===0&&(Pf=jt()+500,tp(0))}}break;case 13:q=Zc(T,2),q!==null&&Us(q,T,2),bg(),W0(T,2)}if(T=K0(v),T===null&&ll(l,u,v,Lg,h),T===S)break;S=T}S!==null&&v.stopPropagation()}else ll(l,u,v,null,h)}}function K0(l){return l=Qs(l),Y0(l)}var Lg=null;function Y0(l){if(Lg=null,l=Ba(l),l!==null){var u=s(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=o(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Lg=l,null}function vS(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kn()){case Pn:return 2;case nr:return 8;case ln:case _n:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var Vg=!1,cl=null,rc=null,ic=null,up=new Map,fp=new Map,sc=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bS(l,u){switch(l){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":rc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":up.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(u.pointerId)}}function dp(l,u,h,v,S,T){return l===null||l.nativeEvent!==T?(l={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:T,targetContainers:[S]},u!==null&&(u=ea(u),u!==null&&yS(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function LA(l,u,h,v,S){switch(u){case"focusin":return cl=dp(cl,l,u,h,v,S),!0;case"dragenter":return rc=dp(rc,l,u,h,v,S),!0;case"mouseover":return ic=dp(ic,l,u,h,v,S),!0;case"pointerover":var T=S.pointerId;return up.set(T,dp(up.get(T)||null,l,u,h,v,S)),!0;case"gotpointercapture":return T=S.pointerId,fp.set(T,dp(fp.get(T)||null,l,u,h,v,S)),!0}return!1}function wS(l){var u=Ba(l.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){l.blockedOn=u,jn(l.priority,function(){if(h.tag===13){var v=ki();v=vn(v);var S=Zc(h,v);S!==null&&Us(S,h,v),W0(h,v)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Bg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=K0(l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);sa=v,h.target.dispatchEvent(v),sa=null}else return u=ea(h),u!==null&&yS(u),l.blockedOn=h,!1;u.shift()}return!0}function xS(l,u,h){Bg(l)&&h.delete(u)}function VA(){Vg=!1,cl!==null&&Bg(cl)&&(cl=null),rc!==null&&Bg(rc)&&(rc=null),ic!==null&&Bg(ic)&&(ic=null),up.forEach(xS),fp.forEach(xS)}function zg(l,u){l.blockedOn===u&&(l.blockedOn=null,Vg||(Vg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,VA)))}var jg=null;function SS(l){jg!==l&&(jg=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jg===l&&(jg=null);for(var u=0;u<l.length;u+=3){var h=l[u],v=l[u+1],S=l[u+2];if(typeof v!="function"){if(Y0(v||h)===null)continue;break}var T=ea(h);T!==null&&(l.splice(u,3),u-=3,Oh(T,{pending:!0,data:S,method:h.method,action:v},v,S))}}))}function hp(l){function u(ee){return zg(ee,l)}cl!==null&&zg(cl,l),rc!==null&&zg(rc,l),ic!==null&&zg(ic,l),up.forEach(u),fp.forEach(u);for(var h=0;h<sc.length;h++){var v=sc[h];v.blockedOn===l&&(v.blockedOn=null)}for(;0<sc.length&&(h=sc[0],h.blockedOn===null);)wS(h),h.blockedOn===null&&sc.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var S=h[v],T=h[v+1],B=S[bn]||null;if(typeof T=="function")B||SS(h);else if(B){var q=null;if(T&&T.hasAttribute("formAction")){if(S=T,B=T[bn]||null)q=B.formAction;else if(Y0(S)!==null)continue}else q=B.action;typeof q=="function"?h[v+1]=q:(h.splice(v,3),v-=3),SS(h)}}}function X0(l){this._internalRoot=l}Ug.prototype.render=X0.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,v=ki();$0(h,v,l,u,null,null)},Ug.prototype.unmount=X0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;$0(l.current,2,null,l,null,null),bg(),u[Yn]=null}};function Ug(l){this._internalRoot=l}Ug.prototype.unstable_scheduleHydration=function(l){if(l){var u=mi();l={blockedOn:null,target:l,priority:u};for(var h=0;h<sc.length&&u!==0&&u<sc[h].priority;h++);sc.splice(h,0,l),h===0&&wS(l)}};var ES=e.version;if(ES!=="19.1.0")throw Error(r(527,ES,"19.1.0"));se.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var BA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{yn=Fg.inject(BA),Nt=Fg}catch{}}return J0.createRoot=function(l,u){if(!i(l))throw Error(r(299));var h=!1,v="",S=c0,T=sg,B=lx,q=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks)),u=mS(l,1,!1,null,null,h,v,S,T,B,q,null),l[Yn]=u.current,V0(l),new X0(u)},J0.hydrateRoot=function(l,u,h){if(!i(l))throw Error(r(299));var v=!1,S="",T=c0,B=sg,q=lx,ee=null,de=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(q=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ee=h.unstable_transitionCallbacks),h.formState!==void 0&&(de=h.formState)),u=mS(l,1,!0,u,h??null,v,S,T,B,q,ee,de),u.context=gS(null),h=u.current,v=ki(),v=vn(v),S=Ul(v),S.callback=null,Qa(h,S,v),h=v,u.current.lanes=h,Si(u,h),ya(u),l[Yn]=u.current,V0(l),new Ug(u)},J0.version="19.1.0",J0}var kN;function rq(){if(kN)return HA.exports;kN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),HA.exports=nq(),HA.exports}var HB=rq();const iq="modulepreload",sq=function(n){return"/"+n},MN={},Nc=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(f=>{if(f=sq(f),f in MN)return;MN[f]=!0;const d=f.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":iq,d||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),d)return new Promise((b,x)=>{g.addEventListener("load",b),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var A=av();const Ne=jB(A),YD=Y7({__proto__:null,default:Ne},[A]),Hk={theme:"system",cursor:"default",font:"geist"},oq={theme:{...Hk},setTheme:()=>null,darkMode:!!window.matchMedia("(prefers-color-scheme: dark)").matches},$B=A.createContext(oq),yE=[{label:"Default",value:"default"},{label:"Amber Minimal",value:"amber-minimal",colors:["rgb(245, 158, 11)","rgb(146, 64, 14)","rgb(38, 38, 38)","rgb(64, 64, 64)"]},{label:"Amethyst Haze",value:"amethyst-haze",colors:["rgb(169, 149, 201)","rgb(55, 46, 63)","rgb(90, 83, 112)","rgb(48, 44, 64)"]},{label:"Bold Tech",value:"bold-tech",colors:["rgb(139, 92, 246)","rgb(67, 56, 202)","rgb(30, 27, 75)","rgb(46, 16, 101)"]},{label:"Bubblegum",value:"bubblegum",colors:["rgb(251, 226, 167)","rgb(198, 123, 150)","rgb(228, 162, 177)","rgb(50, 72, 89)"]},{label:"Caffeine",value:"caffeine",colors:["rgb(255, 224, 194)","rgb(42, 42, 42)","rgb(57, 48, 40)","rgb(32, 30, 24)"]},{label:"Candyland",value:"candyland",colors:["rgb(255, 153, 204)","rgb(135, 206, 235)","rgb(51, 204, 51)","rgb(68, 68, 68)"]},{label:"Catppuccin",value:"catppuccin",colors:["rgb(203, 166, 247)","rgb(137, 220, 235)","rgb(88, 91, 112)","rgb(49, 50, 68)"]},{label:"Claude",value:"claude",colors:["rgb(217, 119, 87)","rgb(26, 25, 21)<","rgb(250, 249, 245)","rgb(62, 62, 56)<"]},{label:"Claymorphism",value:"claymorphism",colors:["rgb(129, 140, 248)","rgb(72, 68, 65)","rgb(58, 54, 51)","rgb(58, 54, 51)"]},{label:"Clean Slate",value:"clean-slate",colors:["rgb(129, 140, 248)","rgb(55, 65, 81)","rgb(45, 55, 72)","rgb(75, 85, 99)"]},{label:"Cosmic Night",value:"cosmic-night",colors:["rgb(164, 143, 255)","rgb(48, 48, 96)","rgb(45, 43, 85)","rgb(48, 48, 82)"]},{label:"Cyberpunk",value:"cyberpunk",colors:["rgb(255, 0, 200)","rgb(0, 255, 204)","rgb(30, 30, 63)","rgb(46, 46, 94)"]},{label:"Doom 64",value:"doom-64",colors:["rgb(229, 57, 53)","rgb(100, 181, 246)","rgb(104, 159, 56)","rgb(74, 74, 74)"]},{label:"Elegant Luxury",value:"elegant-luxury",colors:["rgb(185, 28, 28)","rgb(180, 83, 9)","rgb(146, 64, 14)","rgb(68, 64, 60)"]},{label:"Graphite",value:"graphite",colors:["rgb(160, 160, 160)","rgb(64, 64, 64)","rgb(48, 48, 48)","rgb(53, 53, 53)"]},{label:"Kodama Grove",value:"kodama-grove",colors:["rgb(138, 159, 123)","rgb(161, 143, 92)","rgb(90, 83, 69)","rgb(90, 83, 69)"]},{label:"Midnight Bloom",value:"midnight-bloom",colors:["rgb(108, 92, 231)","rgb(100, 149, 237)","rgb(75, 0, 130)","rgb(68, 68, 68)"]},{label:"Mocha Mousse",value:"mocha-mousse",colors:["rgb(195, 158, 136)","rgb(186, 171, 146)","rgb(138, 101, 90)","rgb(86, 69, 63)"]},{label:"Modern Minimal",value:"modern-minimal",colors:["rgb(59, 130, 246)","rgb(30, 58, 138)","rgb(38, 38, 38)","rgb(64, 64, 64)"]},{label:"Mono",value:"mono",colors:["gb(115, 115, 115)","gb(64, 64, 64)","gb(38, 38, 38)","gb(56, 56, 56)"]},{label:"Nature",value:"nature",colors:["rgb(76, 175, 80)","rgb(56, 142, 60)","rgb(62, 74, 61)","rgb(62, 74, 61)"]},{label:"Neo Brutalism",value:"neo-brutalism",colors:["rgb(255, 102, 102)","rgb(51, 153, 255)","rgb(255, 255, 51)","rgb(255, 255, 255)"]},{label:"Northern Lights",value:"northern-lights",colors:["rgb(52, 168, 90)","rgb(100, 149, 237)","rgb(70, 130, 180)","rgb(68, 68, 68)"]},{label:"Notebook",value:"notebook",colors:["rgb(176, 176, 176)","rgb(224, 224, 224)","rgb(90, 90, 90)","rgb(79, 79, 79)"]},{label:"Ocean Breeze",value:"ocean-breeze",colors:["rgb(52, 211, 153)","rgb(55, 65, 81)","rgb(45, 55, 72)","rgb(75, 85, 99)"]},{label:"Pastel Dreams",value:"pastel-dreams",colors:["rgb(192, 170, 253)","rgb(74, 61, 90)","rgb(63, 50, 74)","rgb(63, 50, 74)"]},{label:"Perpetuity",value:"perpetuity",colors:["rgb(77, 232, 232)","rgb(22, 73, 85)","rgb(22, 73, 85)","rgb(22, 73, 85)"]},{label:"Quantum Rose",value:"quantum-rose",colors:["rgb(255, 107, 239)","rgb(90, 31, 93)","rgb(70, 32, 79)","rgb(74, 27, 95)"]},{label:"Retro Arcade",value:"retro-arcade",colors:["rgb(211, 54, 130)","rgb(203, 75, 22)","rgb(42, 161, 152)","rgb(88, 110, 117)"]},{label:"Solar Dusk",value:"solar-dusk",colors:["rgb(249, 115, 22)","rgb(30, 66, 82)","rgb(87, 83, 78)","rgb(68, 64, 60)"]},{label:"Starry Night",value:"starry-night",colors:["rgb(58, 91, 160)","rgb(188, 205, 240)","rgb(255, 224, 102)","rgb(45, 46, 62)"]},{label:"Sunset Horizon",value:"sunset-horizon",colors:["rgb(255, 126, 95)","rgb(254, 180, 123)","rgb(70, 58, 65)","rgb(70, 58, 65)"]},{label:"Supabase",value:"supabase",colors:["rgb(0, 98, 57)","rgb(49, 49, 49)","rgb(36, 36, 36)","rgb(41, 41, 41)"]},{label:"T3 Chat",value:"t3-chat",colors:["rgb(163, 0, 76)","rgb(70, 55, 83)","rgb(54, 45, 61)","rgb(59, 50, 55)"]},{label:"Tangerine",value:"tangerine",colors:["rgb(224, 93, 56)","rgb(42, 54, 86)","rgb(42, 48, 62)","rgb(61, 67, 84)"]},{label:"Twitter",value:"twitter",colors:["rgb(28, 156, 240)","rgb(6, 22, 34)<","rgb(240, 243, 244)","rgb(36, 38, 40)"]},{label:"Vercel",value:"vercel",colors:["oklch(1 0 0)","oklch(0.32 0 0)","oklch(0.25 0 0)","oklch(0.26 0 0)"]},{label:"Vintage Paper",value:"vintage-paper",colors:["rgb(192, 160, 128)","rgb(89, 73, 62)","rgb(74, 64, 57)","rgb(74, 64, 57)"]},{label:"Violet Bloom",value:"violet-bloom",colors:["rgb(140, 92, 255)","rgb(30, 41, 59)","rgb(42, 44, 51)","rgb(51, 53, 58)"]}];function aq({children:n,defaultTheme:e={...Hk},storageKey:t="note-it-tag-it-theme",...r}){const[i,s]=A.useState(()=>{let a=e;try{const c=localStorage.getItem(t);c&&(a=JSON.parse(c))}catch(c){console.error("Error parsing theme from localStorage:",c),a=e}return a});A.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i.theme==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(c)}else i.theme&&a.classList.add(i.theme);yE.forEach(c=>{a.classList.remove(`${c.value}`)}),i.colorTheme&&a.classList.add(i.colorTheme),Array.from(a.classList).forEach(c=>{c.startsWith("font-")&&a.classList.remove(c)}),a.classList.add(`font-${i.font||Hk.font}`)},[i]);const o={theme:i,setTheme:a=>{const c={...i,...a};localStorage.setItem(t,JSON.stringify(c)),s(c)},darkMode:i.theme==="dark"||i.theme==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches};return R.jsx($B.Provider,{...r,value:o,children:n})}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),DN=n=>{const e=cq(n);return e.charAt(0).toUpperCase()+e.slice(1)},qB=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),uq=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=A.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>A.createElement("svg",{ref:c,...fq,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:qB("lucide",i),...!s&&!uq(a)&&{"aria-hidden":"true"},...a},[...o.map(([f,d])=>A.createElement(f,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(n,e)=>{const t=A.forwardRef(({className:r,...i},s)=>A.createElement(dq,{ref:s,iconNode:e,className:qB(`lucide-${lq(DN(n))}`,`lucide-${n}`,r),...i}));return t.displayName=DN(n),t};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],pq=Ot("bold",hq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],WB=Ot("check",mq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GB=Ot("chevron-right",gq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],vq=Ot("chevrons-up-down",yq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wq=Ot("circle-check-big",bq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M12 12v4",key:"tww15h"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M17 18h.5a1 1 0 0 0 0-9h-1.79A7 7 0 1 0 7 17.708",key:"xsb5ju"}]],Sq=Ot("cloud-alert",xq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],XD=Ot("ellipsis",Eq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Tq=Ot("file",_q);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Aq=Ot("folder-open",Cq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],kq=Ot("folder",Rq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KB=Ot("grip-vertical",Mq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Iq=Ot("heading-1",Dq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Nq=Ot("heading-2",Oq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Lq=Ot("heading-3",Pq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bq=Ot("image",Vq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],jq=Ot("italic",zq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Fq=Ot("link",Uq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],$q=Ot("list-ordered",Hq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Wq=Ot("list",qq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ZE=Ot("loader-circle",Gq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"M22 12a1 1 0 0 1-10 0 1 1 0 0 0-10 0",key:"1lzz15"}],["path",{d:"M7 20.7a1 1 0 1 1 5-8.7 1 1 0 1 0 5-8.6",key:"1gnrpi"}],["path",{d:"M7 3.3a1 1 0 1 1 5 8.6 1 1 0 1 0 5 8.6",key:"u9yy5q"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yq=Ot("loader-pinwheel",Kq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Qq=Ot("loader",Xq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zq=Ot("log-out",Jq);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],tW=Ot("mouse-pointer-click",eW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]],rW=Ot("notebook",nW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],sW=Ot("palette",iW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],aW=Ot("pencil",oW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],cW=Ot("pilcrow",lW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YB=Ot("plus",uW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M13 13H8a1 1 0 0 0-1 1v7",key:"h8g396"}],["path",{d:"M14 8h1",key:"1lfen6"}],["path",{d:"M17 21v-4",key:"1yknxs"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20.41 20.41A2 2 0 0 1 19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 .59-1.41",key:"1t4vdl"}],["path",{d:"M29.5 11.5s5 5 4 5",key:"zzn4i6"}],["path",{d:"M9 3h6.2a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V15",key:"24cby9"}]],dW=Ot("save-off",fW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pW=Ot("save",hW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gW=Ot("settings",mW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],vW=Ot("smile",yW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wW=Ot("square-check",bW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],SW=Ot("square-split-horizontal",xW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],_W=Ot("strikethrough",EW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]],CW=Ot("sun-moon",TW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z",key:"1ldrpk"}],["path",{d:"M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7",key:"11i5po"}],["path",{d:"M 7 17h.01",key:"1euzgo"}],["path",{d:"m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8",key:"o2gii7"}]],RW=Ot("swatch-book",AW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],MW=Ot("tag",kW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],IW=Ot("underline",DW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M16 12h6",key:"15xry1"}],["path",{d:"M8 12H2",key:"1jqql6"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m19 15 3-3-3-3",key:"wjy7rq"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}]],NW=Ot("unfold-horizontal",OW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],LW=Ot("unlink",PW);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QD=Ot("x",VW);function BW(n,e){const t=A.createContext(e),r=s=>{const{children:o,...a}=s,c=A.useMemo(()=>a,Object.values(a));return R.jsx(t.Provider,{value:c,children:o})};r.displayName=n+"Provider";function i(s){const o=A.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function El(n,e=[]){let t=[];function r(s,o){const a=A.createContext(o),c=t.length;t=[...t,o];const f=m=>{var k;const{scope:g,children:b,...x}=m,_=((k=g==null?void 0:g[n])==null?void 0:k[c])||a,C=A.useMemo(()=>x,Object.values(x));return R.jsx(_.Provider,{value:C,children:b})};f.displayName=s+"Provider";function d(m,g){var _;const b=((_=g==null?void 0:g[n])==null?void 0:_[c])||a,x=A.useContext(b);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,d]}const i=()=>{const s=t.map(o=>A.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return A.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,zW(i,...e)]}function zW(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:f})=>{const m=c(s)[`__scope${f}`];return{...a,...m}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Ji(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n}),A.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var Da=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},MT=FB();const JD=jB(MT);function IN(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function DT(...n){return e=>{let t=!1;const r=n.map(i=>{const s=IN(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():IN(n[i],null)}}}}function qn(...n){return A.useCallback(DT(...n),n)}function Kp(n){const e=jW(n),t=A.forwardRef((r,i)=>{const{children:s,...o}=r,a=A.Children.toArray(s),c=a.find(FW);if(c){const f=c.props.children,d=a.map(m=>m===c?A.Children.count(f)>1?A.Children.only(null):A.isValidElement(f)?f.props.children:null:m);return R.jsx(e,{...o,ref:i,children:A.isValidElement(f)?A.cloneElement(f,void 0,d):null})}return R.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var IT=Kp("Slot");function jW(n){const e=A.forwardRef((t,r)=>{const{children:i,...s}=t;if(A.isValidElement(i)){const o=$W(i),a=HW(s,i.props);return i.type!==A.Fragment&&(a.ref=r?DT(r,o):o),A.cloneElement(i,a)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var XB=Symbol("radix.slottable");function UW(n){const e=({children:t})=>R.jsx(R.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=XB,e}function FW(n){return A.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===XB}function HW(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function $W(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var qW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xn=qW.reduce((n,e)=>{const t=Kp(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function QB(n,e){n&&MT.flushSync(()=>n.dispatchEvent(e))}var KA={exports:{}},YA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON;function WW(){if(ON)return YA;ON=1;var n=av();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(m,g){var b=g(),x=r({inst:{value:b,getSnapshot:g}}),_=x[0].inst,C=x[1];return s(function(){_.value=b,_.getSnapshot=g,c(_)&&C({inst:_})},[m,b,g]),i(function(){return c(_)&&C({inst:_}),m(function(){c(_)&&C({inst:_})})},[m]),o(b),b}function c(m){var g=m.getSnapshot;m=m.value;try{var b=g();return!t(m,b)}catch{return!0}}function f(m,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:a;return YA.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,YA}var NN;function JB(){return NN||(NN=1,KA.exports=WW()),KA.exports}var GW=JB();function KW(){return GW.useSyncExternalStore(YW,()=>!0,()=>!1)}function YW(){return()=>{}}var ZD="Avatar",[XW,I_e]=El(ZD),[QW,ZB]=XW(ZD),e5=A.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,s]=A.useState("idle");return R.jsx(QW,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:R.jsx(xn.span,{...r,ref:e})})});e5.displayName=ZD;var t5="AvatarImage",n5=A.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...s}=n,o=ZB(t5,t),a=JW(r,s),c=Ji(f=>{i(f),o.onImageLoadingStatusChange(f)});return Da(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?R.jsx(xn.img,{...s,ref:e,src:r}):null});n5.displayName=t5;var r5="AvatarFallback",i5=A.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,s=ZB(r5,t),[o,a]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?R.jsx(xn.span,{...i,ref:e}):null});i5.displayName=r5;function PN(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function JW(n,{referrerPolicy:e,crossOrigin:t}){const r=KW(),i=A.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=A.useState(()=>PN(s,n));return Da(()=>{a(PN(s,n))},[s,n]),Da(()=>{const c=m=>()=>{a(m)};if(!s)return;const f=c("loaded"),d=c("error");return s.addEventListener("load",f),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof t=="string"&&(s.crossOrigin=t),()=>{s.removeEventListener("load",f),s.removeEventListener("error",d)}},[s,t,e]),o}var ZW=e5,eG=n5,tG=i5;function s5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=s5(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function o5(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=s5(n))&&(r&&(r+=" "),r+=e);return r}const eI="-",nG=n=>{const e=iG(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(eI);return a[0]===""&&a.length!==1&&a.shift(),a5(a,e)||rG(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},a5=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?a5(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(eI);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},LN=/^\[(.+)\]$/,rG=n=>{if(LN.test(n)){const e=LN.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},iG=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)$k(t[i],r,i,e);return r},$k=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VN(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(sG(i)){$k(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{$k(o,VN(e,s),t,r)})})},VN=(n,e)=>{let t=n;return e.split(eI).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},sG=n=>n.isThemeGetter,oG=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},qk="!",Wk=":",aG=Wk.length,lG=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let o=0,a=0,c=0,f;for(let x=0;x<i.length;x++){let _=i[x];if(o===0&&a===0){if(_===Wk){s.push(i.slice(c,x)),c=x+aG;continue}if(_==="/"){f=x;continue}}_==="["?o++:_==="]"?o--:_==="("?a++:_===")"&&a--}const d=s.length===0?i:i.substring(c),m=cG(d),g=m!==d,b=f&&f>c?f-c:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:b}};if(e){const i=e+Wk,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},cG=n=>n.endsWith(qk)?n.substring(0,n.length-1):n.startsWith(qk)?n.substring(1):n,uG=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},fG=n=>({cache:oG(n.cacheSize),parseClassName:lG(n),sortModifiers:uG(n),...nG(n)}),dG=/\s+/,hG=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=n.trim().split(dG);let c="";for(let f=a.length-1;f>=0;f-=1){const d=a[f],{isExternal:m,modifiers:g,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:_}=t(d);if(m){c=d+(c.length>0?" "+c:c);continue}let C=!!_,k=r(C?x.substring(0,_):x);if(!k){if(!C){c=d+(c.length>0?" "+c:c);continue}if(k=r(x),!k){c=d+(c.length>0?" "+c:c);continue}C=!1}const N=s(g).join(":"),z=b?N+qk:N,P=z+k;if(o.includes(P))continue;o.push(P);const H=i(k,C);for(let U=0;U<H.length;++U){const O=H[U];o.push(z+O)}c=d+(c.length>0?" "+c:c)}return c};function pG(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=l5(e))&&(r&&(r+=" "),r+=t);return r}const l5=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=l5(n[r]))&&(t&&(t+=" "),t+=e);return t};function mG(n,...e){let t,r,i,s=o;function o(c){const f=e.reduce((d,m)=>m(d),n());return t=fG(f),r=t.cache.get,i=t.cache.set,s=a,a(c)}function a(c){const f=r(c);if(f)return f;const d=hG(c,t);return i(c,d),d}return function(){return s(pG.apply(null,arguments))}}const vi=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},c5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,u5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gG=/^\d+\/\d+$/,yG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hg=n=>gG.test(n),Jt=n=>!!n&&!Number.isNaN(Number(n)),Kf=n=>!!n&&Number.isInteger(Number(n)),XA=n=>n.endsWith("%")&&Jt(n.slice(0,-1)),Su=n=>yG.test(n),SG=()=>!0,EG=n=>vG.test(n)&&!bG.test(n),f5=()=>!1,_G=n=>wG.test(n),TG=n=>xG.test(n),CG=n=>!Ke(n)&&!Ye(n),AG=n=>lv(n,p5,f5),Ke=n=>c5.test(n),pp=n=>lv(n,m5,EG),QA=n=>lv(n,IG,Jt),BN=n=>lv(n,d5,f5),RG=n=>lv(n,h5,TG),TS=n=>lv(n,g5,_G),Ye=n=>u5.test(n),Z0=n=>cv(n,m5),kG=n=>cv(n,OG),zN=n=>cv(n,d5),MG=n=>cv(n,p5),DG=n=>cv(n,h5),CS=n=>cv(n,g5,!0),lv=(n,e,t)=>{const r=c5.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},cv=(n,e,t=!1)=>{const r=u5.exec(n);return r?r[1]?e(r[1]):t:!1},d5=n=>n==="position"||n==="percentage",h5=n=>n==="image"||n==="url",p5=n=>n==="length"||n==="size"||n==="bg-size",m5=n=>n==="length",IG=n=>n==="number",OG=n=>n==="family-name",g5=n=>n==="shadow",NG=()=>{const n=vi("color"),e=vi("font"),t=vi("text"),r=vi("font-weight"),i=vi("tracking"),s=vi("leading"),o=vi("breakpoint"),a=vi("container"),c=vi("spacing"),f=vi("radius"),d=vi("shadow"),m=vi("inset-shadow"),g=vi("text-shadow"),b=vi("drop-shadow"),x=vi("blur"),_=vi("perspective"),C=vi("aspect"),k=vi("ease"),N=vi("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...P(),Ye,Ke],U=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[Ye,Ke,c],V=()=>[Hg,"full","auto",...D()],F=()=>[Kf,"none","subgrid",Ye,Ke],W=()=>["auto",{span:["full",Kf,Ye,Ke]},Kf,Ye,Ke],X=()=>[Kf,"auto",Ye,Ke],G=()=>["auto","min","max","fr",Ye,Ke],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...D()],se=()=>[Hg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],te=()=>[n,Ye,Ke],we=()=>[...P(),zN,BN,{position:[Ye,Ke]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",MG,AG,{size:[Ye,Ke]}],ve=()=>[XA,Z0,pp],ne=()=>["","none","full",f,Ye,Ke],ge=()=>["",Jt,Z0,pp],Re=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Jt,XA,zN,BN],Le=()=>["","none",x,Ye,Ke],He=()=>["none",Jt,Ye,Ke],it=()=>["none",Jt,Ye,Ke],Lt=()=>[Jt,Ye,Ke],Kt=()=>[Hg,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Su],breakpoint:[Su],color:[SG],container:[Su],"drop-shadow":[Su],ease:["in","out","in-out"],font:[CG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Su],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Su],shadow:[Su],spacing:["px",Jt],text:[Su],"text-shadow":[Su],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hg,Ke,Ye,C]}],container:["container"],columns:[{columns:[Jt,Ke,Ye,a]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Kf,"auto",Ye,Ke]}],basis:[{basis:[Hg,"full","auto",a,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Jt,Hg,"auto","initial","none",Ke]}],grow:[{grow:["",Jt,Ye,Ke]}],shrink:[{shrink:["",Jt,Ye,Ke]}],order:[{order:[Kf,"first","last","none",Ye,Ke]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[a,"screen",...se()]}],"min-w":[{"min-w":[a,"screen","none",...se()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",t,Z0,pp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ye,QA]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",XA,Ke]}],"font-family":[{font:[kG,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ye,Ke]}],"line-clamp":[{"line-clamp":[Jt,"none",Ye,QA]}],leading:[{leading:[s,...D()]}],"list-image":[{"list-image":["none",Ye,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Jt,"from-font","auto",Ye,pp]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Jt,"auto",Ye,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:we()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kf,Ye,Ke],radial:["",Ye,Ke],conic:[Kf,Ye,Ke]},DG,RG]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Jt,Ye,Ke]}],"outline-w":[{outline:["",Jt,Z0,pp]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",d,CS,TS]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",m,CS,TS]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Jt,pp]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",g,CS,TS]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Jt,Ye,Ke]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[Ye,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:we()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Ke]}],filter:[{filter:["","none",Ye,Ke]}],blur:[{blur:Le()}],brightness:[{brightness:[Jt,Ye,Ke]}],contrast:[{contrast:[Jt,Ye,Ke]}],"drop-shadow":[{"drop-shadow":["","none",b,CS,TS]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Jt,Ye,Ke]}],"hue-rotate":[{"hue-rotate":[Jt,Ye,Ke]}],invert:[{invert:["",Jt,Ye,Ke]}],saturate:[{saturate:[Jt,Ye,Ke]}],sepia:[{sepia:["",Jt,Ye,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Ke]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[Jt,Ye,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Jt,Ye,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Jt,Ye,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Jt,Ye,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Jt,Ye,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Jt,Ye,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Jt,Ye,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Jt,Ye,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Jt,"initial",Ye,Ke]}],ease:[{ease:["linear","initial",k,Ye,Ke]}],delay:[{delay:[Jt,Ye,Ke]}],animate:[{animate:["none",N,Ye,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Ye,Ke]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:Lt()}],"skew-x":[{"skew-x":Lt()}],"skew-y":[{"skew-y":Lt()}],transform:[{transform:[Ye,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Kt()}],"translate-x":[{"translate-x":Kt()}],"translate-y":[{"translate-y":Kt()}],"translate-z":[{"translate-z":Kt()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Ke]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Jt,Z0,pp,QA]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PG=mG(NG);function Je(...n){return PG(o5(n))}function jN({className:n,...e}){return R.jsx(ZW,{"data-slot":"avatar",className:Je("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function UN({className:n,...e}){return R.jsx(eG,{"data-slot":"avatar-image",className:Je("aspect-square size-full",n),...e})}function FN({className:n,...e}){return R.jsx(tG,{"data-slot":"avatar-fallback",className:Je("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}function rt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var LG=YD[" useInsertionEffect ".trim().toString()]||Da;function uv({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=VG({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:i;{const d=A.useRef(n!==void 0);A.useEffect(()=>{const m=d.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const f=A.useCallback(d=>{var m;if(a){const g=BG(d)?d(n):d;g!==n&&((m=o.current)==null||m.call(o,g))}else s(d)},[a,n,s,o]);return[c,f]}function VG({defaultProp:n,onChange:e}){const[t,r]=A.useState(n),i=A.useRef(t),s=A.useRef(e);return LG(()=>{s.current=e},[e]),A.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function BG(n){return typeof n=="function"}function y5(n){const e=n+"CollectionProvider",[t,r]=El(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:C,children:k}=_,N=Ne.useRef(null),z=Ne.useRef(new Map).current;return R.jsx(i,{scope:C,itemMap:z,collectionRef:N,children:k})};o.displayName=e;const a=n+"CollectionSlot",c=Kp(a),f=Ne.forwardRef((_,C)=>{const{scope:k,children:N}=_,z=s(a,k),P=qn(C,z.collectionRef);return R.jsx(c,{ref:P,children:N})});f.displayName=a;const d=n+"CollectionItemSlot",m="data-radix-collection-item",g=Kp(d),b=Ne.forwardRef((_,C)=>{const{scope:k,children:N,...z}=_,P=Ne.useRef(null),H=qn(C,P),U=s(d,k);return Ne.useEffect(()=>(U.itemMap.set(P,{ref:P,...z}),()=>void U.itemMap.delete(P))),R.jsx(g,{[m]:"",ref:H,children:N})});b.displayName=d;function x(_){const C=s(n+"CollectionConsumer",_);return Ne.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const z=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((U,O)=>z.indexOf(U.ref.current)-z.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:f,ItemSlot:b},x,r]}var zG=A.createContext(void 0);function tI(n){const e=A.useContext(zG);return n||e||"ltr"}function jG(n,e=globalThis==null?void 0:globalThis.document){const t=Ji(n);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var UG="DismissableLayer",Gk="dismissableLayer.update",FG="dismissableLayer.pointerDownOutside",HG="dismissableLayer.focusOutside",HN,v5=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ww=A.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=n,f=A.useContext(v5),[d,m]=A.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=A.useState({}),x=qn(e,O=>m(O)),_=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=_.indexOf(C),N=d?_.indexOf(d):-1,z=f.layersWithOutsidePointerEventsDisabled.size>0,P=N>=k,H=WG(O=>{const D=O.target,V=[...f.branches].some(F=>F.contains(D));!P||V||(i==null||i(O),o==null||o(O),O.defaultPrevented||a==null||a())},g),U=GG(O=>{const D=O.target;[...f.branches].some(F=>F.contains(D))||(s==null||s(O),o==null||o(O),O.defaultPrevented||a==null||a())},g);return jG(O=>{N===f.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},g),A.useEffect(()=>{if(d)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(HN=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),$N(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=HN)}},[d,g,t,f]),A.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),$N())},[d,f]),A.useEffect(()=>{const O=()=>b({});return document.addEventListener(Gk,O),()=>document.removeEventListener(Gk,O)},[]),R.jsx(xn.div,{...c,ref:x,style:{pointerEvents:z?P?"auto":"none":void 0,...n.style},onFocusCapture:rt(n.onFocusCapture,U.onFocusCapture),onBlurCapture:rt(n.onBlurCapture,U.onBlurCapture),onPointerDownCapture:rt(n.onPointerDownCapture,H.onPointerDownCapture)})});Ww.displayName=UG;var $G="DismissableLayerBranch",qG=A.forwardRef((n,e)=>{const t=A.useContext(v5),r=A.useRef(null),i=qn(e,r);return A.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),R.jsx(xn.div,{...n,ref:i})});qG.displayName=$G;function WG(n,e=globalThis==null?void 0:globalThis.document){const t=Ji(n),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){b5(FG,t,f,{discrete:!0})};const f={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function GG(n,e=globalThis==null?void 0:globalThis.document){const t=Ji(n),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&b5(HG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $N(){const n=new CustomEvent(Gk);document.dispatchEvent(n)}function b5(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?QB(i,s):i.dispatchEvent(s)}var JA=0;function nI(){A.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??qN()),document.body.insertAdjacentElement("beforeend",n[1]??qN()),JA++,()=>{JA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),JA--}},[])}function qN(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ZA="focusScope.autoFocusOnMount",eR="focusScope.autoFocusOnUnmount",WN={bubbles:!1,cancelable:!0},KG="FocusScope",OT=A.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,c]=A.useState(null),f=Ji(i),d=Ji(s),m=A.useRef(null),g=qn(e,_=>c(_)),b=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let _=function(z){if(b.paused||!a)return;const P=z.target;a.contains(P)?m.current=P:Qf(m.current,{select:!0})},C=function(z){if(b.paused||!a)return;const P=z.relatedTarget;P!==null&&(a.contains(P)||Qf(m.current,{select:!0}))},k=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&Qf(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const N=new MutationObserver(k);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),N.disconnect()}}},[r,a,b.paused]),A.useEffect(()=>{if(a){KN.add(b);const _=document.activeElement;if(!a.contains(_)){const k=new CustomEvent(ZA,WN);a.addEventListener(ZA,f),a.dispatchEvent(k),k.defaultPrevented||(YG(eK(w5(a)),{select:!0}),document.activeElement===_&&Qf(a))}return()=>{a.removeEventListener(ZA,f),setTimeout(()=>{const k=new CustomEvent(eR,WN);a.addEventListener(eR,d),a.dispatchEvent(k),k.defaultPrevented||Qf(_??document.body,{select:!0}),a.removeEventListener(eR,d),KN.remove(b)},0)}}},[a,f,d,b]);const x=A.useCallback(_=>{if(!t&&!r||b.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,k=document.activeElement;if(C&&k){const N=_.currentTarget,[z,P]=XG(N);z&&P?!_.shiftKey&&k===P?(_.preventDefault(),t&&Qf(z,{select:!0})):_.shiftKey&&k===z&&(_.preventDefault(),t&&Qf(P,{select:!0})):k===N&&_.preventDefault()}},[t,r,b.paused]);return R.jsx(xn.div,{tabIndex:-1,...o,ref:g,onKeyDown:x})});OT.displayName=KG;function YG(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Qf(r,{select:e}),document.activeElement!==t)return}function XG(n){const e=w5(n),t=GN(e,n),r=GN(e.reverse(),n);return[t,r]}function w5(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function GN(n,e){for(const t of n)if(!QG(t,{upTo:e}))return t}function QG(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function JG(n){return n instanceof HTMLInputElement&&"select"in n}function Qf(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&JG(n)&&e&&n.select()}}var KN=ZG();function ZG(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=YN(n,e),n.unshift(e)},remove(e){var t;n=YN(n,e),(t=n[0])==null||t.resume()}}}function YN(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function eK(n){return n.filter(e=>e.tagName!=="A")}var tK=YD[" useId ".trim().toString()]||(()=>{}),nK=0;function vd(n){const[e,t]=A.useState(tK());return Da(()=>{t(r=>r??String(nK++))},[n]),n||(e?`radix-${e}`:"")}const rK=["top","right","bottom","left"],Md=Math.min,qo=Math.max,e_=Math.round,AS=Math.floor,gc=n=>({x:n,y:n}),iK={left:"right",right:"left",bottom:"top",top:"bottom"},sK={start:"end",end:"start"};function Kk(n,e,t){return qo(n,Md(e,t))}function ju(n,e){return typeof n=="function"?n(e):n}function Uu(n){return n.split("-")[0]}function fv(n){return n.split("-")[1]}function rI(n){return n==="x"?"y":"x"}function iI(n){return n==="y"?"height":"width"}function pc(n){return["top","bottom"].includes(Uu(n))?"y":"x"}function sI(n){return rI(pc(n))}function oK(n,e,t){t===void 0&&(t=!1);const r=fv(n),i=sI(n),s=iI(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=t_(o)),[o,t_(o)]}function aK(n){const e=t_(n);return[Yk(n),e,Yk(e)]}function Yk(n){return n.replace(/start|end/g,e=>sK[e])}function lK(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function cK(n,e,t,r){const i=fv(n);let s=lK(Uu(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Yk)))),s}function t_(n){return n.replace(/left|right|bottom|top/g,e=>iK[e])}function uK(n){return{top:0,right:0,bottom:0,left:0,...n}}function x5(n){return typeof n!="number"?uK(n):{top:n,right:n,bottom:n,left:n}}function n_(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function XN(n,e,t){let{reference:r,floating:i}=n;const s=pc(e),o=sI(e),a=iI(o),c=Uu(e),f=s==="y",d=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let b;switch(c){case"top":b={x:d,y:r.y-i.height};break;case"bottom":b={x:d,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(fv(e)){case"start":b[o]-=g*(t&&f?-1:1);break;case"end":b[o]+=g*(t&&f?-1:1);break}return b}const fK=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:m}=XN(f,r,c),g=r,b={},x=0;for(let _=0;_<a.length;_++){const{name:C,fn:k}=a[_],{x:N,y:z,data:P,reset:H}=await k({x:d,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:b,rects:f,platform:o,elements:{reference:n,floating:e}});d=N??d,m=z??m,b={...b,[C]:{...b[C],...P}},H&&x<=50&&(x++,typeof H=="object"&&(H.placement&&(g=H.placement),H.rects&&(f=H.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):H.rects),{x:d,y:m}=XN(f,g,c)),_=-1)}return{x:d,y:m,placement:g,strategy:i,middlewareData:b}};async function sw(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=n,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:g=!1,padding:b=0}=ju(e,n),x=x5(b),C=a[g?m==="floating"?"reference":"floating":m],k=n_(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(C)))==null||t?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:c})),N=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(z))?await(s.getScale==null?void 0:s.getScale(z))||{x:1,y:1}:{x:1,y:1},H=n_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:N,offsetParent:z,strategy:c}):N);return{top:(k.top-H.top+x.top)/P.y,bottom:(H.bottom-k.bottom+x.bottom)/P.y,left:(k.left-H.left+x.left)/P.x,right:(H.right-k.right+x.right)/P.x}}const dK=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:f,padding:d=0}=ju(n,e)||{};if(f==null)return{};const m=x5(d),g={x:t,y:r},b=sI(i),x=iI(b),_=await o.getDimensions(f),C=b==="y",k=C?"top":"left",N=C?"bottom":"right",z=C?"clientHeight":"clientWidth",P=s.reference[x]+s.reference[b]-g[b]-s.floating[x],H=g[b]-s.reference[b],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let O=U?U[z]:0;(!O||!await(o.isElement==null?void 0:o.isElement(U)))&&(O=a.floating[z]||s.floating[x]);const D=P/2-H/2,V=O/2-_[x]/2-1,F=Md(m[k],V),W=Md(m[N],V),X=F,G=O-_[x]-W,Te=O/2-_[x]/2+D,Ee=Kk(X,Te,G),J=!c.arrow&&fv(i)!=null&&Te!==Ee&&s.reference[x]/2-(Te<X?F:W)-_[x]/2<0,se=J?Te<X?Te-X:Te-G:0;return{[b]:g[b]+se,data:{[b]:Ee,centerOffset:Te-Ee-se,...J&&{alignmentOffset:se}},reset:J}}}),hK=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:f}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...C}=ju(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const k=Uu(i),N=pc(a),z=Uu(a)===a,P=await(c.isRTL==null?void 0:c.isRTL(f.floating)),H=g||(z||!_?[t_(a)]:aK(a)),U=x!=="none";!g&&U&&H.push(...cK(a,_,x,P));const O=[a,...H],D=await sw(e,C),V=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&V.push(D[k]),m){const Te=oK(i,o,P);V.push(D[Te[0]],D[Te[1]])}if(F=[...F,{placement:i,overflows:V}],!V.every(Te=>Te<=0)){var W,X;const Te=(((W=s.flip)==null?void 0:W.index)||0)+1,Ee=O[Te];if(Ee&&(!(m==="alignment"?N!==pc(Ee):!1)||F.every(te=>te.overflows[0]>0&&pc(te.placement)===N)))return{data:{index:Te,overflows:F},reset:{placement:Ee}};let J=(X=F.filter(se=>se.overflows[0]<=0).sort((se,te)=>se.overflows[1]-te.overflows[1])[0])==null?void 0:X.placement;if(!J)switch(b){case"bestFit":{var G;const se=(G=F.filter(te=>{if(U){const we=pc(te.placement);return we===N||we==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(we=>we>0).reduce((we,Q)=>we+Q,0)]).sort((te,we)=>te[1]-we[1])[0])==null?void 0:G[0];se&&(J=se);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function QN(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function JN(n){return rK.some(e=>n[e]>=0)}const pK=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=ju(n,e);switch(r){case"referenceHidden":{const s=await sw(e,{...i,elementContext:"reference"}),o=QN(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JN(o)}}}case"escaped":{const s=await sw(e,{...i,altBoundary:!0}),o=QN(s,t.floating);return{data:{escapedOffsets:o,escaped:JN(o)}}}default:return{}}}}};async function mK(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Uu(t),a=fv(t),c=pc(t)==="y",f=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,m=ju(e,n);let{mainAxis:g,crossAxis:b,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof x=="number"&&(b=a==="end"?x*-1:x),c?{x:b*d,y:g*f}:{x:g*f,y:b*d}}const gK=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await mK(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},yK=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:k,y:N}=C;return{x:k,y:N}}},...c}=ju(n,e),f={x:t,y:r},d=await sw(e,c),m=pc(Uu(i)),g=rI(m);let b=f[g],x=f[m];if(s){const C=g==="y"?"top":"left",k=g==="y"?"bottom":"right",N=b+d[C],z=b-d[k];b=Kk(N,b,z)}if(o){const C=m==="y"?"top":"left",k=m==="y"?"bottom":"right",N=x+d[C],z=x-d[k];x=Kk(N,x,z)}const _=a.fn({...e,[g]:b,[m]:x});return{..._,data:{x:_.x-t,y:_.y-r,enabled:{[g]:s,[m]:o}}}}}},vK=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:f=!0}=ju(n,e),d={x:t,y:r},m=pc(i),g=rI(m);let b=d[g],x=d[m];const _=ju(a,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const z=g==="y"?"height":"width",P=s.reference[g]-s.floating[z]+C.mainAxis,H=s.reference[g]+s.reference[z]-C.mainAxis;b<P?b=P:b>H&&(b=H)}if(f){var k,N;const z=g==="y"?"width":"height",P=["top","left"].includes(Uu(i)),H=s.reference[m]-s.floating[z]+(P&&((k=o.offset)==null?void 0:k[m])||0)+(P?0:C.crossAxis),U=s.reference[m]+s.reference[z]+(P?0:((N=o.offset)==null?void 0:N[m])||0)-(P?C.crossAxis:0);x<H?x=H:x>U&&(x=U)}return{[g]:b,[m]:x}}}},bK=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...f}=ju(n,e),d=await sw(e,f),m=Uu(i),g=fv(i),b=pc(i)==="y",{width:x,height:_}=s.floating;let C,k;m==="top"||m==="bottom"?(C=m,k=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(k=m,C=g==="end"?"top":"bottom");const N=_-d.top-d.bottom,z=x-d.left-d.right,P=Md(_-d[C],N),H=Md(x-d[k],z),U=!e.middlewareData.shift;let O=P,D=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(D=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=N),U&&!g){const F=qo(d.left,0),W=qo(d.right,0),X=qo(d.top,0),G=qo(d.bottom,0);b?D=x-2*(F!==0||W!==0?F+W:qo(d.left,d.right)):O=_-2*(X!==0||G!==0?X+G:qo(d.top,d.bottom))}await c({...e,availableWidth:D,availableHeight:O});const V=await o.getDimensions(a.floating);return x!==V.width||_!==V.height?{reset:{rects:!0}}:{}}}};function NT(){return typeof window<"u"}function dv(n){return S5(n)?(n.nodeName||"").toLowerCase():"#document"}function Yo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Pc(n){var e;return(e=(S5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function S5(n){return NT()?n instanceof Node||n instanceof Yo(n).Node:!1}function wl(n){return NT()?n instanceof Element||n instanceof Yo(n).Element:!1}function Cc(n){return NT()?n instanceof HTMLElement||n instanceof Yo(n).HTMLElement:!1}function ZN(n){return!NT()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Yo(n).ShadowRoot}function Gw(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=xl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function wK(n){return["table","td","th"].includes(dv(n))}function PT(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function oI(n){const e=aI(),t=wl(n)?xl(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function xK(n){let e=Dd(n);for(;Cc(e)&&!Iy(e);){if(oI(e))return e;if(PT(e))return null;e=Dd(e)}return null}function aI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Iy(n){return["html","body","#document"].includes(dv(n))}function xl(n){return Yo(n).getComputedStyle(n)}function LT(n){return wl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Dd(n){if(dv(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ZN(n)&&n.host||Pc(n);return ZN(e)?e.host:e}function E5(n){const e=Dd(n);return Iy(e)?n.ownerDocument?n.ownerDocument.body:n.body:Cc(e)&&Gw(e)?e:E5(e)}function ow(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=E5(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Yo(i);if(s){const a=Xk(o);return e.concat(o,o.visualViewport||[],Gw(i)?i:[],a&&t?ow(a):[])}return e.concat(i,ow(i,[],t))}function Xk(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _5(n){const e=xl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Cc(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=e_(t)!==s||e_(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function lI(n){return wl(n)?n:n.contextElement}function wy(n){const e=lI(n);if(!Cc(e))return gc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=_5(e);let o=(s?e_(t.width):t.width)/r,a=(s?e_(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const SK=gc(0);function T5(n){const e=Yo(n);return!aI()||!e.visualViewport?SK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EK(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Yo(n)?!1:e}function Yp(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=lI(n);let o=gc(1);e&&(r?wl(r)&&(o=wy(r)):o=wy(n));const a=EK(s,t,r)?T5(s):gc(0);let c=(i.left+a.x)/o.x,f=(i.top+a.y)/o.y,d=i.width/o.x,m=i.height/o.y;if(s){const g=Yo(s),b=r&&wl(r)?Yo(r):r;let x=g,_=Xk(x);for(;_&&r&&b!==x;){const C=wy(_),k=_.getBoundingClientRect(),N=xl(_),z=k.left+(_.clientLeft+parseFloat(N.paddingLeft))*C.x,P=k.top+(_.clientTop+parseFloat(N.paddingTop))*C.y;c*=C.x,f*=C.y,d*=C.x,m*=C.y,c+=z,f+=P,x=Yo(_),_=Xk(x)}}return n_({width:d,height:m,x:c,y:f})}function cI(n,e){const t=LT(n).scrollLeft;return e?e.left+t:Yp(Pc(n)).left+t}function C5(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:cI(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function _K(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Pc(r),a=e?PT(e.floating):!1;if(r===o||a&&s)return t;let c={scrollLeft:0,scrollTop:0},f=gc(1);const d=gc(0),m=Cc(r);if((m||!m&&!s)&&((dv(r)!=="body"||Gw(o))&&(c=LT(r)),Cc(r))){const b=Yp(r);f=wy(r),d.x=b.x+r.clientLeft,d.y=b.y+r.clientTop}const g=o&&!m&&!s?C5(o,c,!0):gc(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-c.scrollLeft*f.x+d.x+g.x,y:t.y*f.y-c.scrollTop*f.y+d.y+g.y}}function TK(n){return Array.from(n.getClientRects())}function CK(n){const e=Pc(n),t=LT(n),r=n.ownerDocument.body,i=qo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=qo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+cI(n);const a=-t.scrollTop;return xl(r).direction==="rtl"&&(o+=qo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function AK(n,e){const t=Yo(n),r=Pc(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const f=aI();(!f||f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function RK(n,e){const t=Yp(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Cc(n)?wy(n):gc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,c=i*s.x,f=r*s.y;return{width:o,height:a,x:c,y:f}}function eP(n,e,t){let r;if(e==="viewport")r=AK(n,t);else if(e==="document")r=CK(Pc(n));else if(wl(e))r=RK(e,t);else{const i=T5(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return n_(r)}function A5(n,e){const t=Dd(n);return t===e||!wl(t)||Iy(t)?!1:xl(t).position==="fixed"||A5(t,e)}function kK(n,e){const t=e.get(n);if(t)return t;let r=ow(n,[],!1).filter(a=>wl(a)&&dv(a)!=="body"),i=null;const s=xl(n).position==="fixed";let o=s?Dd(n):n;for(;wl(o)&&!Iy(o);){const a=xl(o),c=oI(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gw(o)&&!c&&A5(n,o))?r=r.filter(d=>d!==o):i=a,o=Dd(o)}return e.set(n,r),r}function MK(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?PT(e)?[]:kK(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((f,d)=>{const m=eP(e,d,i);return f.top=qo(m.top,f.top),f.right=Md(m.right,f.right),f.bottom=Md(m.bottom,f.bottom),f.left=qo(m.left,f.left),f},eP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function DK(n){const{width:e,height:t}=_5(n);return{width:e,height:t}}function IK(n,e,t){const r=Cc(e),i=Pc(e),s=t==="fixed",o=Yp(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=gc(0);function f(){c.x=cI(i)}if(r||!r&&!s)if((dv(e)!=="body"||Gw(i))&&(a=LT(e)),r){const b=Yp(e,!0,s,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&f();s&&!r&&i&&f();const d=i&&!r&&!s?C5(i,a):gc(0),m=o.left+a.scrollLeft-c.x-d.x,g=o.top+a.scrollTop-c.y-d.y;return{x:m,y:g,width:o.width,height:o.height}}function tR(n){return xl(n).position==="static"}function tP(n,e){if(!Cc(n)||xl(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Pc(n)===t&&(t=t.ownerDocument.body),t}function R5(n,e){const t=Yo(n);if(PT(n))return t;if(!Cc(n)){let i=Dd(n);for(;i&&!Iy(i);){if(wl(i)&&!tR(i))return i;i=Dd(i)}return t}let r=tP(n,e);for(;r&&wK(r)&&tR(r);)r=tP(r,e);return r&&Iy(r)&&tR(r)&&!oI(r)?t:r||xK(n)||t}const OK=async function(n){const e=this.getOffsetParent||R5,t=this.getDimensions,r=await t(n.floating);return{reference:IK(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NK(n){return xl(n).direction==="rtl"}const PK={convertOffsetParentRelativeRectToViewportRelativeRect:_K,getDocumentElement:Pc,getClippingRect:MK,getOffsetParent:R5,getElementRects:OK,getClientRects:TK,getDimensions:DK,getScale:wy,isElement:wl,isRTL:NK};function k5(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function LK(n,e){let t=null,r;const i=Pc(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const f=n.getBoundingClientRect(),{left:d,top:m,width:g,height:b}=f;if(a||e(),!g||!b)return;const x=AS(m),_=AS(i.clientWidth-(d+g)),C=AS(i.clientHeight-(m+b)),k=AS(d),z={rootMargin:-x+"px "+-_+"px "+-C+"px "+-k+"px",threshold:qo(0,Md(1,c))||1};let P=!0;function H(U){const O=U[0].intersectionRatio;if(O!==c){if(!P)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!k5(f,n.getBoundingClientRect())&&o(),P=!1}try{t=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{t=new IntersectionObserver(H,z)}t.observe(n)}return o(!0),s}function VK(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=lI(n),d=i||s?[...f?ow(f):[],...ow(e)]:[];d.forEach(k=>{i&&k.addEventListener("scroll",t,{passive:!0}),s&&k.addEventListener("resize",t)});const m=f&&a?LK(f,t):null;let g=-1,b=null;o&&(b=new ResizeObserver(k=>{let[N]=k;N&&N.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var z;(z=b)==null||z.observe(e)})),t()}),f&&!c&&b.observe(f),b.observe(e));let x,_=c?Yp(n):null;c&&C();function C(){const k=Yp(n);_&&!k5(_,k)&&t(),_=k,x=requestAnimationFrame(C)}return t(),()=>{var k;d.forEach(N=>{i&&N.removeEventListener("scroll",t),s&&N.removeEventListener("resize",t)}),m==null||m(),(k=b)==null||k.disconnect(),b=null,c&&cancelAnimationFrame(x)}}const BK=gK,zK=yK,jK=hK,UK=bK,FK=pK,nP=dK,HK=vK,$K=(n,e,t)=>{const r=new Map,i={platform:PK,...t},s={...i.platform,_c:r};return fK(n,e,{...i,platform:s})};var qK=typeof document<"u",WK=function(){},vE=qK?A.useLayoutEffect:WK;function r_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!r_(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!r_(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function M5(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function rP(n,e){const t=M5(n);return Math.round(e*t)/t}function nR(n){const e=A.useRef(n);return vE(()=>{e.current=n}),e}function GK(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:f}=n,[d,m]=A.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,b]=A.useState(r);r_(g,r)||b(r);const[x,_]=A.useState(null),[C,k]=A.useState(null),N=A.useCallback(te=>{te!==U.current&&(U.current=te,_(te))},[]),z=A.useCallback(te=>{te!==O.current&&(O.current=te,k(te))},[]),P=s||x,H=o||C,U=A.useRef(null),O=A.useRef(null),D=A.useRef(d),V=c!=null,F=nR(c),W=nR(i),X=nR(f),G=A.useCallback(()=>{if(!U.current||!O.current)return;const te={placement:e,strategy:t,middleware:g};W.current&&(te.platform=W.current),$K(U.current,O.current,te).then(we=>{const Q={...we,isPositioned:X.current!==!1};Te.current&&!r_(D.current,Q)&&(D.current=Q,MT.flushSync(()=>{m(Q)}))})},[g,e,t,W,X]);vE(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(te=>({...te,isPositioned:!1})))},[f]);const Te=A.useRef(!1);vE(()=>(Te.current=!0,()=>{Te.current=!1}),[]),vE(()=>{if(P&&(U.current=P),H&&(O.current=H),P&&H){if(F.current)return F.current(P,H,G);G()}},[P,H,G,F,V]);const Ee=A.useMemo(()=>({reference:U,floating:O,setReference:N,setFloating:z}),[N,z]),J=A.useMemo(()=>({reference:P,floating:H}),[P,H]),se=A.useMemo(()=>{const te={position:t,left:0,top:0};if(!J.floating)return te;const we=rP(J.floating,d.x),Q=rP(J.floating,d.y);return a?{...te,transform:"translate("+we+"px, "+Q+"px)",...M5(J.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:we,top:Q}},[t,a,J.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:G,refs:Ee,elements:J,floatingStyles:se}),[d,G,Ee,J,se])}const KK=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?nP({element:r.current,padding:i}).fn(t):{}:r?nP({element:r,padding:i}).fn(t):{}}}},YK=(n,e)=>({...BK(n),options:[n,e]}),XK=(n,e)=>({...zK(n),options:[n,e]}),QK=(n,e)=>({...HK(n),options:[n,e]}),JK=(n,e)=>({...jK(n),options:[n,e]}),ZK=(n,e)=>({...UK(n),options:[n,e]}),eY=(n,e)=>({...FK(n),options:[n,e]}),tY=(n,e)=>({...KK(n),options:[n,e]});var nY="Arrow",D5=A.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return R.jsx(xn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});D5.displayName=nY;var rY=D5;function I5(n){const[e,t]=A.useState(void 0);return Da(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,f=Array.isArray(c)?c[0]:c;o=f.inlineSize,a=f.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var uI="Popper",[O5,hv]=El(uI),[iY,N5]=O5(uI),P5=n=>{const{__scopePopper:e,children:t}=n,[r,i]=A.useState(null);return R.jsx(iY,{scope:e,anchor:r,onAnchorChange:i,children:t})};P5.displayName=uI;var L5="PopperAnchor",V5=A.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=N5(L5,t),o=A.useRef(null),a=qn(e,o);return A.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:R.jsx(xn.div,{...i,ref:a})});V5.displayName=L5;var fI="PopperContent",[sY,oY]=O5(fI),B5=A.forwardRef((n,e)=>{var Ae,Le,He,it,Lt,Kt;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:x,..._}=n,C=N5(fI,t),[k,N]=A.useState(null),z=qn(e,Et=>N(Et)),[P,H]=A.useState(null),U=I5(P),O=(U==null?void 0:U.width)??0,D=(U==null?void 0:U.height)??0,V=r+(s!=="center"?"-"+s:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(f)?f:[f],X=W.length>0,G={padding:F,boundary:W.filter(lY),altBoundary:X},{refs:Te,floatingStyles:Ee,placement:J,isPositioned:se,middlewareData:te}=GK({strategy:"fixed",placement:V,whileElementsMounted:(...Et)=>VK(...Et,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[YK({mainAxis:i+D,alignmentAxis:o}),c&&XK({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?QK():void 0,...G}),c&&JK({...G}),ZK({...G,apply:({elements:Et,rects:Dt,availableWidth:tr,availableHeight:kr})=>{const{width:jt,height:kn}=Dt.reference,Pn=Et.floating.style;Pn.setProperty("--radix-popper-available-width",`${tr}px`),Pn.setProperty("--radix-popper-available-height",`${kr}px`),Pn.setProperty("--radix-popper-anchor-width",`${jt}px`),Pn.setProperty("--radix-popper-anchor-height",`${kn}px`)}}),P&&tY({element:P,padding:a}),cY({arrowWidth:O,arrowHeight:D}),g&&eY({strategy:"referenceHidden",...G})]}),[we,Q]=U5(J),ae=Ji(x);Da(()=>{se&&(ae==null||ae())},[se,ae]);const ve=(Ae=te.arrow)==null?void 0:Ae.x,ne=(Le=te.arrow)==null?void 0:Le.y,ge=((He=te.arrow)==null?void 0:He.centerOffset)!==0,[Re,ye]=A.useState();return Da(()=>{k&&ye(window.getComputedStyle(k).zIndex)},[k]),R.jsx("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:se?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(it=te.transformOrigin)==null?void 0:it.x,(Lt=te.transformOrigin)==null?void 0:Lt.y].join(" "),...((Kt=te.hide)==null?void 0:Kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:R.jsx(sY,{scope:t,placedSide:we,onArrowChange:H,arrowX:ve,arrowY:ne,shouldHideArrow:ge,children:R.jsx(xn.div,{"data-side":we,"data-align":Q,..._,ref:z,style:{..._.style,animation:se?void 0:"none"}})})})});B5.displayName=fI;var z5="PopperArrow",aY={top:"bottom",right:"left",bottom:"top",left:"right"},j5=A.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=oY(z5,r),o=aY[s.placedSide];return R.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:R.jsx(rY,{...i,ref:t,style:{...i.style,display:"block"}})})});j5.displayName=z5;function lY(n){return n!==null}var cY=n=>({name:"transformOrigin",options:n,fn(e){var C,k,N;const{placement:t,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[f,d]=U5(t),m={start:"0%",center:"50%",end:"100%"}[d],g=(((k=i.arrow)==null?void 0:k.x)??0)+a/2,b=(((N=i.arrow)==null?void 0:N.y)??0)+c/2;let x="",_="";return f==="bottom"?(x=o?m:`${g}px`,_=`${-c}px`):f==="top"?(x=o?m:`${g}px`,_=`${r.floating.height+c}px`):f==="right"?(x=`${-c}px`,_=o?m:`${b}px`):f==="left"&&(x=`${r.floating.width+c}px`,_=o?m:`${b}px`),{data:{x,y:_}}}});function U5(n){const[e,t="center"]=n.split("-");return[e,t]}var dI=P5,VT=V5,hI=B5,pI=j5,uY="Portal",Kw=A.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=A.useState(!1);Da(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?JD.createPortal(R.jsx(xn.div,{...r,ref:e}),o):null});Kw.displayName=uY;function fY(n,e){return A.useReducer((t,r)=>e[t][r]??t,n)}var ks=n=>{const{present:e,children:t}=n,r=dY(e),i=typeof t=="function"?t({present:r.isPresent}):A.Children.only(t),s=qn(r.ref,hY(i));return typeof t=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};ks.displayName="Presence";function dY(n){const[e,t]=A.useState(),r=A.useRef(null),i=A.useRef(n),s=A.useRef("none"),o=n?"mounted":"unmounted",[a,c]=fY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const f=RS(r.current);s.current=a==="mounted"?f:"none"},[a]),Da(()=>{const f=r.current,d=i.current;if(d!==n){const g=s.current,b=RS(f);n?c("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?c("UNMOUNT"):c(d&&g!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),Da(()=>{if(e){let f;const d=e.ownerDocument.defaultView??window,m=b=>{const _=RS(r.current).includes(b.animationName);if(b.target===e&&_&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},g=b=>{b.target===e&&(s.current=RS(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{d.clearTimeout(f),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(f=>{r.current=f?getComputedStyle(f):null,t(f)},[])}}function RS(n){return(n==null?void 0:n.animationName)||"none"}function hY(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var rR="rovingFocusGroup.onEntryFocus",pY={bubbles:!1,cancelable:!0},Yw="RovingFocusGroup",[Qk,F5,mY]=y5(Yw),[gY,H5]=El(Yw,[mY]),[yY,vY]=gY(Yw),$5=A.forwardRef((n,e)=>R.jsx(Qk.Provider,{scope:n.__scopeRovingFocusGroup,children:R.jsx(Qk.Slot,{scope:n.__scopeRovingFocusGroup,children:R.jsx(bY,{...n,ref:e})})}));$5.displayName=Yw;var bY=A.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...m}=n,g=A.useRef(null),b=qn(e,g),x=tI(s),[_,C]=uv({prop:o,defaultProp:a??null,onChange:c,caller:Yw}),[k,N]=A.useState(!1),z=Ji(f),P=F5(t),H=A.useRef(!1),[U,O]=A.useState(0);return A.useEffect(()=>{const D=g.current;if(D)return D.addEventListener(rR,z),()=>D.removeEventListener(rR,z)},[z]),R.jsx(yY,{scope:t,orientation:r,dir:x,loop:i,currentTabStopId:_,onItemFocus:A.useCallback(D=>C(D),[C]),onItemShiftTab:A.useCallback(()=>N(!0),[]),onFocusableItemAdd:A.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:A.useCallback(()=>O(D=>D-1),[]),children:R.jsx(xn.div,{tabIndex:k||U===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...n.style},onMouseDown:rt(n.onMouseDown,()=>{H.current=!0}),onFocus:rt(n.onFocus,D=>{const V=!H.current;if(D.target===D.currentTarget&&V&&!k){const F=new CustomEvent(rR,pY);if(D.currentTarget.dispatchEvent(F),!F.defaultPrevented){const W=P().filter(J=>J.focusable),X=W.find(J=>J.active),G=W.find(J=>J.id===_),Ee=[X,G,...W].filter(Boolean).map(J=>J.ref.current);G5(Ee,d)}}H.current=!1}),onBlur:rt(n.onBlur,()=>N(!1))})})}),q5="RovingFocusGroupItem",W5=A.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,c=vd(),f=s||c,d=vY(q5,t),m=d.currentTabStopId===f,g=F5(t),{onFocusableItemAdd:b,onFocusableItemRemove:x,currentTabStopId:_}=d;return A.useEffect(()=>{if(r)return b(),()=>x()},[r,b,x]),R.jsx(Qk.ItemSlot,{scope:t,id:f,focusable:r,active:i,children:R.jsx(xn.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:rt(n.onMouseDown,C=>{r?d.onItemFocus(f):C.preventDefault()}),onFocus:rt(n.onFocus,()=>d.onItemFocus(f)),onKeyDown:rt(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=SY(C,d.orientation,d.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let z=g().filter(P=>P.focusable).map(P=>P.ref.current);if(k==="last")z.reverse();else if(k==="prev"||k==="next"){k==="prev"&&z.reverse();const P=z.indexOf(C.currentTarget);z=d.loop?EY(z,P+1):z.slice(P+1)}setTimeout(()=>G5(z))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:_!=null}):o})})});W5.displayName=q5;var wY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xY(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function SY(n,e,t){const r=xY(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wY[r]}function G5(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function EY(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var _Y=$5,TY=W5,CY=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},$g=new WeakMap,kS=new WeakMap,MS={},iR=0,K5=function(n){return n&&(n.host||K5(n.parentNode))},AY=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=K5(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},RY=function(n,e,t,r){var i=AY(e,Array.isArray(n)?n:[n]);MS[t]||(MS[t]=new WeakMap);var s=MS[t],o=[],a=new Set,c=new Set(i),f=function(m){!m||a.has(m)||(a.add(m),f(m.parentNode))};i.forEach(f);var d=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(g){if(a.has(g))d(g);else try{var b=g.getAttribute(r),x=b!==null&&b!=="false",_=($g.get(g)||0)+1,C=(s.get(g)||0)+1;$g.set(g,_),s.set(g,C),o.push(g),_===1&&x&&kS.set(g,!0),C===1&&g.setAttribute(t,"true"),x||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return d(e),a.clear(),iR++,function(){o.forEach(function(m){var g=$g.get(m)-1,b=s.get(m)-1;$g.set(m,g),s.set(m,b),g||(kS.has(m)||m.removeAttribute(r),kS.delete(m)),b||m.removeAttribute(t)}),iR--,iR||($g=new WeakMap,$g=new WeakMap,kS=new WeakMap,MS={})}},mI=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=CY(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),RY(r,i,t,"aria-hidden")):function(){return null}},hc=function(){return hc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hc.apply(this,arguments)};function Xw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function kY(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var bE="right-scroll-bar-position",wE="width-before-scroll-bar",MY="with-scroll-bars-hidden",DY="--removed-body-scroll-bar-size";function sR(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function IY(n,e){var t=A.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var OY=typeof window<"u"?A.useLayoutEffect:A.useEffect,iP=new WeakMap;function NY(n,e){var t=IY(null,function(r){return n.forEach(function(i){return sR(i,r)})});return OY(function(){var r=iP.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||sR(a,null)}),s.forEach(function(a){i.has(a)||sR(a,o)})}iP.set(t,n)},[n]),t}function PY(n){return n}function LY(n,e){e===void 0&&(e=PY);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var c=function(){var d=o;o=[],d.forEach(s)},f=function(){return Promise.resolve().then(c)};f(),t={push:function(d){o.push(d),f()},filter:function(d){return o=o.filter(d),t}}}};return i}function VY(n){n===void 0&&(n={});var e=LY(null);return e.options=hc({async:!0,ssr:!1},n),e}var Y5=function(n){var e=n.sideCar,t=Xw(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,hc({},t))};Y5.isSideCarExport=!0;function BY(n,e){return n.useMedium(e),Y5}var X5=VY(),oR=function(){},BT=A.forwardRef(function(n,e){var t=A.useRef(null),r=A.useState({onScrollCapture:oR,onWheelCapture:oR,onTouchMoveCapture:oR}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,c=n.className,f=n.removeScrollBar,d=n.enabled,m=n.shards,g=n.sideCar,b=n.noRelative,x=n.noIsolation,_=n.inert,C=n.allowPinchZoom,k=n.as,N=k===void 0?"div":k,z=n.gapMode,P=Xw(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=g,U=NY([t,e]),O=hc(hc({},P),i);return A.createElement(A.Fragment,null,d&&A.createElement(H,{sideCar:X5,removeScrollBar:f,shards:m,noRelative:b,noIsolation:x,inert:_,setCallbacks:s,allowPinchZoom:!!C,lockRef:t,gapMode:z}),o?A.cloneElement(A.Children.only(a),hc(hc({},O),{ref:U})):A.createElement(N,hc({},O,{className:c,ref:U}),a))});BT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};BT.classNames={fullWidth:wE,zeroRight:bE};var zY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jY(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=zY();return e&&n.setAttribute("nonce",e),n}function UY(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FY(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var HY=function(){var n=0,e=null;return{add:function(t){n==0&&(e=jY())&&(UY(e,t),FY(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$Y=function(){var n=HY();return function(e,t){A.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Q5=function(){var n=$Y(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},qY={left:0,top:0,right:0,gap:0},aR=function(n){return parseInt(n||"",10)||0},WY=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[aR(t),aR(r),aR(i)]},GY=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return qY;var e=WY(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},KY=Q5(),xy="data-scroll-locked",YY=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(MY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xy,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bE,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wE,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bE," .").concat(bE,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wE," .").concat(wE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xy,`] {
    `).concat(DY,": ").concat(a,`px;
  }
`)},sP=function(){var n=parseInt(document.body.getAttribute(xy)||"0",10);return isFinite(n)?n:0},XY=function(){A.useEffect(function(){return document.body.setAttribute(xy,(sP()+1).toString()),function(){var n=sP()-1;n<=0?document.body.removeAttribute(xy):document.body.setAttribute(xy,n.toString())}},[])},QY=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;XY();var s=A.useMemo(function(){return GY(i)},[i]);return A.createElement(KY,{styles:YY(s,!e,i,t?"":"!important")})},Jk=!1;if(typeof window<"u")try{var DS=Object.defineProperty({},"passive",{get:function(){return Jk=!0,!0}});window.addEventListener("test",DS,DS),window.removeEventListener("test",DS,DS)}catch{Jk=!1}var qg=Jk?{passive:!1}:!1,JY=function(n){return n.tagName==="TEXTAREA"},J5=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!JY(n)&&t[e]==="visible")},ZY=function(n){return J5(n,"overflowY")},eX=function(n){return J5(n,"overflowX")},oP=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Z5(n,r);if(i){var s=ez(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},tX=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},nX=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Z5=function(n,e){return n==="v"?ZY(e):eX(e)},ez=function(n,e){return n==="v"?tX(e):nX(e)},rX=function(n,e){return n==="h"&&e==="rtl"?-1:1},iX=function(n,e,t,r,i){var s=rX(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,c=e.contains(a),f=!1,d=o>0,m=0,g=0;do{if(!a)break;var b=ez(n,a),x=b[0],_=b[1],C=b[2],k=_-C-s*x;(x||k)&&Z5(n,a)&&(m+=k,g+=x);var N=a.parentNode;a=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(m)<1||!d&&Math.abs(g)<1)&&(f=!0),f},IS=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},aP=function(n){return[n.deltaX,n.deltaY]},lP=function(n){return n&&"current"in n?n.current:n},sX=function(n,e){return n[0]===e[0]&&n[1]===e[1]},oX=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},aX=0,Wg=[];function lX(n){var e=A.useRef([]),t=A.useRef([0,0]),r=A.useRef(),i=A.useState(aX++)[0],s=A.useState(Q5)[0],o=A.useRef(n);A.useEffect(function(){o.current=n},[n]),A.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var _=kY([n.lockRef.current],(n.shards||[]).map(lP),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=A.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var k=IS(_),N=t.current,z="deltaX"in _?_.deltaX:N[0]-k[0],P="deltaY"in _?_.deltaY:N[1]-k[1],H,U=_.target,O=Math.abs(z)>Math.abs(P)?"h":"v";if("touches"in _&&O==="h"&&U.type==="range")return!1;var D=oP(O,U);if(!D)return!0;if(D?H=O:(H=O==="v"?"h":"v",D=oP(O,U)),!D)return!1;if(!r.current&&"changedTouches"in _&&(z||P)&&(r.current=H),!H)return!0;var V=r.current||H;return iX(V,C,_,V==="h"?z:P)},[]),c=A.useCallback(function(_){var C=_;if(!(!Wg.length||Wg[Wg.length-1]!==s)){var k="deltaY"in C?aP(C):IS(C),N=e.current.filter(function(H){return H.name===C.type&&(H.target===C.target||C.target===H.shadowParent)&&sX(H.delta,k)})[0];if(N&&N.should){C.cancelable&&C.preventDefault();return}if(!N){var z=(o.current.shards||[]).map(lP).filter(Boolean).filter(function(H){return H.contains(C.target)}),P=z.length>0?a(C,z[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),f=A.useCallback(function(_,C,k,N){var z={name:_,delta:C,target:k,should:N,shadowParent:cX(k)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(P){return P!==z})},1)},[]),d=A.useCallback(function(_){t.current=IS(_),r.current=void 0},[]),m=A.useCallback(function(_){f(_.type,aP(_),_.target,a(_,n.lockRef.current))},[]),g=A.useCallback(function(_){f(_.type,IS(_),_.target,a(_,n.lockRef.current))},[]);A.useEffect(function(){return Wg.push(s),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,qg),document.addEventListener("touchmove",c,qg),document.addEventListener("touchstart",d,qg),function(){Wg=Wg.filter(function(_){return _!==s}),document.removeEventListener("wheel",c,qg),document.removeEventListener("touchmove",c,qg),document.removeEventListener("touchstart",d,qg)}},[]);var b=n.removeScrollBar,x=n.inert;return A.createElement(A.Fragment,null,x?A.createElement(s,{styles:oX(i)}):null,b?A.createElement(QY,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function cX(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const uX=BY(X5,lX);var zT=A.forwardRef(function(n,e){return A.createElement(BT,hc({},n,{ref:e,sideCar:uX}))});zT.classNames=BT.classNames;var Zk=["Enter"," "],fX=["ArrowDown","PageUp","Home"],tz=["ArrowUp","PageDown","End"],dX=[...fX,...tz],hX={ltr:[...Zk,"ArrowRight"],rtl:[...Zk,"ArrowLeft"]},pX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qw="Menu",[aw,mX,gX]=y5(Qw),[fm,nz]=El(Qw,[gX,hv,H5]),jT=hv(),rz=H5(),[yX,dm]=fm(Qw),[vX,Jw]=fm(Qw),iz=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=jT(e),[c,f]=A.useState(null),d=A.useRef(!1),m=Ji(s),g=tI(i);return A.useEffect(()=>{const b=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),R.jsx(dI,{...a,children:R.jsx(yX,{scope:e,open:t,onOpenChange:m,content:c,onContentChange:f,children:R.jsx(vX,{scope:e,onClose:A.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:d,dir:g,modal:o,children:r})})})};iz.displayName=Qw;var bX="MenuAnchor",gI=A.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=jT(t);return R.jsx(VT,{...i,...r,ref:e})});gI.displayName=bX;var yI="MenuPortal",[wX,sz]=fm(yI,{forceMount:void 0}),oz=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=dm(yI,e);return R.jsx(wX,{scope:e,forceMount:t,children:R.jsx(ks,{present:t||s.open,children:R.jsx(Kw,{asChild:!0,container:i,children:r})})})};oz.displayName=yI;var Aa="MenuContent",[xX,vI]=fm(Aa),az=A.forwardRef((n,e)=>{const t=sz(Aa,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=dm(Aa,n.__scopeMenu),o=Jw(Aa,n.__scopeMenu);return R.jsx(aw.Provider,{scope:n.__scopeMenu,children:R.jsx(ks,{present:r||s.open,children:R.jsx(aw.Slot,{scope:n.__scopeMenu,children:o.modal?R.jsx(SX,{...i,ref:e}):R.jsx(EX,{...i,ref:e})})})})}),SX=A.forwardRef((n,e)=>{const t=dm(Aa,n.__scopeMenu),r=A.useRef(null),i=qn(e,r);return A.useEffect(()=>{const s=r.current;if(s)return mI(s)},[]),R.jsx(bI,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:rt(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),EX=A.forwardRef((n,e)=>{const t=dm(Aa,n.__scopeMenu);return R.jsx(bI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),_X=Kp("MenuContent.ScrollLock"),bI=A.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:g,onDismiss:b,disableOutsideScroll:x,..._}=n,C=dm(Aa,t),k=Jw(Aa,t),N=jT(t),z=rz(t),P=mX(t),[H,U]=A.useState(null),O=A.useRef(null),D=qn(e,O,C.onContentChange),V=A.useRef(0),F=A.useRef(""),W=A.useRef(0),X=A.useRef(null),G=A.useRef("right"),Te=A.useRef(0),Ee=x?zT:A.Fragment,J=x?{as:_X,allowPinchZoom:!0}:void 0,se=we=>{var Ae,Le;const Q=F.current+we,ae=P().filter(He=>!He.disabled),ve=document.activeElement,ne=(Ae=ae.find(He=>He.ref.current===ve))==null?void 0:Ae.textValue,ge=ae.map(He=>He.textValue),Re=LX(ge,Q,ne),ye=(Le=ae.find(He=>He.textValue===Re))==null?void 0:Le.ref.current;(function He(it){F.current=it,window.clearTimeout(V.current),it!==""&&(V.current=window.setTimeout(()=>He(""),1e3))})(Q),ye&&setTimeout(()=>ye.focus())};A.useEffect(()=>()=>window.clearTimeout(V.current),[]),nI();const te=A.useCallback(we=>{var ae,ve;return G.current===((ae=X.current)==null?void 0:ae.side)&&BX(we,(ve=X.current)==null?void 0:ve.area)},[]);return R.jsx(xX,{scope:t,searchRef:F,onItemEnter:A.useCallback(we=>{te(we)&&we.preventDefault()},[te]),onItemLeave:A.useCallback(we=>{var Q;te(we)||((Q=O.current)==null||Q.focus(),U(null))},[te]),onTriggerLeave:A.useCallback(we=>{te(we)&&we.preventDefault()},[te]),pointerGraceTimerRef:W,onPointerGraceIntentChange:A.useCallback(we=>{X.current=we},[]),children:R.jsx(Ee,{...J,children:R.jsx(OT,{asChild:!0,trapped:i,onMountAutoFocus:rt(s,we=>{var Q;we.preventDefault(),(Q=O.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:R.jsx(Ww,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:g,onDismiss:b,children:R.jsx(_Y,{asChild:!0,...z,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:H,onCurrentTabStopIdChange:U,onEntryFocus:rt(c,we=>{k.isUsingKeyboardRef.current||we.preventDefault()}),preventScrollOnEntryFocus:!0,children:R.jsx(hI,{role:"menu","aria-orientation":"vertical","data-state":Ez(C.open),"data-radix-menu-content":"",dir:k.dir,...N,..._,ref:D,style:{outline:"none",..._.style},onKeyDown:rt(_.onKeyDown,we=>{const ae=we.target.closest("[data-radix-menu-content]")===we.currentTarget,ve=we.ctrlKey||we.altKey||we.metaKey,ne=we.key.length===1;ae&&(we.key==="Tab"&&we.preventDefault(),!ve&&ne&&se(we.key));const ge=O.current;if(we.target!==ge||!dX.includes(we.key))return;we.preventDefault();const ye=P().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);tz.includes(we.key)&&ye.reverse(),NX(ye)}),onBlur:rt(n.onBlur,we=>{we.currentTarget.contains(we.target)||(window.clearTimeout(V.current),F.current="")}),onPointerMove:rt(n.onPointerMove,lw(we=>{const Q=we.target,ae=Te.current!==we.clientX;if(we.currentTarget.contains(Q)&&ae){const ve=we.clientX>Te.current?"right":"left";G.current=ve,Te.current=we.clientX}}))})})})})})})});az.displayName=Aa;var TX="MenuGroup",wI=A.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return R.jsx(xn.div,{role:"group",...r,ref:e})});wI.displayName=TX;var CX="MenuLabel",lz=A.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return R.jsx(xn.div,{...r,ref:e})});lz.displayName=CX;var i_="MenuItem",cP="menu.itemSelect",UT=A.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=A.useRef(null),o=Jw(i_,n.__scopeMenu),a=vI(i_,n.__scopeMenu),c=qn(e,s),f=A.useRef(!1),d=()=>{const m=s.current;if(!t&&m){const g=new CustomEvent(cP,{bubbles:!0,cancelable:!0});m.addEventListener(cP,b=>r==null?void 0:r(b),{once:!0}),QB(m,g),g.defaultPrevented?f.current=!1:o.onClose()}};return R.jsx(cz,{...i,ref:c,disabled:t,onClick:rt(n.onClick,d),onPointerDown:m=>{var g;(g=n.onPointerDown)==null||g.call(n,m),f.current=!0},onPointerUp:rt(n.onPointerUp,m=>{var g;f.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:rt(n.onKeyDown,m=>{const g=a.searchRef.current!=="";t||g&&m.key===" "||Zk.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});UT.displayName=i_;var cz=A.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=vI(i_,t),a=rz(t),c=A.useRef(null),f=qn(e,c),[d,m]=A.useState(!1),[g,b]=A.useState("");return A.useEffect(()=>{const x=c.current;x&&b((x.textContent??"").trim())},[s.children]),R.jsx(aw.ItemSlot,{scope:t,disabled:r,textValue:i??g,children:R.jsx(TY,{asChild:!0,...a,focusable:!r,children:R.jsx(xn.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:f,onPointerMove:rt(n.onPointerMove,lw(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:rt(n.onPointerLeave,lw(x=>o.onItemLeave(x))),onFocus:rt(n.onFocus,()=>m(!0)),onBlur:rt(n.onBlur,()=>m(!1))})})})}),AX="MenuCheckboxItem",uz=A.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return R.jsx(mz,{scope:n.__scopeMenu,checked:t,children:R.jsx(UT,{role:"menuitemcheckbox","aria-checked":s_(t)?"mixed":t,...i,ref:e,"data-state":SI(t),onSelect:rt(i.onSelect,()=>r==null?void 0:r(s_(t)?!0:!t),{checkForDefaultPrevented:!1})})})});uz.displayName=AX;var fz="MenuRadioGroup",[RX,kX]=fm(fz,{value:void 0,onValueChange:()=>{}}),dz=A.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Ji(r);return R.jsx(RX,{scope:n.__scopeMenu,value:t,onValueChange:s,children:R.jsx(wI,{...i,ref:e})})});dz.displayName=fz;var hz="MenuRadioItem",pz=A.forwardRef((n,e)=>{const{value:t,...r}=n,i=kX(hz,n.__scopeMenu),s=t===i.value;return R.jsx(mz,{scope:n.__scopeMenu,checked:s,children:R.jsx(UT,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":SI(s),onSelect:rt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});pz.displayName=hz;var xI="MenuItemIndicator",[mz,MX]=fm(xI,{checked:!1}),gz=A.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=MX(xI,t);return R.jsx(ks,{present:r||s_(s.checked)||s.checked===!0,children:R.jsx(xn.span,{...i,ref:e,"data-state":SI(s.checked)})})});gz.displayName=xI;var DX="MenuSeparator",yz=A.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return R.jsx(xn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});yz.displayName=DX;var IX="MenuArrow",vz=A.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=jT(t);return R.jsx(pI,{...i,...r,ref:e})});vz.displayName=IX;var OX="MenuSub",[O_e,bz]=fm(OX),cb="MenuSubTrigger",wz=A.forwardRef((n,e)=>{const t=dm(cb,n.__scopeMenu),r=Jw(cb,n.__scopeMenu),i=bz(cb,n.__scopeMenu),s=vI(cb,n.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,f={__scopeMenu:n.__scopeMenu},d=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const m=a.current;return()=>{window.clearTimeout(m),c(null)}},[a,c]),R.jsx(gI,{asChild:!0,...f,children:R.jsx(cz,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":Ez(t.open),...n,ref:DT(e,i.onTriggerChange),onClick:m=>{var g;(g=n.onClick)==null||g.call(n,m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:rt(n.onPointerMove,lw(m=>{s.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:rt(n.onPointerLeave,lw(m=>{var b,x;d();const g=(b=t.content)==null?void 0:b.getBoundingClientRect();if(g){const _=(x=t.content)==null?void 0:x.dataset.side,C=_==="right",k=C?-5:5,N=g[C?"left":"right"],z=g[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+k,y:m.clientY},{x:N,y:g.top},{x:z,y:g.top},{x:z,y:g.bottom},{x:N,y:g.bottom}],side:_}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:rt(n.onKeyDown,m=>{var b;const g=s.searchRef.current!=="";n.disabled||g&&m.key===" "||hX[r.dir].includes(m.key)&&(t.onOpenChange(!0),(b=t.content)==null||b.focus(),m.preventDefault())})})})});wz.displayName=cb;var xz="MenuSubContent",Sz=A.forwardRef((n,e)=>{const t=sz(Aa,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=dm(Aa,n.__scopeMenu),o=Jw(Aa,n.__scopeMenu),a=bz(xz,n.__scopeMenu),c=A.useRef(null),f=qn(e,c);return R.jsx(aw.Provider,{scope:n.__scopeMenu,children:R.jsx(ks,{present:r||s.open,children:R.jsx(aw.Slot,{scope:n.__scopeMenu,children:R.jsx(bI,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:rt(n.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:rt(n.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:rt(n.onKeyDown,d=>{var b;const m=d.currentTarget.contains(d.target),g=pX[o.dir].includes(d.key);m&&g&&(s.onOpenChange(!1),(b=a.trigger)==null||b.focus(),d.preventDefault())})})})})})});Sz.displayName=xz;function Ez(n){return n?"open":"closed"}function s_(n){return n==="indeterminate"}function SI(n){return s_(n)?"indeterminate":n?"checked":"unchecked"}function NX(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function PX(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function LX(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=PX(n,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==t));const c=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function VX(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],f=a.x,d=a.y,m=c.x,g=c.y;d>r!=g>r&&t<(m-f)*(r-d)/(g-d)+f&&(i=!i)}return i}function BX(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return VX(t,e)}function lw(n){return e=>e.pointerType==="mouse"?n(e):void 0}var zX=iz,jX=gI,UX=oz,FX=az,HX=wI,$X=lz,qX=UT,WX=uz,GX=dz,KX=pz,YX=gz,XX=yz,QX=vz,JX=wz,ZX=Sz,FT="DropdownMenu",[eQ,N_e]=El(FT,[nz]),Ys=nz(),[tQ,_z]=eQ(FT),Tz=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,c=Ys(e),f=A.useRef(null),[d,m]=uv({prop:i,defaultProp:s??!1,onChange:o,caller:FT});return R.jsx(tQ,{scope:e,triggerId:vd(),triggerRef:f,contentId:vd(),open:d,onOpenChange:m,onOpenToggle:A.useCallback(()=>m(g=>!g),[m]),modal:a,children:R.jsx(zX,{...c,open:d,onOpenChange:m,dir:r,modal:a,children:t})})};Tz.displayName=FT;var Cz="DropdownMenuTrigger",Az=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=_z(Cz,t),o=Ys(t);return R.jsx(jX,{asChild:!0,...o,children:R.jsx(xn.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:DT(e,s.triggerRef),onPointerDown:rt(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:rt(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Az.displayName=Cz;var nQ="DropdownMenuPortal",Rz=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Ys(e);return R.jsx(UX,{...r,...t})};Rz.displayName=nQ;var kz="DropdownMenuContent",Mz=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=_z(kz,t),s=Ys(t),o=A.useRef(!1);return R.jsx(FX,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:rt(n.onCloseAutoFocus,a=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:rt(n.onInteractOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,d=c.button===2||f;(!i.modal||d)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mz.displayName=kz;var rQ="DropdownMenuGroup",iQ=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(HX,{...i,...r,ref:e})});iQ.displayName=rQ;var sQ="DropdownMenuLabel",Dz=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx($X,{...i,...r,ref:e})});Dz.displayName=sQ;var oQ="DropdownMenuItem",Iz=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(qX,{...i,...r,ref:e})});Iz.displayName=oQ;var aQ="DropdownMenuCheckboxItem",Oz=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(WX,{...i,...r,ref:e})});Oz.displayName=aQ;var lQ="DropdownMenuRadioGroup",cQ=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(GX,{...i,...r,ref:e})});cQ.displayName=lQ;var uQ="DropdownMenuRadioItem",fQ=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(KX,{...i,...r,ref:e})});fQ.displayName=uQ;var dQ="DropdownMenuItemIndicator",Nz=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(YX,{...i,...r,ref:e})});Nz.displayName=dQ;var hQ="DropdownMenuSeparator",Pz=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(XX,{...i,...r,ref:e})});Pz.displayName=hQ;var pQ="DropdownMenuArrow",mQ=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(QX,{...i,...r,ref:e})});mQ.displayName=pQ;var gQ="DropdownMenuSubTrigger",yQ=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(JX,{...i,...r,ref:e})});yQ.displayName=gQ;var vQ="DropdownMenuSubContent",bQ=A.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Ys(t);return R.jsx(ZX,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bQ.displayName=vQ;var wQ=Tz,xQ=Az,SQ=Rz,EQ=Mz,_Q=Dz,TQ=Iz,CQ=Oz,AQ=Nz,RQ=Pz;function Op({...n}){return R.jsx(wQ,{"data-slot":"dropdown-menu",...n})}function Np({...n}){return R.jsx(xQ,{"data-slot":"dropdown-menu-trigger",...n})}function Pp({className:n,sideOffset:e=4,...t}){return R.jsx(SQ,{children:R.jsx(EQ,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function cw({className:n,inset:e,variant:t="default",...r}){return R.jsx(TQ,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Je("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function lR({className:n,children:e,checked:t,...r}){return R.jsxs(CQ,{"data-slot":"dropdown-menu-checkbox-item",className:Je("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),checked:t,...r,children:[R.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:R.jsx(AQ,{children:R.jsx(WB,{className:"size-4"})})}),e]})}function kQ({className:n,inset:e,...t}){return R.jsx(_Q,{"data-slot":"dropdown-menu-label","data-inset":e,className:Je("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function MQ({className:n,...e}){return R.jsx(RQ,{"data-slot":"dropdown-menu-separator",className:Je("bg-border -mx-1 my-1 h-px",n),...e})}function DQ({className:n,...e}){return R.jsx("span",{"data-slot":"dropdown-menu-shortcut",className:Je("text-muted-foreground ml-auto text-xs tracking-widest",n),...e})}const uP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,fP=o5,Lz=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return fP(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(f=>{const d=t==null?void 0:t[f],m=s==null?void 0:s[f];if(d===null)return null;const g=uP(d)||uP(m);return i[f][g]}),a=t&&Object.entries(t).reduce((f,d)=>{let[m,g]=d;return g===void 0||(f[m]=g),f},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,d)=>{let{class:m,className:g,...b}=d;return Object.entries(b).every(x=>{let[_,C]=x;return Array.isArray(C)?C.includes({...s,...a}[_]):{...s,...a}[_]===C})?[...f,m,g]:f},[]);return fP(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},cR=768;function IQ(){const[n,e]=A.useState(void 0);return A.useEffect(()=>{const t=window.matchMedia(`(max-width: ${cR-1}px)`),r=()=>{e(window.innerWidth<cR)};return t.addEventListener("change",r),e(window.innerWidth<cR),()=>t.removeEventListener("change",r)},[]),!!n}const OQ=Lz("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function bd({className:n,variant:e,size:t,asChild:r=!1,onClick:i,...s}){const o=r?IT:"button";return R.jsx(o,{"data-slot":"button",className:Je(OQ({variant:e,size:t,className:n})),onClick:a=>{typeof i=="function"&&(a.preventDefault(),i(a))},...s})}function NQ({className:n,type:e,...t}){return R.jsx("input",{type:e,"data-slot":"input",className:Je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var HT="Dialog",[Vz,P_e]=El(HT),[PQ,_l]=Vz(HT),Bz=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=A.useRef(null),c=A.useRef(null),[f,d]=uv({prop:r,defaultProp:i??!1,onChange:s,caller:HT});return R.jsx(PQ,{scope:e,triggerRef:a,contentRef:c,contentId:vd(),titleId:vd(),descriptionId:vd(),open:f,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(m=>!m),[d]),modal:o,children:t})};Bz.displayName=HT;var zz="DialogTrigger",LQ=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=_l(zz,t),s=qn(e,i.triggerRef);return R.jsx(xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":TI(i.open),...r,ref:s,onClick:rt(n.onClick,i.onOpenToggle)})});LQ.displayName=zz;var EI="DialogPortal",[VQ,jz]=Vz(EI,{forceMount:void 0}),Uz=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=_l(EI,e);return R.jsx(VQ,{scope:e,forceMount:t,children:A.Children.map(r,o=>R.jsx(ks,{present:t||s.open,children:R.jsx(Kw,{asChild:!0,container:i,children:o})}))})};Uz.displayName=EI;var o_="DialogOverlay",Fz=A.forwardRef((n,e)=>{const t=jz(o_,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=_l(o_,n.__scopeDialog);return s.modal?R.jsx(ks,{present:r||s.open,children:R.jsx(zQ,{...i,ref:e})}):null});Fz.displayName=o_;var BQ=Kp("DialogOverlay.RemoveScroll"),zQ=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=_l(o_,t);return R.jsx(zT,{as:BQ,allowPinchZoom:!0,shards:[i.contentRef],children:R.jsx(xn.div,{"data-state":TI(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Xp="DialogContent",Hz=A.forwardRef((n,e)=>{const t=jz(Xp,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=_l(Xp,n.__scopeDialog);return R.jsx(ks,{present:r||s.open,children:s.modal?R.jsx(jQ,{...i,ref:e}):R.jsx(UQ,{...i,ref:e})})});Hz.displayName=Xp;var jQ=A.forwardRef((n,e)=>{const t=_l(Xp,n.__scopeDialog),r=A.useRef(null),i=qn(e,t.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return mI(s)},[]),R.jsx($z,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rt(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:rt(n.onFocusOutside,s=>s.preventDefault())})}),UQ=A.forwardRef((n,e)=>{const t=_l(Xp,n.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return R.jsx($z,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,f;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=t.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),$z=A.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=_l(Xp,t),c=A.useRef(null),f=qn(e,c);return nI(),R.jsxs(R.Fragment,{children:[R.jsx(OT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:R.jsx(Ww,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":TI(a.open),...o,ref:f,onDismiss:()=>a.onOpenChange(!1)})}),R.jsxs(R.Fragment,{children:[R.jsx(FQ,{titleId:a.titleId}),R.jsx($Q,{contentRef:c,descriptionId:a.descriptionId})]})]})}),_I="DialogTitle",qz=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=_l(_I,t);return R.jsx(xn.h2,{id:i.titleId,...r,ref:e})});qz.displayName=_I;var Wz="DialogDescription",Gz=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=_l(Wz,t);return R.jsx(xn.p,{id:i.descriptionId,...r,ref:e})});Gz.displayName=Wz;var Kz="DialogClose",Yz=A.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=_l(Kz,t);return R.jsx(xn.button,{type:"button",...r,ref:e,onClick:rt(n.onClick,()=>i.onOpenChange(!1))})});Yz.displayName=Kz;function TI(n){return n?"open":"closed"}var Xz="DialogTitleWarning",[L_e,Qz]=BW(Xz,{contentName:Xp,titleName:_I,docsSlug:"dialog"}),FQ=({titleId:n})=>{const e=Qz(Xz),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},HQ="DialogDescriptionWarning",$Q=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qz(HQ).contentName}}.`;return A.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Jz=Bz,Zz=Uz,ej=Fz,tj=Hz,nj=qz,rj=Gz,ij=Yz;function qQ({...n}){return R.jsx(Jz,{"data-slot":"sheet",...n})}function WQ({...n}){return R.jsx(Zz,{"data-slot":"sheet-portal",...n})}function GQ({className:n,...e}){return R.jsx(ej,{"data-slot":"sheet-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function KQ({className:n,children:e,side:t="right",...r}){return R.jsxs(WQ,{children:[R.jsx(GQ,{}),R.jsxs(tj,{"data-slot":"sheet-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[e,R.jsxs(ij,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[R.jsx(QD,{className:"size-4"}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function YQ({className:n,...e}){return R.jsx("div",{"data-slot":"sheet-header",className:Je("flex flex-col gap-1.5 p-4",n),...e})}function XQ({className:n,...e}){return R.jsx(nj,{"data-slot":"sheet-title",className:Je("text-foreground font-semibold",n),...e})}function QQ({className:n,...e}){return R.jsx(rj,{"data-slot":"sheet-description",className:Je("text-muted-foreground text-sm",n),...e})}var JQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZQ="VisuallyHidden",sj=A.forwardRef((n,e)=>R.jsx(xn.span,{...n,ref:e,style:{...JQ,...n.style}}));sj.displayName=ZQ;var eJ=sj,[$T,V_e]=El("Tooltip",[hv]),qT=hv(),oj="TooltipProvider",tJ=700,eM="tooltip.open",[nJ,CI]=$T(oj),aj=n=>{const{__scopeTooltip:e,delayDuration:t=tJ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=A.useRef(!0),a=A.useRef(!1),c=A.useRef(0);return A.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),R.jsx(nJ,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:A.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:A.useCallback(f=>{a.current=f},[]),disableHoverableContent:i,children:s})};aj.displayName=oj;var uw="Tooltip",[rJ,Zw]=$T(uw),lj=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,c=CI(uw,n.__scopeTooltip),f=qT(e),[d,m]=A.useState(null),g=vd(),b=A.useRef(0),x=o??c.disableHoverableContent,_=a??c.delayDuration,C=A.useRef(!1),[k,N]=uv({prop:r,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(eM))):c.onClose(),s==null||s(O)},caller:uw}),z=A.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),P=A.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C.current=!1,N(!0)},[N]),H=A.useCallback(()=>{window.clearTimeout(b.current),b.current=0,N(!1)},[N]),U=A.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{C.current=!0,N(!0),b.current=0},_)},[_,N]);return A.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),R.jsx(dI,{...f,children:R.jsx(rJ,{scope:e,contentId:g,open:k,stateAttribute:z,trigger:d,onTriggerChange:m,onTriggerEnter:A.useCallback(()=>{c.isOpenDelayedRef.current?U():P()},[c.isOpenDelayedRef,U,P]),onTriggerLeave:A.useCallback(()=>{x?H():(window.clearTimeout(b.current),b.current=0)},[H,x]),onOpen:P,onClose:H,disableHoverableContent:x,children:t})})};lj.displayName=uw;var tM="TooltipTrigger",cj=A.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Zw(tM,t),s=CI(tM,t),o=qT(t),a=A.useRef(null),c=qn(e,a,i.onTriggerChange),f=A.useRef(!1),d=A.useRef(!1),m=A.useCallback(()=>f.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),R.jsx(VT,{asChild:!0,...o,children:R.jsx(xn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:rt(n.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:rt(n.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:rt(n.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:rt(n.onFocus,()=>{f.current||i.onOpen()}),onBlur:rt(n.onBlur,i.onClose),onClick:rt(n.onClick,i.onClose)})})});cj.displayName=tM;var AI="TooltipPortal",[iJ,sJ]=$T(AI,{forceMount:void 0}),uj=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,s=Zw(AI,e);return R.jsx(iJ,{scope:e,forceMount:t,children:R.jsx(ks,{present:t||s.open,children:R.jsx(Kw,{asChild:!0,container:i,children:r})})})};uj.displayName=AI;var Oy="TooltipContent",fj=A.forwardRef((n,e)=>{const t=sJ(Oy,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=Zw(Oy,n.__scopeTooltip);return R.jsx(ks,{present:r||o.open,children:o.disableHoverableContent?R.jsx(dj,{side:i,...s,ref:e}):R.jsx(oJ,{side:i,...s,ref:e})})}),oJ=A.forwardRef((n,e)=>{const t=Zw(Oy,n.__scopeTooltip),r=CI(Oy,n.__scopeTooltip),i=A.useRef(null),s=qn(e,i),[o,a]=A.useState(null),{trigger:c,onClose:f}=t,d=i.current,{onPointerInTransitChange:m}=r,g=A.useCallback(()=>{a(null),m(!1)},[m]),b=A.useCallback((x,_)=>{const C=x.currentTarget,k={x:x.clientX,y:x.clientY},N=uJ(k,C.getBoundingClientRect()),z=fJ(k,N),P=dJ(_.getBoundingClientRect()),H=pJ([...z,...P]);a(H),m(!0)},[m]);return A.useEffect(()=>()=>g(),[g]),A.useEffect(()=>{if(c&&d){const x=C=>b(C,d),_=C=>b(C,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",_)}}},[c,d,b,g]),A.useEffect(()=>{if(o){const x=_=>{const C=_.target,k={x:_.clientX,y:_.clientY},N=(c==null?void 0:c.contains(C))||(d==null?void 0:d.contains(C)),z=!hJ(k,o);N?g():z&&(g(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,f,g]),R.jsx(dj,{...n,ref:s})}),[aJ,lJ]=$T(uw,{isInside:!1}),cJ=UW("TooltipContent"),dj=A.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,c=Zw(Oy,t),f=qT(t),{onClose:d}=c;return A.useEffect(()=>(document.addEventListener(eM,d),()=>document.removeEventListener(eM,d)),[d]),A.useEffect(()=>{if(c.trigger){const m=g=>{const b=g.target;b!=null&&b.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),R.jsx(Ww,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:R.jsxs(hI,{"data-state":c.stateAttribute,...f,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(cJ,{children:r}),R.jsx(aJ,{scope:t,isInside:!0,children:R.jsx(eJ,{id:c.contentId,role:"tooltip",children:i||r})})]})})});fj.displayName=Oy;var hj="TooltipArrow",pj=A.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=qT(t);return lJ(hj,t).isInside?null:R.jsx(pI,{...i,...r,ref:e})});pj.displayName=hj;function uJ(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fJ(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function dJ(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function hJ(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],f=a.x,d=a.y,m=c.x,g=c.y;d>r!=g>r&&t<(m-f)*(r-d)/(g-d)+f&&(i=!i)}return i}function pJ(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),mJ(e)}function mJ(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var gJ=aj,yJ=lj,vJ=cj,bJ=uj,wJ=fj,xJ=pj;function mj({delayDuration:n=0,...e}){return R.jsx(gJ,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function ub({...n}){return R.jsx(mj,{children:R.jsx(yJ,{"data-slot":"tooltip",...n})})}function fb({...n}){return R.jsx(vJ,{"data-slot":"tooltip-trigger",...n})}function db({className:n,sideOffset:e=0,children:t,...r}){return R.jsx(bJ,{children:R.jsxs(wJ,{"data-slot":"tooltip-content",sideOffset:e,className:Je("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,R.jsx(xJ,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const SJ="sidebar_state",EJ=60*60*24*7,_J="16rem",TJ="18rem",CJ="3rem",AJ="b",gj=A.createContext(null);function WT(){const n=A.useContext(gj);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function RJ({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:i,children:s,...o}){const a=IQ(),[c,f]=A.useState(!1),[d,m]=A.useState(n),g=e??d,b=A.useCallback(k=>{const N=typeof k=="function"?k(g):k;t?t(N):m(N),document.cookie=`${SJ}=${N}; path=/; max-age=${EJ}`},[t,g]),x=A.useCallback(()=>a?f(k=>!k):b(k=>!k),[a,b,f]);A.useEffect(()=>{const k=N=>{N.key===AJ&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),x())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[x]);const _=g?"expanded":"collapsed",C=A.useMemo(()=>({state:_,open:g,setOpen:b,isMobile:a,openMobile:c,setOpenMobile:f,toggleSidebar:x}),[_,g,b,a,c,f,x]);return R.jsx(gj.Provider,{value:C,children:R.jsx(mj,{delayDuration:0,children:R.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":_J,"--sidebar-width-icon":CJ,...i},className:Je("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function uR({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:a,openMobile:c,setOpenMobile:f}=WT();return t==="none"?R.jsx("div",{"data-slot":"sidebar",className:Je("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...s,children:i}):o?R.jsx(qQ,{open:c,onOpenChange:f,...s,children:R.jsxs(KQ,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":TJ},side:n,children:[R.jsxs(YQ,{className:"sr-only",children:[R.jsx(XQ,{children:"Sidebar"}),R.jsx(QQ,{children:"Displays the mobile sidebar."})]}),R.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):R.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[R.jsx("div",{"data-slot":"sidebar-gap",className:Je("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),R.jsx("div",{"data-slot":"sidebar-container",className:Je("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:R.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function kJ({className:n,...e}){return R.jsx("main",{"data-slot":"sidebar-inset",className:Je("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function yj({className:n,...e}){return R.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Je("flex flex-col gap-2 p-2",n),...e})}function MJ({className:n,...e}){return R.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Je("flex flex-col gap-2 p-2",n),...e})}function vj({className:n,...e}){return R.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Je("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function bj({className:n,...e}){return R.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Je("relative flex w-full min-w-0 flex-col p-2",n),...e})}function dP({className:n,asChild:e=!1,...t}){const r=e?IT:"div";return R.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Je("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function wj({className:n,...e}){return R.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Je("w-full text-sm",n),...e})}function RI({className:n,...e}){return R.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Je("flex w-full min-w-0 flex-col gap-1",n),...e})}function GT({className:n,...e}){return R.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Je("group/menu-item relative",n),...e})}const DJ=Lz("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Sy({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:i,className:s,...o}){const a=n?IT:"button",{isMobile:c,state:f}=WT(),d=R.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:Je(DJ({variant:t,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),R.jsxs(ub,{children:[R.jsx(fb,{asChild:!0,children:d}),R.jsx(db,{side:"right",align:"center",hidden:f!=="collapsed"||c,...i})]})):d}const IJ=()=>{};var hP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OJ=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,f=c?n[i+2]:0,d=s>>2,m=(s&3)<<4|a>>4;let g=(a&15)<<2|f>>6,b=f&63;c||(b=64,o||(g=64)),r.push(t[d],t[m],t[g],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OJ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||f==null||m==null)throw new NJ;const g=s<<2|a>>4;if(r.push(g),f!==64){const b=a<<4&240|f>>2;if(r.push(b),m!==64){const x=f<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PJ=function(n){const e=xj(n);return Sj.encodeByteArray(e,!0)},a_=function(n){return PJ(n).replace(/\./g,"")},Ej=function(n){try{return Sj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=()=>LJ().__FIREBASE_DEFAULTS__,BJ=()=>{if(typeof process>"u"||typeof hP>"u")return;const n=hP.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zJ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ej(n[1]);return e&&JSON.parse(e)},KT=()=>{try{return IJ()||VJ()||BJ()||zJ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_j=n=>{var e,t;return(t=(e=KT())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jJ=n=>{const e=_j(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Tj=()=>{var n;return(n=KT())===null||n===void 0?void 0:n.config},Cj=n=>{var e;return(e=KT())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n){return n.endsWith(".cloudworkstations.dev")}async function Aj(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[a_(JSON.stringify(t)),a_(JSON.stringify(o)),""].join(".")}const kb={};function HJ(){const n={prod:[],emulator:[]};for(const e of Object.keys(kb))kb[e]?n.emulator.push(e):n.prod.push(e);return n}function $J(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let pP=!1;function Rj(n,e){if(typeof window>"u"||typeof document>"u"||!pv(window.location.host)||kb[n]===e||kb[n]||pP)return;kb[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=HJ().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,b){g.setAttribute("width","24"),g.setAttribute("id",b),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{pP=!0,o()},g}function d(g,b){g.setAttribute("id",b),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=$J(r),b=t("text"),x=document.getElementById(b)||document.createElement("span"),_=t("learnmore"),C=document.getElementById(_)||document.createElement("a"),k=t("preprendIcon"),N=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const z=g.element;a(z),d(C,_);const P=f();c(N,k),z.append(N,x,C,P),document.body.appendChild(z)}s?(x.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(As())}function WJ(){var n;const e=(n=KT())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KJ(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XJ(){const n=As();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QJ(){return!WJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JJ(){try{return typeof indexedDB=="object"}catch{return!1}}function ZJ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ="FirebaseError";class Xu extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eZ,Object.setPrototypeOf(this,Xu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e1.prototype.create)}}class e1{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tZ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xu(i,a,r)}}function tZ(n,e){return n.replace(nZ,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nZ=/\{\$([^}]+)}/g;function rZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qp(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(mP(s)&&mP(o)){if(!Qp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function mP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iZ(n,e){const t=new sZ(n,e);return t.subscribe.bind(t)}class sZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oZ(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=fR),i.error===void 0&&(i.error=fR),i.complete===void 0&&(i.complete=fR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oZ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(n){return n&&n._delegate?n._delegate:n}class Jp{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new UJ;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cZ(e))try{this.getOrInitializeService({instanceIdentifier:wp})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wp){return this.instances.has(e)}getOptions(e=wp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lZ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wp){return this.component?this.component.multipleInstances?e:wp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lZ(n){return n===wp?void 0:n}function cZ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(fn||(fn={}));const fZ={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},dZ=fn.INFO,hZ={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},pZ=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=hZ[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kI{constructor(e){this.name=e,this._logLevel=dZ,this._logHandler=pZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...e),this._logHandler(this,fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...e),this._logHandler(this,fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fn.INFO,...e),this._logHandler(this,fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fn.WARN,...e),this._logHandler(this,fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...e),this._logHandler(this,fn.ERROR,...e)}}const mZ=(n,e)=>e.some(t=>n instanceof t);let gP,yP;function gZ(){return gP||(gP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yZ(){return yP||(yP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kj=new WeakMap,nM=new WeakMap,Mj=new WeakMap,dR=new WeakMap,MI=new WeakMap;function vZ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(wd(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&kj.set(t,n)}).catch(()=>{}),MI.set(e,n),e}function bZ(n){if(nM.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});nM.set(n,e)}let rM={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nM.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mj.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wd(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wZ(n){rM=n(rM)}function xZ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hR(this),e,...t);return Mj.set(r,e.sort?e.sort():[e]),wd(r)}:yZ().includes(n)?function(...e){return n.apply(hR(this),e),wd(kj.get(this))}:function(...e){return wd(n.apply(hR(this),e))}}function SZ(n){return typeof n=="function"?xZ(n):(n instanceof IDBTransaction&&bZ(n),mZ(n,gZ())?new Proxy(n,rM):n)}function wd(n){if(n instanceof IDBRequest)return vZ(n);if(dR.has(n))return dR.get(n);const e=SZ(n);return e!==n&&(dR.set(n,e),MI.set(e,n)),e}const hR=n=>MI.get(n);function EZ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=wd(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wd(o.result),c.oldVersion,c.newVersion,wd(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const _Z=["get","getKey","getAll","getAllKeys","count"],TZ=["put","add","delete","clear"],pR=new Map;function vP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pR.get(e))return pR.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=TZ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_Z.includes(t)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[t](...a),i&&c.done]))[0]};return pR.set(e,s),s}wZ(n=>({...n,get:(e,t,r)=>vP(e,t)||n.get(e,t,r),has:(e,t)=>!!vP(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AZ(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function AZ(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iM="@firebase/app",bP="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new kI("@firebase/app"),RZ="@firebase/app-compat",kZ="@firebase/analytics-compat",MZ="@firebase/analytics",DZ="@firebase/app-check-compat",IZ="@firebase/app-check",OZ="@firebase/auth",NZ="@firebase/auth-compat",PZ="@firebase/database",LZ="@firebase/data-connect",VZ="@firebase/database-compat",BZ="@firebase/functions",zZ="@firebase/functions-compat",jZ="@firebase/installations",UZ="@firebase/installations-compat",FZ="@firebase/messaging",HZ="@firebase/messaging-compat",$Z="@firebase/performance",qZ="@firebase/performance-compat",WZ="@firebase/remote-config",GZ="@firebase/remote-config-compat",KZ="@firebase/storage",YZ="@firebase/storage-compat",XZ="@firebase/firestore",QZ="@firebase/ai",JZ="@firebase/firestore-compat",ZZ="firebase",eee="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="[DEFAULT]",tee={[iM]:"fire-core",[RZ]:"fire-core-compat",[MZ]:"fire-analytics",[kZ]:"fire-analytics-compat",[IZ]:"fire-app-check",[DZ]:"fire-app-check-compat",[OZ]:"fire-auth",[NZ]:"fire-auth-compat",[PZ]:"fire-rtdb",[LZ]:"fire-data-connect",[VZ]:"fire-rtdb-compat",[BZ]:"fire-fn",[zZ]:"fire-fn-compat",[jZ]:"fire-iid",[UZ]:"fire-iid-compat",[FZ]:"fire-fcm",[HZ]:"fire-fcm-compat",[$Z]:"fire-perf",[qZ]:"fire-perf-compat",[WZ]:"fire-rc",[GZ]:"fire-rc-compat",[KZ]:"fire-gcs",[YZ]:"fire-gcs-compat",[XZ]:"fire-fst",[JZ]:"fire-fst-compat",[QZ]:"fire-vertex","fire-js":"fire-js",[ZZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map,nee=new Map,oM=new Map;function wP(n,e){try{n.container.addComponent(e)}catch(t){Fu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ny(n){const e=n.name;if(oM.has(e))return Fu.debug(`There were multiple attempts to register component ${e}.`),!1;oM.set(e,n);for(const t of l_.values())wP(t,n);for(const t of nee.values())wP(t,n);return!0}function DI(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pl(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xd=new e1("app","Firebase",ree);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=eee;function Dj(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sM,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw xd.create("bad-app-name",{appName:String(i)});if(t||(t=Tj()),!t)throw xd.create("no-options");const s=l_.get(i);if(s){if(Qp(t,s.options)&&Qp(r,s.config))return s;throw xd.create("duplicate-app",{appName:i})}const o=new uZ(i);for(const c of oM.values())o.addComponent(c);const a=new iee(t,r,o);return l_.set(i,a),a}function Ij(n=sM){const e=l_.get(n);if(!e&&n===sM&&Tj())return Dj();if(!e)throw xd.create("no-app",{appName:n});return e}function Sd(n,e,t){var r;let i=(r=tee[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fu.warn(a.join(" "));return}Ny(new Jp(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see="firebase-heartbeat-database",oee=1,fw="firebase-heartbeat-store";let mR=null;function Oj(){return mR||(mR=EZ(see,oee,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fw)}catch(t){console.warn(t)}}}}).catch(n=>{throw xd.create("idb-open",{originalErrorMessage:n.message})})),mR}async function aee(n){try{const t=(await Oj()).transaction(fw),r=await t.objectStore(fw).get(Nj(n));return await t.done,r}catch(e){if(e instanceof Xu)Fu.warn(e.message);else{const t=xd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fu.warn(t.message)}}}async function xP(n,e){try{const r=(await Oj()).transaction(fw,"readwrite");await r.objectStore(fw).put(e,Nj(n)),await r.done}catch(t){if(t instanceof Xu)Fu.warn(t.message);else{const r=xd.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fu.warn(r.message)}}}function Nj(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee=1024,cee=30;class uee{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dee(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>cee){const o=hee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=SP(),{heartbeatsToSend:r,unsentEntries:i}=fee(this._heartbeatsCache.heartbeats),s=a_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Fu.warn(t),""}}}function SP(){return new Date().toISOString().substring(0,10)}function fee(n,e=lee){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),EP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JJ()?ZJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aee(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return xP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return xP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function EP(n){return a_(JSON.stringify({version:2,heartbeats:n})).length}function hee(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(n){Ny(new Jp("platform-logger",e=>new CZ(e),"PRIVATE")),Ny(new Jp("heartbeat",e=>new uee(e),"PRIVATE")),Sd(iM,bP,n),Sd(iM,bP,"esm2017"),Sd("fire-js","")}pee("");var mee="firebase",gee="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sd(mee,gee,"app");function Pj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yee=Pj,Lj=new e1("auth","Firebase",Pj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new kI("@firebase/auth");function vee(n,...e){c_.logLevel<=fn.WARN&&c_.warn(`Auth (${mv}): ${n}`,...e)}function xE(n,...e){c_.logLevel<=fn.ERROR&&c_.error(`Auth (${mv}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n,...e){throw OI(n,...e)}function vl(n,...e){return OI(n,...e)}function II(n,e,t){const r=Object.assign(Object.assign({},yee()),{[e]:t});return new e1("auth","Firebase",r).create(e,{appName:n.name})}function Lp(n){return II(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bee(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ac(n,"argument-error"),II(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function OI(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Lj.create(n,...e)}function _t(n,e,...t){if(!n)throw OI(e,...t)}function Iu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xE(e),new Error(e)}function Hu(n,e){n||Iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wee(){return _P()==="http:"||_P()==="https:"}function _P(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wee()||KJ()||"connection"in navigator)?navigator.onLine:!0}function See(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hu(t>e,"Short delay should be less than long delay!"),this.isMobile=qJ()||YJ()}get(){return xee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(n,e){Hu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tee=new n1(3e4,6e4);function PI(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gv(n,e,t,r,i={}){return Bj(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=t1(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:c},s);return GJ()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&pv(n.emulatorConfig.host)&&(f.credentials="include"),Vj.fetch()(await zj(n,n.config.apiHost,t,a),f)})}async function Bj(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eee),e);try{const i=new Aee(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw OS(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,f]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw OS(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw OS(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw OS(n,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw II(n,d,f);Ac(n,d)}}catch(i){if(i instanceof Xu)throw i;Ac(n,"network-request-failed",{message:String(i)})}}async function Cee(n,e,t,r,i={}){const s=await gv(n,e,t,r,i);return"mfaPendingCredential"in s&&Ac(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function zj(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?NI(n.config,i):`${n.config.apiScheme}://${i}`;return _ee.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class Aee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vl(this.auth,"network-request-failed")),Tee.get())})}}function OS(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=vl(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ree(n,e){return gv(n,"POST","/v1/accounts:delete",e)}async function u_(n,e){return gv(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kee(n,e=!1){const t=Eo(n),r=await t.getIdToken(e),i=LI(r);_t(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mb(gR(i.auth_time)),issuedAtTime:Mb(gR(i.iat)),expirationTime:Mb(gR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gR(n){return Number(n)*1e3}function LI(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xE("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ej(t);return i?JSON.parse(i):(xE("Failed to decode base64 JWT payload"),null)}catch(i){return xE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TP(n){const e=LI(n);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Xu&&Mee(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Mee({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mb(this.lastLoginAt),this.creationTime=Mb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(n){var e;const t=n.auth,r=await n.getIdToken(),i=await dw(n,u_(t,{idToken:r}));_t(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jj(s.providerUserInfo):[],a=Oee(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),d=c?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lM(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function Iee(n){const e=Eo(n);await f_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Oee(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jj(n){return n.map(e=>{var{providerId:t}=e,r=Xw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(n,e){const t=await Bj(n,{},async()=>{const r=t1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await zj(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return n.emulatorConfig&&pv(n.emulatorConfig.host)&&(c.credentials="include"),Vj.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Pee(n,e){return gv(n,"POST","/v2/accounts:revokeToken",PI(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const t=TP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Nee(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ey;return r&&(_t(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_t(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ey,this.toJSON())}_performRefresh(){return Iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e){_t(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Xw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lM(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await dw(this,this.stsTokenManager.getToken(this.auth,e));return _t(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kee(this,e)}reload(){return Iee(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await f_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pl(this.auth.app))return Promise.reject(Lp(this.auth));const e=await this.getIdToken();return await dw(this,Ree(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,f,d;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,C=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(f=t.createdAt)!==null&&f!==void 0?f:void 0,N=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:z,emailVerified:P,isAnonymous:H,providerData:U,stsTokenManager:O}=t;_t(z&&O,e,"internal-error");const D=Ey.fromJSON(this.name,O);_t(typeof z=="string",e,"internal-error"),Yf(m,e.name),Yf(g,e.name),_t(typeof P=="boolean",e,"internal-error"),_t(typeof H=="boolean",e,"internal-error"),Yf(b,e.name),Yf(x,e.name),Yf(_,e.name),Yf(C,e.name),Yf(k,e.name),Yf(N,e.name);const V=new gl({uid:z,auth:e,email:g,emailVerified:P,displayName:m,isAnonymous:H,photoURL:x,phoneNumber:b,tenantId:_,stsTokenManager:D,createdAt:k,lastLoginAt:N});return U&&Array.isArray(U)&&(V.providerData=U.map(F=>Object.assign({},F))),C&&(V._redirectEventId=C),V}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ey;i.updateFromServerResponse(t);const s=new gl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await f_(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];_t(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jj(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ey;a.updateFromIdToken(r);const c=new gl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new Map;function Ou(n){Hu(n instanceof Function,"Expected a class definition");let e=CP.get(n);return e?(Hu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uj.type="NONE";const AP=Uj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,e,t){return`firebase:${n}:${e}:${t}`}class _y{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=SE(this.userKey,i.apiKey,s),this.fullPersistenceKey=SE("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await u_(this.auth,{idToken:e}).catch(()=>{});return t?gl._fromGetAccountInfoResponse(this.auth,t,e):null}return gl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _y(Ou(AP),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ou(AP);const o=SE(r,e.config.apiKey,e.name);let a=null;for(const f of t)try{const d=await f._get(o);if(d){let m;if(typeof d=="string"){const g=await u_(e,{idToken:d}).catch(()=>{});if(!g)break;m=await gl._fromGetAccountInfoResponse(e,g,d)}else m=gl._fromJSON(e,d);f!==s&&(a=m),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new _y(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new _y(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gj(e))return"Blackberry";if(Kj(e))return"Webos";if(Hj(e))return"Safari";if((e.includes("chrome/")||$j(e))&&!e.includes("edge/"))return"Chrome";if(Wj(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fj(n=As()){return/firefox\//i.test(n)}function Hj(n=As()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $j(n=As()){return/crios\//i.test(n)}function qj(n=As()){return/iemobile/i.test(n)}function Wj(n=As()){return/android/i.test(n)}function Gj(n=As()){return/blackberry/i.test(n)}function Kj(n=As()){return/webos/i.test(n)}function VI(n=As()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Lee(n=As()){var e;return VI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vee(){return XJ()&&document.documentMode===10}function Yj(n=As()){return VI(n)||Wj(n)||Kj(n)||Gj(n)||/windows phone/i.test(n)||qj(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(n,e=[]){let t;switch(n){case"Browser":t=RP(As());break;case"Worker":t=`${RP(As())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mv}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zee(n,e={}){return gv(n,"GET","/v2/passwordPolicy",PI(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee=6;class Uee{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:jee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kP(this),this.idTokenSubscription=new kP(this),this.beforeStateQueue=new Bee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ou(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await _y.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await u_(this,{idToken:e}),r=await gl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await f_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=See()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pl(this.app))return Promise.reject(Lp(this));const t=e?Eo(e):null;return t&&_t(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pl(this.app)?Promise.reject(Lp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pl(this.app)?Promise.reject(Lp(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ou(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zee(this),t=new Uee(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new e1("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ou(e)||this._popupRedirectResolver;_t(t,this,"argument-error"),this.redirectPersistenceManager=await _y.create(this,[Ou(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(pl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&vee(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function YT(n){return Eo(n)}class kP{constructor(e){this.auth=e,this.observer=null,this.addObserver=iZ(t=>this.observer=t)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BI={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hee(n){BI=n}function $ee(n){return BI.loadJS(n)}function qee(){return BI.gapiScript}function Wee(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(n,e){const t=DI(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Qp(s,e??{}))return i;Ac(i,"already-initialized")}return t.initialize({options:e})}function Kee(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ou);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yee(n,e,t){const r=YT(n);_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Qj(e),{host:o,port:a}=Xee(e),c=a===null?"":`:${a}`,f={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Qp(f,r.config.emulator)&&Qp(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,pv(o)?(Aj(`${s}//${o}${c}`),Rj("Auth",!0)):Qee()}function Qj(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Xee(n){const e=Qj(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:MP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:MP(o)}}}function MP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qee(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Iu("not implemented")}_getIdTokenResponse(e){return Iu("not implemented")}_linkToIdToken(e,t){return Iu("not implemented")}_getReauthenticationResolver(e){return Iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(n,e){return Cee(n,"POST","/v1/accounts:signInWithIdp",PI(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee="http://localhost";class Zp extends Jj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ac("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Xw(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zp(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ty(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ty(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ty(e,t)}buildRequest(){const e={requestUri:Jee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=t1(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends zI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends r1{constructor(){super("facebook.com")}static credential(e){return Zp._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.FACEBOOK_SIGN_IN_METHOD="facebook.com";ku.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends r1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zp._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mu.credential(t,r)}catch{return null}}}Mu.GOOGLE_SIGN_IN_METHOD="google.com";Mu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends r1{constructor(){super("github.com")}static credential(e){return Zp._fromParams({providerId:id.PROVIDER_ID,signInMethod:id.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return id.credentialFromTaggedObject(e)}static credentialFromError(e){return id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return id.credential(e.oauthAccessToken)}catch{return null}}}id.GITHUB_SIGN_IN_METHOD="github.com";id.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends r1{constructor(){super("twitter.com")}static credential(e,t){return Zp._fromParams({providerId:sd.PROVIDER_ID,signInMethod:sd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return sd.credentialFromTaggedObject(e)}static credentialFromError(e){return sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return sd.credential(t,r)}catch{return null}}}sd.TWITTER_SIGN_IN_METHOD="twitter.com";sd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await gl._fromIdTokenResponse(e,r,i),o=DP(r);return new Py({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=DP(r);return new Py({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function DP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Xu{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,d_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new d_(e,t,r,i)}}function Zj(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?d_._fromErrorAndOperation(n,s,e,r):s})}async function Zee(n,e,t=!1){const r=await dw(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Py._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ete(n,e,t=!1){const{auth:r}=n;if(pl(r.app))return Promise.reject(Lp(r));const i="reauthenticate";try{const s=await dw(n,Zj(r,i,e,n),t);_t(s.idToken,r,"internal-error");const o=LI(s.idToken);_t(o,r,"internal-error");const{sub:a}=o;return _t(n.uid===a,r,"user-mismatch"),Py._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ac(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tte(n,e,t=!1){if(pl(n.app))return Promise.reject(Lp(n));const r="signIn",i=await Zj(n,r,e),s=await Py._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function nte(n,e,t,r){return Eo(n).onIdTokenChanged(e,t,r)}function rte(n,e,t){return Eo(n).beforeAuthStateChanged(e,t)}function ite(n,e,t,r){return Eo(n).onAuthStateChanged(e,t,r)}const h_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(h_,"1"),this.storage.removeItem(h_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=1e3,ote=10;class t6 extends e6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Vee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ote):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ste)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t6.type="LOCAL";const ate=t6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6 extends e6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}n6.type="SESSION";const r6=n6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new XT(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async f=>f(t.origin,s)),c=await lte(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}XT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const f=jI("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(){return window}function ute(n){yc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){return typeof yc().WorkerGlobalScope<"u"&&typeof yc().importScripts=="function"}async function fte(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dte(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hte(){return i6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="firebaseLocalStorageDb",pte=1,p_="firebaseLocalStorage",o6="fbase_key";class i1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function QT(n,e){return n.transaction([p_],e?"readwrite":"readonly").objectStore(p_)}function mte(){const n=indexedDB.deleteDatabase(s6);return new i1(n).toPromise()}function cM(){const n=indexedDB.open(s6,pte);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(p_,{keyPath:o6})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(p_)?e(r):(r.close(),await mte(),e(await cM()))})})}async function IP(n,e,t){const r=QT(n,!0).put({[o6]:e,value:t});return new i1(r).toPromise()}async function gte(n,e){const t=QT(n,!1).get(e),r=await new i1(t).toPromise();return r===void 0?null:r.value}function OP(n,e){const t=QT(n,!0).delete(e);return new i1(t).toPromise()}const yte=800,vte=3;class a6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cM(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>vte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=XT._getInstance(hte()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fte(),!this.activeServiceWorker)return;this.sender=new cte(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cM();return await IP(e,h_,"1"),await OP(e,h_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>IP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>gte(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>OP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=QT(i,!1).getAll();return new i1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a6.type="LOCAL";const bte=a6;new n1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n,e){return e?Ou(e):(_t(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends Jj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ty(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ty(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ty(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wte(n){return tte(n.auth,new UI(n),n.bypassAuthState)}function xte(n){const{auth:e,user:t}=n;return _t(t,e,"internal-error"),ete(t,new UI(n),n.bypassAuthState)}async function Ste(n){const{auth:e,user:t}=n;return _t(t,e,"internal-error"),Zee(t,new UI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wte;case"linkViaPopup":case"linkViaRedirect":return Ste;case"reauthViaPopup":case"reauthViaRedirect":return xte;default:Ac(this.auth,"internal-error")}}resolve(e){Hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=new n1(2e3,1e4);async function _te(n,e,t){if(pl(n.app))return Promise.reject(vl(n,"operation-not-supported-in-this-environment"));const r=YT(n);bee(n,e,zI);const i=l6(r,t);return new Cp(r,"signInViaPopup",e,i).executeNotNull()}class Cp extends c6{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Cp.currentPopupAction&&Cp.currentPopupAction.cancel(),Cp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Hu(this.filter.length===1,"Popup operations only handle one event");const e=jI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ete.get())};e()}}Cp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte="pendingRedirect",EE=new Map;class Cte extends c6{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=EE.get(this.auth._key());if(!e){try{const r=await Ate(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}EE.set(this.auth._key(),e)}return this.bypassAuthState||EE.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ate(n,e){const t=Mte(e),r=kte(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Rte(n,e){EE.set(n._key(),e)}function kte(n){return Ou(n._redirectPersistence)}function Mte(n){return SE(Tte,n.config.apiKey,n.name)}async function Dte(n,e,t=!1){if(pl(n.app))return Promise.reject(Lp(n));const r=YT(n),i=l6(r,e),o=await new Cte(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=10*60*1e3;class Ote{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nte(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!u6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ite&&this.cachedEventUids.clear(),this.cachedEventUids.has(NP(e))}saveEventToCache(e){this.cachedEventUids.add(NP(e)),this.lastProcessedEventTime=Date.now()}}function NP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function u6({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nte(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u6(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pte(n,e={}){return gv(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vte=/^https?/;async function Bte(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Pte(n);for(const t of e)try{if(zte(t))return}catch{}Ac(n,"unauthorized-domain")}function zte(n){const e=aM(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Vte.test(t))return!1;if(Lte.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte=new n1(3e4,6e4);function PP(){const n=yc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ute(n){return new Promise((e,t)=>{var r,i,s;function o(){PP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PP(),t(vl(n,"network-request-failed"))},timeout:jte.get()})}if(!((i=(r=yc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yc().gapi)===null||s===void 0)&&s.load)o();else{const a=Wee("iframefcb");return yc()[a]=()=>{gapi.load?o():t(vl(n,"network-request-failed"))},$ee(`${qee()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw _E=null,e})}let _E=null;function Fte(n){return _E=_E||Ute(n),_E}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte=new n1(5e3,15e3),$te="__/auth/iframe",qte="emulator/auth/iframe",Wte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kte(n){const e=n.config;_t(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?NI(e,qte):`https://${n.config.authDomain}/${$te}`,r={apiKey:e.apiKey,appName:n.name,v:mv},i=Gte.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${t1(r).slice(1)}`}async function Yte(n){const e=await Fte(n),t=yc().gapi;return _t(t,n,"internal-error"),e.open({where:document.body,url:Kte(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wte,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vl(n,"network-request-failed"),a=yc().setTimeout(()=>{s(o)},Hte.get());function c(){yc().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qte=500,Jte=600,Zte="_blank",ene="http://localhost";class LP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tne(n,e,t,r=Qte,i=Jte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Xte),{width:r.toString(),height:i.toString(),top:s,left:o}),f=As().toLowerCase();t&&(a=$j(f)?Zte:t),Fj(f)&&(e=e||ene,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[b,x])=>`${g}${b}=${x},`,"");if(Lee(f)&&a!=="_self")return nne(e||"",a),new LP(null);const m=window.open(e||"",a,d);_t(m,n,"popup-blocked");try{m.focus()}catch{}return new LP(m)}function nne(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne="__/auth/handler",ine="emulator/auth/handler",sne=encodeURIComponent("fac");async function VP(n,e,t,r,i,s){_t(n.config.authDomain,n,"auth-domain-config-required"),_t(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mv,eventId:i};if(e instanceof zI){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",rZ(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof r1){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await n._getAppCheckToken(),f=c?`#${sne}=${encodeURIComponent(c)}`:"";return`${one(n)}?${t1(a).slice(1)}${f}`}function one({config:n}){return n.emulator?NI(n,ine):`https://${n.authDomain}/${rne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="webStorageSupport";class ane{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r6,this._completeRedirectFn=Dte,this._overrideRedirectResult=Rte}async _openPopup(e,t,r,i){var s;Hu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await VP(e,t,r,aM(),i);return tne(e,o,jI())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await VP(e,t,r,aM(),i);return ute(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Hu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Yte(e),r=new Ote(e);return t.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yR,{type:yR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yR];o!==void 0&&t(!!o),Ac(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bte(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yj()||Hj()||VI()}}const lne=ane;var BP="@firebase/auth",zP="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fne(n){Ny(new Jp("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_t(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xj(n)},f=new Fee(r,i,s,c);return Kee(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ny(new Jp("auth-internal",e=>{const t=YT(e.getProvider("auth").getImmediate());return(r=>new cne(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sd(BP,zP,une(n)),Sd(BP,zP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne=5*60,hne=Cj("authIdTokenMaxAge")||dne;let jP=null;const pne=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>hne)return;const i=t==null?void 0:t.token;jP!==i&&(jP=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mne(n=Ij()){const e=DI(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Gee(n,{popupRedirectResolver:lne,persistence:[bte,ate,r6]}),r=Cj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=pne(s.toString());rte(t,o,()=>o(t.currentUser)),nte(t,a=>o(a))}}const i=_j("auth");return i&&Yee(t,`http://${i}`),t}function gne(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Hee({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=vl("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",gne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fne("Browser");var UP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ed,f6;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,D){function V(){}V.prototype=D.prototype,O.D=D.prototype,O.prototype=new V,O.prototype.constructor=O,O.C=function(F,W,X){for(var G=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)G[Te-2]=arguments[Te];return D.prototype[W].apply(F,G)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,D,V){V||(V=0);var F=Array(16);if(typeof D=="string")for(var W=0;16>W;++W)F[W]=D.charCodeAt(V++)|D.charCodeAt(V++)<<8|D.charCodeAt(V++)<<16|D.charCodeAt(V++)<<24;else for(W=0;16>W;++W)F[W]=D[V++]|D[V++]<<8|D[V++]<<16|D[V++]<<24;D=O.g[0],V=O.g[1],W=O.g[2];var X=O.g[3],G=D+(X^V&(W^X))+F[0]+3614090360&4294967295;D=V+(G<<7&4294967295|G>>>25),G=X+(W^D&(V^W))+F[1]+3905402710&4294967295,X=D+(G<<12&4294967295|G>>>20),G=W+(V^X&(D^V))+F[2]+606105819&4294967295,W=X+(G<<17&4294967295|G>>>15),G=V+(D^W&(X^D))+F[3]+3250441966&4294967295,V=W+(G<<22&4294967295|G>>>10),G=D+(X^V&(W^X))+F[4]+4118548399&4294967295,D=V+(G<<7&4294967295|G>>>25),G=X+(W^D&(V^W))+F[5]+1200080426&4294967295,X=D+(G<<12&4294967295|G>>>20),G=W+(V^X&(D^V))+F[6]+2821735955&4294967295,W=X+(G<<17&4294967295|G>>>15),G=V+(D^W&(X^D))+F[7]+4249261313&4294967295,V=W+(G<<22&4294967295|G>>>10),G=D+(X^V&(W^X))+F[8]+1770035416&4294967295,D=V+(G<<7&4294967295|G>>>25),G=X+(W^D&(V^W))+F[9]+2336552879&4294967295,X=D+(G<<12&4294967295|G>>>20),G=W+(V^X&(D^V))+F[10]+4294925233&4294967295,W=X+(G<<17&4294967295|G>>>15),G=V+(D^W&(X^D))+F[11]+2304563134&4294967295,V=W+(G<<22&4294967295|G>>>10),G=D+(X^V&(W^X))+F[12]+1804603682&4294967295,D=V+(G<<7&4294967295|G>>>25),G=X+(W^D&(V^W))+F[13]+4254626195&4294967295,X=D+(G<<12&4294967295|G>>>20),G=W+(V^X&(D^V))+F[14]+2792965006&4294967295,W=X+(G<<17&4294967295|G>>>15),G=V+(D^W&(X^D))+F[15]+1236535329&4294967295,V=W+(G<<22&4294967295|G>>>10),G=D+(W^X&(V^W))+F[1]+4129170786&4294967295,D=V+(G<<5&4294967295|G>>>27),G=X+(V^W&(D^V))+F[6]+3225465664&4294967295,X=D+(G<<9&4294967295|G>>>23),G=W+(D^V&(X^D))+F[11]+643717713&4294967295,W=X+(G<<14&4294967295|G>>>18),G=V+(X^D&(W^X))+F[0]+3921069994&4294967295,V=W+(G<<20&4294967295|G>>>12),G=D+(W^X&(V^W))+F[5]+3593408605&4294967295,D=V+(G<<5&4294967295|G>>>27),G=X+(V^W&(D^V))+F[10]+38016083&4294967295,X=D+(G<<9&4294967295|G>>>23),G=W+(D^V&(X^D))+F[15]+3634488961&4294967295,W=X+(G<<14&4294967295|G>>>18),G=V+(X^D&(W^X))+F[4]+3889429448&4294967295,V=W+(G<<20&4294967295|G>>>12),G=D+(W^X&(V^W))+F[9]+568446438&4294967295,D=V+(G<<5&4294967295|G>>>27),G=X+(V^W&(D^V))+F[14]+3275163606&4294967295,X=D+(G<<9&4294967295|G>>>23),G=W+(D^V&(X^D))+F[3]+4107603335&4294967295,W=X+(G<<14&4294967295|G>>>18),G=V+(X^D&(W^X))+F[8]+1163531501&4294967295,V=W+(G<<20&4294967295|G>>>12),G=D+(W^X&(V^W))+F[13]+2850285829&4294967295,D=V+(G<<5&4294967295|G>>>27),G=X+(V^W&(D^V))+F[2]+4243563512&4294967295,X=D+(G<<9&4294967295|G>>>23),G=W+(D^V&(X^D))+F[7]+1735328473&4294967295,W=X+(G<<14&4294967295|G>>>18),G=V+(X^D&(W^X))+F[12]+2368359562&4294967295,V=W+(G<<20&4294967295|G>>>12),G=D+(V^W^X)+F[5]+4294588738&4294967295,D=V+(G<<4&4294967295|G>>>28),G=X+(D^V^W)+F[8]+2272392833&4294967295,X=D+(G<<11&4294967295|G>>>21),G=W+(X^D^V)+F[11]+1839030562&4294967295,W=X+(G<<16&4294967295|G>>>16),G=V+(W^X^D)+F[14]+4259657740&4294967295,V=W+(G<<23&4294967295|G>>>9),G=D+(V^W^X)+F[1]+2763975236&4294967295,D=V+(G<<4&4294967295|G>>>28),G=X+(D^V^W)+F[4]+1272893353&4294967295,X=D+(G<<11&4294967295|G>>>21),G=W+(X^D^V)+F[7]+4139469664&4294967295,W=X+(G<<16&4294967295|G>>>16),G=V+(W^X^D)+F[10]+3200236656&4294967295,V=W+(G<<23&4294967295|G>>>9),G=D+(V^W^X)+F[13]+681279174&4294967295,D=V+(G<<4&4294967295|G>>>28),G=X+(D^V^W)+F[0]+3936430074&4294967295,X=D+(G<<11&4294967295|G>>>21),G=W+(X^D^V)+F[3]+3572445317&4294967295,W=X+(G<<16&4294967295|G>>>16),G=V+(W^X^D)+F[6]+76029189&4294967295,V=W+(G<<23&4294967295|G>>>9),G=D+(V^W^X)+F[9]+3654602809&4294967295,D=V+(G<<4&4294967295|G>>>28),G=X+(D^V^W)+F[12]+3873151461&4294967295,X=D+(G<<11&4294967295|G>>>21),G=W+(X^D^V)+F[15]+530742520&4294967295,W=X+(G<<16&4294967295|G>>>16),G=V+(W^X^D)+F[2]+3299628645&4294967295,V=W+(G<<23&4294967295|G>>>9),G=D+(W^(V|~X))+F[0]+4096336452&4294967295,D=V+(G<<6&4294967295|G>>>26),G=X+(V^(D|~W))+F[7]+1126891415&4294967295,X=D+(G<<10&4294967295|G>>>22),G=W+(D^(X|~V))+F[14]+2878612391&4294967295,W=X+(G<<15&4294967295|G>>>17),G=V+(X^(W|~D))+F[5]+4237533241&4294967295,V=W+(G<<21&4294967295|G>>>11),G=D+(W^(V|~X))+F[12]+1700485571&4294967295,D=V+(G<<6&4294967295|G>>>26),G=X+(V^(D|~W))+F[3]+2399980690&4294967295,X=D+(G<<10&4294967295|G>>>22),G=W+(D^(X|~V))+F[10]+4293915773&4294967295,W=X+(G<<15&4294967295|G>>>17),G=V+(X^(W|~D))+F[1]+2240044497&4294967295,V=W+(G<<21&4294967295|G>>>11),G=D+(W^(V|~X))+F[8]+1873313359&4294967295,D=V+(G<<6&4294967295|G>>>26),G=X+(V^(D|~W))+F[15]+4264355552&4294967295,X=D+(G<<10&4294967295|G>>>22),G=W+(D^(X|~V))+F[6]+2734768916&4294967295,W=X+(G<<15&4294967295|G>>>17),G=V+(X^(W|~D))+F[13]+1309151649&4294967295,V=W+(G<<21&4294967295|G>>>11),G=D+(W^(V|~X))+F[4]+4149444226&4294967295,D=V+(G<<6&4294967295|G>>>26),G=X+(V^(D|~W))+F[11]+3174756917&4294967295,X=D+(G<<10&4294967295|G>>>22),G=W+(D^(X|~V))+F[2]+718787259&4294967295,W=X+(G<<15&4294967295|G>>>17),G=V+(X^(W|~D))+F[9]+3951481745&4294967295,O.g[0]=O.g[0]+D&4294967295,O.g[1]=O.g[1]+(W+(G<<21&4294967295|G>>>11))&4294967295,O.g[2]=O.g[2]+W&4294967295,O.g[3]=O.g[3]+X&4294967295}r.prototype.u=function(O,D){D===void 0&&(D=O.length);for(var V=D-this.blockSize,F=this.B,W=this.h,X=0;X<D;){if(W==0)for(;X<=V;)i(this,O,X),X+=this.blockSize;if(typeof O=="string"){for(;X<D;)if(F[W++]=O.charCodeAt(X++),W==this.blockSize){i(this,F),W=0;break}}else for(;X<D;)if(F[W++]=O[X++],W==this.blockSize){i(this,F),W=0;break}}this.h=W,this.o+=D},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var D=1;D<O.length-8;++D)O[D]=0;var V=8*this.o;for(D=O.length-8;D<O.length;++D)O[D]=V&255,V/=256;for(this.u(O),O=Array(16),D=V=0;4>D;++D)for(var F=0;32>F;F+=8)O[V++]=this.g[D]>>>F&255;return O};function s(O,D){var V=a;return Object.prototype.hasOwnProperty.call(V,O)?V[O]:V[O]=D(O)}function o(O,D){this.h=D;for(var V=[],F=!0,W=O.length-1;0<=W;W--){var X=O[W]|0;F&&X==D||(V[W]=X,F=!1)}this.g=V}var a={};function c(O){return-128<=O&&128>O?s(O,function(D){return new o([D|0],0>D?-1:0)}):new o([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return m;if(0>O)return C(f(-O));for(var D=[],V=1,F=0;O>=V;F++)D[F]=O/V|0,V*=4294967296;return new o(D,0)}function d(O,D){if(O.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O.charAt(0)=="-")return C(d(O.substring(1),D));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=f(Math.pow(D,8)),F=m,W=0;W<O.length;W+=8){var X=Math.min(8,O.length-W),G=parseInt(O.substring(W,W+X),D);8>X?(X=f(Math.pow(D,X)),F=F.j(X).add(f(G))):(F=F.j(V),F=F.add(f(G)))}return F}var m=c(0),g=c(1),b=c(16777216);n=o.prototype,n.m=function(){if(_(this))return-C(this).m();for(var O=0,D=1,V=0;V<this.g.length;V++){var F=this.i(V);O+=(0<=F?F:4294967296+F)*D,D*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(_(this))return"-"+C(this).toString(O);for(var D=f(Math.pow(O,6)),V=this,F="";;){var W=P(V,D).g;V=k(V,W.j(D));var X=((0<V.g.length?V.g[0]:V.h)>>>0).toString(O);if(V=W,x(V))return X+F;for(;6>X.length;)X="0"+X;F=X+F}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var D=0;D<O.g.length;D++)if(O.g[D]!=0)return!1;return!0}function _(O){return O.h==-1}n.l=function(O){return O=k(this,O),_(O)?-1:x(O)?0:1};function C(O){for(var D=O.g.length,V=[],F=0;F<D;F++)V[F]=~O.g[F];return new o(V,~O.h).add(g)}n.abs=function(){return _(this)?C(this):this},n.add=function(O){for(var D=Math.max(this.g.length,O.g.length),V=[],F=0,W=0;W<=D;W++){var X=F+(this.i(W)&65535)+(O.i(W)&65535),G=(X>>>16)+(this.i(W)>>>16)+(O.i(W)>>>16);F=G>>>16,X&=65535,G&=65535,V[W]=G<<16|X}return new o(V,V[V.length-1]&-2147483648?-1:0)};function k(O,D){return O.add(C(D))}n.j=function(O){if(x(this)||x(O))return m;if(_(this))return _(O)?C(this).j(C(O)):C(C(this).j(O));if(_(O))return C(this.j(C(O)));if(0>this.l(b)&&0>O.l(b))return f(this.m()*O.m());for(var D=this.g.length+O.g.length,V=[],F=0;F<2*D;F++)V[F]=0;for(F=0;F<this.g.length;F++)for(var W=0;W<O.g.length;W++){var X=this.i(F)>>>16,G=this.i(F)&65535,Te=O.i(W)>>>16,Ee=O.i(W)&65535;V[2*F+2*W]+=G*Ee,N(V,2*F+2*W),V[2*F+2*W+1]+=X*Ee,N(V,2*F+2*W+1),V[2*F+2*W+1]+=G*Te,N(V,2*F+2*W+1),V[2*F+2*W+2]+=X*Te,N(V,2*F+2*W+2)}for(F=0;F<D;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=D;F<2*D;F++)V[F]=0;return new o(V,0)};function N(O,D){for(;(O[D]&65535)!=O[D];)O[D+1]+=O[D]>>>16,O[D]&=65535,D++}function z(O,D){this.g=O,this.h=D}function P(O,D){if(x(D))throw Error("division by zero");if(x(O))return new z(m,m);if(_(O))return D=P(C(O),D),new z(C(D.g),C(D.h));if(_(D))return D=P(O,C(D)),new z(C(D.g),D.h);if(30<O.g.length){if(_(O)||_(D))throw Error("slowDivide_ only works with positive integers.");for(var V=g,F=D;0>=F.l(O);)V=H(V),F=H(F);var W=U(V,1),X=U(F,1);for(F=U(F,2),V=U(V,2);!x(F);){var G=X.add(F);0>=G.l(O)&&(W=W.add(V),X=G),F=U(F,1),V=U(V,1)}return D=k(O,W.j(D)),new z(W,D)}for(W=m;0<=O.l(D);){for(V=Math.max(1,Math.floor(O.m()/D.m())),F=Math.ceil(Math.log(V)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),X=f(V),G=X.j(D);_(G)||0<G.l(O);)V-=F,X=f(V),G=X.j(D);x(X)&&(X=g),W=W.add(X),O=k(O,G)}return new z(W,O)}n.A=function(O){return P(this,O).h},n.and=function(O){for(var D=Math.max(this.g.length,O.g.length),V=[],F=0;F<D;F++)V[F]=this.i(F)&O.i(F);return new o(V,this.h&O.h)},n.or=function(O){for(var D=Math.max(this.g.length,O.g.length),V=[],F=0;F<D;F++)V[F]=this.i(F)|O.i(F);return new o(V,this.h|O.h)},n.xor=function(O){for(var D=Math.max(this.g.length,O.g.length),V=[],F=0;F<D;F++)V[F]=this.i(F)^O.i(F);return new o(V,this.h^O.h)};function H(O){for(var D=O.g.length+1,V=[],F=0;F<D;F++)V[F]=O.i(F)<<1|O.i(F-1)>>>31;return new o(V,O.h)}function U(O,D){var V=D>>5;D%=32;for(var F=O.g.length-V,W=[],X=0;X<F;X++)W[X]=0<D?O.i(X+V)>>>D|O.i(X+V+1)<<32-D:O.i(X+V);return new o(W,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,f6=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,Ed=o}).apply(typeof UP<"u"?UP:typeof self<"u"?self:typeof window<"u"?window:{});var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d6,hb,h6,TE,uM,p6,m6,g6;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,M,L){return w==Array.prototype||w==Object.prototype||(w[M]=L.value),w};function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof NS=="object"&&NS];for(var M=0;M<w.length;++M){var L=w[M];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function i(w,M){if(M)e:{var L=r;w=w.split(".");for(var K=0;K<w.length-1;K++){var ue=w[K];if(!(ue in L))break e;L=L[ue]}w=w[w.length-1],K=L[w],M=M(K),M!=K&&M!=null&&e(L,w,{configurable:!0,writable:!0,value:M})}}function s(w,M){w instanceof String&&(w+="");var L=0,K=!1,ue={next:function(){if(!K&&L<w.length){var be=L++;return{value:M(be,w[be]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}i("Array.prototype.values",function(w){return w||function(){return s(this,function(M,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(w){var M=typeof w;return M=M!="object"?M:w?Array.isArray(w)?"array":M:"null",M=="array"||M=="object"&&typeof w.length=="number"}function f(w){var M=typeof w;return M=="object"&&w!=null||M=="function"}function d(w,M,L){return w.call.apply(w.bind,arguments)}function m(w,M,L){if(!w)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,K),w.apply(M,ue)}}return function(){return w.apply(M,arguments)}}function g(w,M,L){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function b(w,M){var L=Array.prototype.slice.call(arguments,1);return function(){var K=L.slice();return K.push.apply(K,arguments),w.apply(this,K)}}function x(w,M){function L(){}L.prototype=M.prototype,w.aa=M.prototype,w.prototype=new L,w.prototype.constructor=w,w.Qb=function(K,ue,be){for(var ze=Array(arguments.length-2),en=2;en<arguments.length;en++)ze[en-2]=arguments[en];return M.prototype[ue].apply(K,ze)}}function _(w){const M=w.length;if(0<M){const L=Array(M);for(let K=0;K<M;K++)L[K]=w[K];return L}return[]}function C(w,M){for(let L=1;L<arguments.length;L++){const K=arguments[L];if(c(K)){const ue=w.length||0,be=K.length||0;w.length=ue+be;for(let ze=0;ze<be;ze++)w[ue+ze]=K[ze]}else w.push(K)}}class k{constructor(M,L){this.i=M,this.j=L,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function N(w){return/^[\s\xa0]*$/.test(w)}function z(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function P(w){return P[" "](w),w}P[" "]=function(){};var H=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function U(w,M,L){for(const K in w)M.call(L,w[K],K,w)}function O(w,M){for(const L in w)M.call(void 0,w[L],L,w)}function D(w){const M={};for(const L in w)M[L]=w[L];return M}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(w,M){let L,K;for(let ue=1;ue<arguments.length;ue++){K=arguments[ue];for(L in K)w[L]=K[L];for(let be=0;be<V.length;be++)L=V[be],Object.prototype.hasOwnProperty.call(K,L)&&(w[L]=K[L])}}function W(w){var M=1;w=w.split(":");const L=[];for(;0<M&&w.length;)L.push(w.shift()),M--;return w.length&&L.push(w.join(":")),L}function X(w){a.setTimeout(()=>{throw w},0)}function G(){var w=we;let M=null;return w.g&&(M=w.g,w.g=w.g.next,w.g||(w.h=null),M.next=null),M}class Te{constructor(){this.h=this.g=null}add(M,L){const K=Ee.get();K.set(M,L),this.h?this.h.next=K:this.g=K,this.h=K}}var Ee=new k(()=>new J,w=>w.reset());class J{constructor(){this.next=this.g=this.h=null}set(M,L){this.h=M,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let se,te=!1,we=new Te,Q=()=>{const w=a.Promise.resolve(void 0);se=()=>{w.then(ae)}};var ae=()=>{for(var w;w=G();){try{w.h.call(w.g)}catch(L){X(L)}var M=Ee;M.j(w),100>M.h&&(M.h++,w.next=M.g,M.g=w)}te=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(w,M){this.type=w,this.g=this.target=M,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,M=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const L=()=>{};a.addEventListener("test",L,M),a.removeEventListener("test",L,M)}catch{}return w}();function Re(w,M){if(ne.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var L=this.type=w.type,K=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=M,M=w.relatedTarget){if(H){e:{try{P(M.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(M=null)}}else L=="mouseover"?M=w.fromElement:L=="mouseout"&&(M=w.toElement);this.relatedTarget=M,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:ye[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&Re.aa.h.call(this)}}x(Re,ne);var ye={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Le=0;function He(w,M,L,K,ue){this.listener=w,this.proxy=null,this.src=M,this.type=L,this.capture=!!K,this.ha=ue,this.key=++Le,this.da=this.fa=!1}function it(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Lt(w){this.src=w,this.g={},this.h=0}Lt.prototype.add=function(w,M,L,K,ue){var be=w.toString();w=this.g[be],w||(w=this.g[be]=[],this.h++);var ze=Et(w,M,K,ue);return-1<ze?(M=w[ze],L||(M.fa=!1)):(M=new He(M,this.src,be,!!K,ue),M.fa=L,w.push(M)),M};function Kt(w,M){var L=M.type;if(L in w.g){var K=w.g[L],ue=Array.prototype.indexOf.call(K,M,void 0),be;(be=0<=ue)&&Array.prototype.splice.call(K,ue,1),be&&(it(M),w.g[L].length==0&&(delete w.g[L],w.h--))}}function Et(w,M,L,K){for(var ue=0;ue<w.length;++ue){var be=w[ue];if(!be.da&&be.listener==M&&be.capture==!!L&&be.ha==K)return ue}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),tr={};function kr(w,M,L,K,ue){if(Array.isArray(M)){for(var be=0;be<M.length;be++)kr(w,M[be],L,K,ue);return null}return L=Li(L),w&&w[Ae]?w.K(M,L,f(K)?!!K.capture:!1,ue):jt(w,M,L,!1,K,ue)}function jt(w,M,L,K,ue,be){if(!M)throw Error("Invalid event type");var ze=f(ue)?!!ue.capture:!!ue,en=Wn(w);if(en||(w[Dt]=en=new Lt(w)),L=en.add(M,L,K,ze,be),L.proxy)return L;if(K=kn(),L.proxy=K,K.src=w,K.listener=L,w.addEventListener)ge||(ue=ze),ue===void 0&&(ue=!1),w.addEventListener(M.toString(),K,ue);else if(w.attachEvent)w.attachEvent(ln(M.toString()),K);else if(w.addListener&&w.removeListener)w.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return L}function kn(){function w(L){return M.call(w.src,w.listener,L)}const M=_n;return w}function Pn(w,M,L,K,ue){if(Array.isArray(M))for(var be=0;be<M.length;be++)Pn(w,M[be],L,K,ue);else K=f(K)?!!K.capture:!!K,L=Li(L),w&&w[Ae]?(w=w.i,M=String(M).toString(),M in w.g&&(be=w.g[M],L=Et(be,L,K,ue),-1<L&&(it(be[L]),Array.prototype.splice.call(be,L,1),be.length==0&&(delete w.g[M],w.h--)))):w&&(w=Wn(w))&&(M=w.g[M.toString()],w=-1,M&&(w=Et(M,L,K,ue)),(L=-1<w?M[w]:null)&&nr(L))}function nr(w){if(typeof w!="number"&&w&&!w.da){var M=w.src;if(M&&M[Ae])Kt(M.i,w);else{var L=w.type,K=w.proxy;M.removeEventListener?M.removeEventListener(L,K,w.capture):M.detachEvent?M.detachEvent(ln(L),K):M.addListener&&M.removeListener&&M.removeListener(K),(L=Wn(M))?(Kt(L,w),L.h==0&&(L.src=null,M[Dt]=null)):it(w)}}}function ln(w){return w in tr?tr[w]:tr[w]="on"+w}function _n(w,M){if(w.da)w=!0;else{M=new Re(M,this);var L=w.listener,K=w.ha||w.src;w.fa&&nr(w),w=L.call(K,M)}return w}function Wn(w){return w=w[Dt],w instanceof Lt?w:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function Li(w){return typeof w=="function"?w:(w[Ds]||(w[Ds]=function(M){return w.handleEvent(M)}),w[Ds])}function yn(){ve.call(this),this.i=new Lt(this),this.M=this,this.F=null}x(yn,ve),yn.prototype[Ae]=!0,yn.prototype.removeEventListener=function(w,M,L,K){Pn(this,w,M,L,K)};function Nt(w,M){var L,K=w.F;if(K)for(L=[];K;K=K.F)L.push(K);if(w=w.M,K=M.type||M,typeof M=="string")M=new ne(M,w);else if(M instanceof ne)M.target=M.target||w;else{var ue=M;M=new ne(K,w),F(M,ue)}if(ue=!0,L)for(var be=L.length-1;0<=be;be--){var ze=M.g=L[be];ue=Gn(ze,K,!0,M)&&ue}if(ze=M.g=w,ue=Gn(ze,K,!0,M)&&ue,ue=Gn(ze,K,!1,M)&&ue,L)for(be=0;be<L.length;be++)ze=M.g=L[be],ue=Gn(ze,K,!1,M)&&ue}yn.prototype.N=function(){if(yn.aa.N.call(this),this.i){var w=this.i,M;for(M in w.g){for(var L=w.g[M],K=0;K<L.length;K++)it(L[K]);delete w.g[M],w.h--}}this.F=null},yn.prototype.K=function(w,M,L,K){return this.i.add(String(w),M,!1,L,K)},yn.prototype.L=function(w,M,L,K){return this.i.add(String(w),M,!0,L,K)};function Gn(w,M,L,K){if(M=w.i.g[String(M)],!M)return!0;M=M.concat();for(var ue=!0,be=0;be<M.length;++be){var ze=M[be];if(ze&&!ze.da&&ze.capture==L){var en=ze.listener,Hr=ze.ha||ze.src;ze.fa&&Kt(w.i,ze),ue=en.call(Hr,K)!==!1&&ue}}return ue&&!K.defaultPrevented}function rr(w,M,L){if(typeof w=="function")L&&(w=g(w,L));else if(w&&typeof w.handleEvent=="function")w=g(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:a.setTimeout(w,M||0)}function Vi(w){w.g=rr(()=>{w.g=null,w.i&&(w.i=!1,Vi(w))},w.l);const M=w.h;w.h=null,w.m.apply(null,M)}class Zo extends ve{constructor(M,L){super(),this.m=M,this.l=L,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(w){ve.call(this),this.h=w,this.g={}}x(ti,ve);var Is=[];function xe(w){U(w.g,function(M,L){this.g.hasOwnProperty(L)&&nr(M)},w),w.g={}}ti.prototype.N=function(){ti.aa.N.call(this),xe(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fe=a.JSON.stringify,et=a.JSON.parse,It=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Ct(){}Ct.prototype.h=null;function Tn(w){return w.h||(w.h=w.i())}function Mr(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ne.call(this,"d")}x(Si,ne);function Ei(){ne.call(this,"c")}x(Ei,ne);var st={},Mn=null;function vn(){return Mn=Mn||new yn}st.La="serverreachability";function ur(w){ne.call(this,st.La,w)}x(ur,ne);function mi(w){const M=vn();Nt(M,new ur(M))}st.STAT_EVENT="statevent";function jn(w,M){ne.call(this,st.STAT_EVENT,w),this.stat=M}x(jn,ne);function Yt(w){const M=vn();Nt(M,new jn(M,w))}st.Ma="timingevent";function Kn(w,M){ne.call(this,st.Ma,w),this.size=M}x(Kn,ne);function bn(w,M){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},M)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function Rl(w,M,L,K,ue,be){w.info(function(){if(w.g)if(be)for(var ze="",en=be.split("&"),Hr=0;Hr<en.length;Hr++){var sn=en[Hr].split("=");if(1<sn.length){var An=sn[0];sn=sn[1];var Er=An.split("_");ze=2<=Er.length&&Er[1]=="type"?ze+(An+"="+sn+"&"):ze+(An+"=redacted&")}}else ze=null;else ze=be;return"XMLHTTP REQ ("+K+") [attempt "+ue+"]: "+M+`
`+L+`
`+ze})}function To(w,M,L,K,ue,be,ze){w.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ue+"]: "+M+`
`+L+`
`+be+" "+ze})}function Va(w,M,L,K){w.info(function(){return"XMLHTTP TEXT ("+M+"): "+Bc(w,L)+(K?" "+K:"")})}function ym(w,M){w.info(function(){return"TIMEOUT: "+M})}Yn.prototype.info=function(){};function Bc(w,M){if(!w.g)return M;if(!M)return null;try{var L=JSON.parse(M);if(L){for(w=0;w<L.length;w++)if(Array.isArray(L[w])){var K=L[w];if(!(2>K.length)){var ue=K[1];if(Array.isArray(ue)&&!(1>ue.length)){var be=ue[0];if(be!="noop"&&be!="stop"&&be!="close")for(var ze=1;ze<ue.length;ze++)ue[ze]=""}}}}return Fe(L)}catch{return M}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ea;function Co(){}x(Co,Ct),Co.prototype.g=function(){return new XMLHttpRequest},Co.prototype.i=function(){return{}},ea=new Co;function Bi(w,M,L,K){this.j=w,this.i=M,this.l=L,this.R=K||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}var Jd={},Ju={};function Ao(w,M,L){w.L=1,w.v=Fa(rs(M)),w.m=L,w.P=!0,za(w,null)}function za(w,M){w.F=Date.now(),ta(w),w.A=rs(w.v);var L=w.A,K=w.R;Array.isArray(K)||(K=[String(K)]),of(L.i,"t",K),w.C=0,L=w.j.J,w.h=new Sr,w.g=Rm(w.j,L?M:null,!w.m),0<w.O&&(w.M=new Zo(g(w.Y,w,w.g),w.O)),M=w.U,L=w.g,K=w.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(Is[0]=ue.toString()),ue=Is);for(var be=0;be<ue.length;be++){var ze=kr(L,ue[be],K||M.handleEvent,!1,M.h||M);if(!ze)break;M.g[ze.key]=ze}M=w.H?D(w.H):{},w.m?(w.u||(w.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,M)):(w.u="GET",w.g.ea(w.A,w.u,null,M)),mi(),Rl(w.i,w.u,w.A,w.l,w.R,w.m)}Bi.prototype.ca=function(w){w=w.target;const M=this.M;M&&ii(w)==3?M.j():this.Y(w)},Bi.prototype.Y=function(w){try{if(w==this.g)e:{const Er=ii(this.g);var M=this.g.Ba();const Os=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||oh(this.g)))){this.J||Er!=4||M==7||(M==8||0>=Os?mi(3):mi(2)),Ml(this);var L=this.g.Z();this.X=L;t:if(zc(this)){var K=oh(this.g);w="";var ue=K.length,be=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),na(this);var ze="";break t}this.h.i=new a.TextDecoder}for(M=0;M<ue;M++)this.h.h=!0,w+=this.h.i.decode(K[M],{stream:!(be&&M==ue-1)});K.length=0,this.h.g+=w,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=L==200,To(this.i,this.u,this.A,this.l,this.R,Er,L),this.o){if(this.T&&!this.K){t:{if(this.g){var en,Hr=this.g;if((en=Hr.g?Hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(en)){var sn=en;break t}}sn=null}if(L=sn)Va(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,L);else{this.o=!1,this.s=3,Yt(12),ni(this),na(this);break e}}if(this.P){L=!0;let oi;for(;!this.J&&this.C<ze.length;)if(oi=vm(this,ze),oi==Ju){Er==4&&(this.s=4,Yt(14),L=!1),Va(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==Jd){this.s=4,Yt(15),Va(this.i,this.l,ze,"[Invalid Chunk]"),L=!1;break}else Va(this.i,this.l,oi,null),Dl(this,oi);if(zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||ze.length!=0||this.h.h||(this.s=1,Yt(16),L=!1),this.o=this.o&&L,!L)Va(this.i,this.l,ze,"[Invalid Chunked Response]"),ni(this),na(this);else if(0<ze.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),as(An),An.M=!0,Yt(11))}}else Va(this.i,this.l,ze,null),Dl(this,ze);Er==4&&ni(this),this.o&&!this.J&&(Er==4?Un(this.j,this):(this.o=!1,ta(this)))}else ah(this.g),L==400&&0<ze.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),ni(this),na(this)}}}catch{}finally{}};function zc(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function vm(w,M){var L=w.C,K=M.indexOf(`
`,L);return K==-1?Ju:(L=Number(M.substring(L,K)),isNaN(L)?Jd:(K+=1,K+L>M.length?Ju:(M=M.slice(K,K+L),w.C=K+L,M)))}Bi.prototype.cancel=function(){this.J=!0,ni(this)};function ta(w){w.S=Date.now()+w.I,bm(w,w.I)}function bm(w,M){if(w.B!=null)throw Error("WatchDog timer not null");w.B=bn(g(w.ba,w),M)}function Ml(w){w.B&&(a.clearTimeout(w.B),w.B=null)}Bi.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(ym(this.i,this.A),this.L!=2&&(mi(),Yt(17)),ni(this),this.s=2,na(this)):bm(this,this.S-w)};function na(w){w.j.G==0||w.J||Un(w.j,w)}function ni(w){Ml(w);var M=w.M;M&&typeof M.ma=="function"&&M.ma(),w.M=null,xe(w.U),w.g&&(M=w.g,w.g=null,M.abort(),M.ma())}function Dl(w,M){try{var L=w.j;if(L.G!=0&&(L.g==w||eh(L.h,w))){if(!w.K&&eh(L.h,w)&&L.G==3){try{var K=L.Da.g.parse(M)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ue=K;if(ue[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<w.F)Nl(L),Gc(L);else break e;uf(L),Yt(18)}}else L.za=ue[1],0<L.za-L.T&&37500>ue[2]&&L.F&&L.v==0&&!L.C&&(L.C=bn(g(L.Za,L),6e3));if(1>=ef(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else ko(L,11)}else if((w.K||L.g==w)&&Nl(L),!N(M))for(ue=L.Da.g.parse(M),M=0;M<ue.length;M++){let sn=ue[M];if(L.T=sn[0],sn=sn[1],L.G==2)if(sn[0]=="c"){L.K=sn[1],L.ia=sn[2];const An=sn[3];An!=null&&(L.la=An,L.j.info("VER="+L.la));const Er=sn[4];Er!=null&&(L.Aa=Er,L.j.info("SVER="+L.Aa));const Os=sn[5];Os!=null&&typeof Os=="number"&&0<Os&&(K=1.5*Os,L.L=K,L.j.info("backChannelRequestTimeoutMs_="+K)),K=L;const oi=w.g;if(oi){const Mo=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var be=K.h;be.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(jc(be,be.h),be.h=null))}if(K.D){const ch=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(K.ya=ch,Dn(K.I,K.D,ch))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-w.F,L.j.info("Handshake RTT: "+L.R+"ms")),K=L;var ze=w;if(K.qa=ff(K,K.J?K.ia:null,K.W),ze.K){_i(K.h,ze);var en=ze,Hr=K.L;Hr&&(en.I=Hr),en.B&&(Ml(en),ta(en)),K.g=ze}else Cm(K);0<L.i.length&&Kc(L)}else sn[0]!="stop"&&sn[0]!="close"||ko(L,7);else L.G==3&&(sn[0]=="stop"||sn[0]=="close"?sn[0]=="stop"?ko(L,7):cf(L):sn[0]!="noop"&&L.l&&L.l.ta(sn),L.v=0)}}mi(4)}catch{}}var Zd=class{constructor(w,M){this.g=w,this.map=M}};function ja(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zu(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function ef(w){return w.h?1:w.g?w.g.size:0}function eh(w,M){return w.h?w.h==M:w.g?w.g.has(M):!1}function jc(w,M){w.g?w.g.add(M):w.h=M}function _i(w,M){w.h&&w.h==M?w.h=null:w.g&&w.g.has(M)&&w.g.delete(M)}ja.prototype.cancel=function(){if(this.i=tf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function tf(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let M=w.i;for(const L of w.g.values())M=M.concat(L.D);return M}return _(w.i)}function th(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(c(w)){for(var M=[],L=w.length,K=0;K<L;K++)M.push(w[K]);return M}M=[],L=0;for(K in w)M[L++]=w[K];return M}function nf(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(c(w)||typeof w=="string"){var M=[];w=w.length;for(var L=0;L<w;L++)M.push(L);return M}M=[],L=0;for(const K in w)M[L++]=K;return M}}}function rf(w,M){if(w.forEach&&typeof w.forEach=="function")w.forEach(M,void 0);else if(c(w)||typeof w=="string")Array.prototype.forEach.call(w,M,void 0);else for(var L=nf(w),K=th(w),ue=K.length,be=0;be<ue;be++)M.call(void 0,K[be],L&&L[be],w)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wm(w,M){if(w){w=w.split("&");for(var L=0;L<w.length;L++){var K=w[L].indexOf("="),ue=null;if(0<=K){var be=w[L].substring(0,K);ue=w[L].substring(K+1)}else be=w[L];M(be,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Dr(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Dr){this.h=w.h,Il(this,w.j),this.o=w.o,this.g=w.g,ia(this,w.s),this.l=w.l;var M=w.i,L=new sa;L.i=M.i,M.g&&(L.g=new Map(M.g),L.h=M.h),Ua(this,L),this.m=w.m}else w&&(M=String(w).match(ra))?(this.h=!1,Il(this,M[1]||"",!0),this.o=is(M[2]||""),this.g=is(M[3]||"",!0),ia(this,M[4]),this.l=is(M[5]||"",!0),Ua(this,M[6]||"",!0),this.m=is(M[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}Dr.prototype.toString=function(){var w=[],M=this.j;M&&w.push(Xs(M,sf,!0),":");var L=this.g;return(L||M=="file")&&(w.push("//"),(M=this.o)&&w.push(Xs(M,sf,!0),"@"),w.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&w.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&w.push("/"),w.push(Xs(L,L.charAt(0)=="/"?xm:rh,!0))),(L=this.i.toString())&&w.push("?",L),(L=this.m)&&w.push("#",Xs(L,Uc)),w.join("")};function rs(w){return new Dr(w)}function Il(w,M,L){w.j=L?is(M,!0):M,w.j&&(w.j=w.j.replace(/:$/,""))}function ia(w,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);w.s=M}else w.s=null}function Ua(w,M,L){M instanceof sa?(w.i=M,Em(w.i,w.h)):(L||(M=Xs(M,Sm)),w.i=new sa(M,w.h))}function Dn(w,M,L){w.i.set(M,L)}function Fa(w){return Dn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function is(w,M){return w?M?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Xs(w,M,L){return typeof w=="string"?(w=encodeURI(w).replace(M,nh),L&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function nh(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var sf=/[#\/\?@]/g,rh=/[#\?:]/g,xm=/[#\?]/g,Sm=/[#\?@]/g,Uc=/#/g;function sa(w,M){this.h=this.g=null,this.i=w||null,this.j=!!M}function Qs(w){w.g||(w.g=new Map,w.h=0,w.i&&wm(w.i,function(M,L){w.add(decodeURIComponent(M.replace(/\+/g," ")),L)}))}n=sa.prototype,n.add=function(w,M){Qs(this),this.i=null,w=oa(this,w);var L=this.g.get(w);return L||this.g.set(w,L=[]),L.push(M),this.h+=1,this};function Ha(w,M){Qs(w),M=oa(w,M),w.g.has(M)&&(w.i=null,w.h-=w.g.get(M).length,w.g.delete(M))}function $a(w,M){return Qs(w),M=oa(w,M),w.g.has(M)}n.forEach=function(w,M){Qs(this),this.g.forEach(function(L,K){L.forEach(function(ue){w.call(M,ue,K,this)},this)},this)},n.na=function(){Qs(this);const w=Array.from(this.g.values()),M=Array.from(this.g.keys()),L=[];for(let K=0;K<M.length;K++){const ue=w[K];for(let be=0;be<ue.length;be++)L.push(M[K])}return L},n.V=function(w){Qs(this);let M=[];if(typeof w=="string")$a(this,w)&&(M=M.concat(this.g.get(oa(this,w))));else{w=Array.from(this.g.values());for(let L=0;L<w.length;L++)M=M.concat(w[L])}return M},n.set=function(w,M){return Qs(this),this.i=null,w=oa(this,w),$a(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[M]),this.h+=1,this},n.get=function(w,M){return w?(w=this.V(w),0<w.length?String(w[0]):M):M};function of(w,M,L){Ha(w,M),0<L.length&&(w.i=null,w.g.set(oa(w,M),_(L)),w.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],M=Array.from(this.g.keys());for(var L=0;L<M.length;L++){var K=M[L];const be=encodeURIComponent(String(K)),ze=this.V(K);for(K=0;K<ze.length;K++){var ue=be;ze[K]!==""&&(ue+="="+encodeURIComponent(String(ze[K]))),w.push(ue)}}return this.i=w.join("&")};function oa(w,M){return M=String(M),w.j&&(M=M.toLowerCase()),M}function Em(w,M){M&&!w.j&&(Qs(w),w.i=null,w.g.forEach(function(L,K){var ue=K.toLowerCase();K!=ue&&(Ha(this,K),of(this,ue,L))},w)),w.j=M}function Fc(w,M){const L=new Yn;if(a.Image){const K=new Image;K.onload=b(ss,L,"TestLoadImage: loaded",!0,M,K),K.onerror=b(ss,L,"TestLoadImage: error",!1,M,K),K.onabort=b(ss,L,"TestLoadImage: abort",!1,M,K),K.ontimeout=b(ss,L,"TestLoadImage: timeout",!1,M,K),a.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=w}else M(!1)}function Ro(w,M){const L=new Yn,K=new AbortController,ue=setTimeout(()=>{K.abort(),ss(L,"TestPingServer: timeout",!1,M)},1e4);fetch(w,{signal:K.signal}).then(be=>{clearTimeout(ue),be.ok?ss(L,"TestPingServer: ok",!0,M):ss(L,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(ue),ss(L,"TestPingServer: error",!1,M)})}function ss(w,M,L,K,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),K(L)}catch{}}function Hc(){this.g=new It}function aa(w,M,L){const K=L||"";try{rf(w,function(ue,be){let ze=ue;f(ue)&&(ze=Fe(ue)),M.push(K+be+"="+encodeURIComponent(ze))})}catch(ue){throw M.push(K+"type="+encodeURIComponent("_badmap")),ue}}function Ol(w){this.l=w.Ub||null,this.j=w.eb||!1}x(Ol,Ct),Ol.prototype.g=function(){return new qa(this.l,this.j)},Ol.prototype.i=function(w){return function(){return w}}({});function qa(w,M){yn.call(this),this.D=w,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(qa,yn),n=qa.prototype,n.open=function(w,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=M,this.readyState=1,rn(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(M.body=w),(this.D||a).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cn(this)),this.readyState=0},n.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,rn(this)),this.g&&(this.readyState=3,rn(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ih(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function ih(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}n.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var M=w.value?w.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!w.done}))&&(this.response=this.responseText+=M)}w.done?cn(this):rn(this),this.readyState==3&&ih(this)}},n.Ra=function(w){this.g&&(this.response=this.responseText=w,cn(this))},n.Qa=function(w){this.g&&(this.response=w,cn(this))},n.ga=function(){this.g&&cn(this)};function cn(w){w.readyState=4,w.l=null,w.j=null,w.v=null,rn(w)}n.setRequestHeader=function(w,M){this.u.append(w,M)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],M=this.h.entries();for(var L=M.next();!L.done;)L=L.value,w.push(L[0]+": "+L[1]),L=M.next();return w.join(`\r
`)};function rn(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function sh(w){let M="";return U(w,function(L,K){M+=K,M+=":",M+=L,M+=`\r
`}),M}function ri(w,M,L){e:{for(K in L){var K=!1;break e}K=!0}K||(L=sh(L),typeof w=="string"?L!=null&&encodeURIComponent(String(L)):Dn(w,M,L))}function Cn(w){yn.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Cn,yn);var af=/^https?$/i,$c=["POST","PUT"];n=Cn.prototype,n.Ha=function(w){this.J=w},n.ea=function(w,M,L,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);M=M?M.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ea.g(),this.v=this.o?Tn(this.o):Tn(ea),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(M,String(w),!0),this.B=!1}catch(be){_m(this,be);return}if(w=L||"",L=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ue in K)L.set(ue,K[ue]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const be of K.keys())L.set(be,K.get(be));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(L.keys()).find(be=>be.toLowerCase()=="content-type"),ue=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call($c,M,void 0))||K||ue||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,ze]of L)this.g.setRequestHeader(be,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(w),this.u=!1}catch(be){_m(this,be)}};function _m(w,M){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=M,w.m=5,qc(w),Xn(w)}function qc(w){w.A||(w.A=!0,Nt(w,"complete"),Nt(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Nt(this,"complete"),Nt(this,"abort"),Xn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),Cn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?lf(this):this.bb())},n.bb=function(){lf(this)};function lf(w){if(w.h&&typeof o<"u"&&(!w.v[1]||ii(w)!=4||w.Z()!=2)){if(w.u&&ii(w)==4)rr(w.Ea,0,w);else if(Nt(w,"readystatechange"),ii(w)==4){w.h=!1;try{const ze=w.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var L;if(!(L=M)){var K;if(K=ze===0){var ue=String(w.D).match(ra)[1]||null;!ue&&a.self&&a.self.location&&(ue=a.self.location.protocol.slice(0,-1)),K=!af.test(ue?ue.toLowerCase():"")}L=K}if(L)Nt(w,"complete"),Nt(w,"success");else{w.m=6;try{var be=2<ii(w)?w.g.statusText:""}catch{be=""}w.l=be+" ["+w.Z()+"]",qc(w)}}finally{Xn(w)}}}}function Xn(w,M){if(w.g){Wa(w);const L=w.g,K=w.v[0]?()=>{}:null;w.g=null,w.v=null,M||Nt(w,"ready");try{L.onreadystatechange=K}catch{}}}function Wa(w){w.I&&(a.clearTimeout(w.I),w.I=null)}n.isActive=function(){return!!this.g};function ii(w){return w.g?w.g.readyState:0}n.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(w){if(this.g){var M=this.g.responseText;return w&&M.indexOf(w)==0&&(M=M.substring(w.length)),et(M)}};function oh(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ah(w){const M={};w=(w.g&&2<=ii(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<w.length;K++){if(N(w[K]))continue;var L=W(w[K]);const ue=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const be=M[ue]||[];M[ue]=be,be.push(L)}O(M,function(K){return K.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(w,M,L){return L&&L.internalChannelParams&&L.internalChannelParams[w]||M}function Wc(w){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=si("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=si("baseRetryDelayMs",5e3,w),this.cb=si("retryDelaySeedMs",1e4,w),this.Wa=si("forwardChannelMaxRetries",2,w),this.wa=si("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new ja(w&&w.concurrentRequestLimit),this.Da=new Hc,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wc.prototype,n.la=8,n.G=1,n.connect=function(w,M,L,K){Yt(0),this.W=w,this.H=M||{},L&&K!==void 0&&(this.H.OSID=L,this.H.OAID=K),this.F=this.X,this.I=ff(this,null,this.W),Kc(this)};function cf(w){if(lh(w),w.G==3){var M=w.U++,L=rs(w.I);if(Dn(L,"SID",w.K),Dn(L,"RID",M),Dn(L,"TYPE","terminate"),Yc(w,L),M=new Bi(w,w.j,M),M.L=2,M.v=Fa(rs(L)),L=!1,a.navigator&&a.navigator.sendBeacon)try{L=a.navigator.sendBeacon(M.v.toString(),"")}catch{}!L&&a.Image&&(new Image().src=M.v,L=!0),L||(M.g=Rm(M.j,null),M.g.ea(M.v)),M.F=Date.now(),ta(M)}Am(w)}function Gc(w){w.g&&(as(w),w.g.cancel(),w.g=null)}function lh(w){Gc(w),w.u&&(a.clearTimeout(w.u),w.u=null),Nl(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function Kc(w){if(!Zu(w.h)&&!w.s){w.s=!0;var M=w.Ga;se||Q(),te||(se(),te=!0),we.add(M,w),w.B=0}}function Tm(w,M){return ef(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=M.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=bn(g(w.Ga,w,M),Js(w,w.B)),w.B++,!0)}n.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ue=new Bi(this,this.j,w);let be=this.o;if(this.S&&(be?(be=D(be),F(be,this.S)):be=this.S),this.m!==null||this.O||(ue.H=be,be=null),this.P)e:{for(var M=0,L=0;L<this.i.length;L++){t:{var K=this.i[L];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(M+=K,4096<M){M=L;break e}if(M===4096||L===this.i.length-1){M=L+1;break e}}M=1e3}else M=1e3;M=zi(this,ue,M),L=rs(this.I),Dn(L,"RID",w),Dn(L,"CVER",22),this.D&&Dn(L,"X-HTTP-Session-Id",this.D),Yc(this,L),be&&(this.O?M="headers="+encodeURIComponent(String(sh(be)))+"&"+M:this.m&&ri(L,this.m,be)),jc(this.h,ue),this.Ua&&Dn(L,"TYPE","init"),this.P?(Dn(L,"$req",M),Dn(L,"SID","null"),ue.T=!0,Ao(ue,L,null)):Ao(ue,L,M),this.G=2}}else this.G==3&&(w?gi(this,w):this.i.length==0||Zu(this.h)||gi(this))};function gi(w,M){var L;M?L=M.l:L=w.U++;const K=rs(w.I);Dn(K,"SID",w.K),Dn(K,"RID",L),Dn(K,"AID",w.T),Yc(w,K),w.m&&w.o&&ri(K,w.m,w.o),L=new Bi(w,w.j,L,w.B+1),w.m===null&&(L.H=w.o),M&&(w.i=M.D.concat(w.i)),M=zi(w,L,1e3),L.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),jc(w.h,L),Ao(L,K,M)}function Yc(w,M){w.H&&U(w.H,function(L,K){Dn(M,K,L)}),w.l&&rf({},function(L,K){Dn(M,K,L)})}function zi(w,M,L){L=Math.min(w.i.length,L);var K=w.l?g(w.l.Na,w.l,w):null;e:{var ue=w.i;let be=-1;for(;;){const ze=["count="+L];be==-1?0<L?(be=ue[0].g,ze.push("ofs="+be)):be=0:ze.push("ofs="+be);let en=!0;for(let Hr=0;Hr<L;Hr++){let sn=ue[Hr].g;const An=ue[Hr].map;if(sn-=be,0>sn)be=Math.max(0,ue[Hr].g-100),en=!1;else try{aa(An,ze,"req"+sn+"_")}catch{K&&K(An)}}if(en){K=ze.join("&");break e}}}return w=w.i.splice(0,L),M.D=w,K}function Cm(w){if(!w.g&&!w.u){w.Y=1;var M=w.Fa;se||Q(),te||(se(),te=!0),we.add(M,w),w.v=0}}function uf(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=bn(g(w.Fa,w),Js(w,w.v)),w.v++,!0)}n.Fa=function(){if(this.u=null,Xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=bn(g(this.ab,this),w)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Gc(this),Xc(this))};function as(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function Xc(w){w.g=new Bi(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var M=rs(w.qa);Dn(M,"RID","rpc"),Dn(M,"SID",w.K),Dn(M,"AID",w.T),Dn(M,"CI",w.F?"0":"1"),!w.F&&w.ja&&Dn(M,"TO",w.ja),Dn(M,"TYPE","xmlhttp"),Yc(w,M),w.m&&w.o&&ri(M,w.m,w.o),w.L&&(w.g.I=w.L);var L=w.g;w=w.ia,L.L=1,L.v=Fa(rs(M)),L.m=null,L.P=!0,za(L,w)}n.Za=function(){this.C!=null&&(this.C=null,Gc(this),uf(this),Yt(19))};function Nl(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Un(w,M){var L=null;if(w.g==M){Nl(w),as(w),w.g=null;var K=2}else if(eh(w.h,M))L=M.D,_i(w.h,M),K=1;else return;if(w.G!=0){if(M.o)if(K==1){L=M.m?M.m.length:0,M=Date.now()-M.F;var ue=w.B;K=vn(),Nt(K,new Kn(K,L)),Kc(w)}else Cm(w);else if(ue=M.s,ue==3||ue==0&&0<M.X||!(K==1&&Tm(w,M)||K==2&&uf(w)))switch(L&&0<L.length&&(M=w.h,M.i=M.i.concat(L)),ue){case 1:ko(w,5);break;case 4:ko(w,10);break;case 3:ko(w,6);break;default:ko(w,2)}}}function Js(w,M){let L=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(L*=2),L*M}function ko(w,M){if(w.j.info("Error code "+M),M==2){var L=g(w.fb,w),K=w.Xa;const ue=!K;K=new Dr(K||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Il(K,"https"),Fa(K),ue?Fc(K.toString(),L):Ro(K.toString(),L)}else Yt(2);w.G=0,w.l&&w.l.sa(M),Am(w),lh(w)}n.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Am(w){if(w.G=0,w.ka=[],w.l){const M=tf(w.h);(M.length!=0||w.i.length!=0)&&(C(w.ka,M),C(w.ka,w.i),w.h.i.length=0,_(w.i),w.i.length=0),w.l.ra()}}function ff(w,M,L){var K=L instanceof Dr?rs(L):new Dr(L);if(K.g!="")M&&(K.g=M+"."+K.g),ia(K,K.s);else{var ue=a.location;K=ue.protocol,M=M?M+"."+ue.hostname:ue.hostname,ue=+ue.port;var be=new Dr(null);K&&Il(be,K),M&&(be.g=M),ue&&ia(be,ue),L&&(be.l=L),K=be}return L=w.D,M=w.ya,L&&M&&Dn(K,L,M),Dn(K,"VER",w.la),Yc(w,K),K}function Rm(w,M,L){if(M&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=w.Ca&&!w.pa?new Cn(new Ol({eb:L})):new Cn(w.pa),M.Ha(w.J),M}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function km(){}n=km.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function df(){}df.prototype.g=function(w,M){return new Ti(w,M)};function Ti(w,M){yn.call(this),this.g=new Wc(M),this.l=w,this.h=M&&M.messageUrlParams||null,w=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(w?w["X-WebChannel-Content-Type"]=M.messageContentType:w={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(w?w["X-WebChannel-Client-Profile"]=M.va:w={"X-WebChannel-Client-Profile":M.va}),this.g.S=w,(w=M&&M.Sb)&&!N(w)&&(this.g.m=w),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!N(M)&&(this.g.D=M,w=this.h,w!==null&&M in w&&(w=this.h,M in w&&delete w[M])),this.j=new la(this)}x(Ti,yn),Ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ti.prototype.close=function(){cf(this.g)},Ti.prototype.o=function(w){var M=this.g;if(typeof w=="string"){var L={};L.__data__=w,w=L}else this.u&&(L={},L.__data__=Fe(w),w=L);M.i.push(new Zd(M.Ya++,w)),M.G==3&&Kc(M)},Ti.prototype.N=function(){this.g.l=null,delete this.j,cf(this.g),delete this.g,Ti.aa.N.call(this)};function Qc(w){Si.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var M=w.__sm__;if(M){e:{for(const L in M){w=L;break e}w=void 0}(this.i=w)&&(w=this.i,M=M!==null&&w in M?M[w]:void 0),this.data=M}else this.data=w}x(Qc,Si);function Ga(){Ei.call(this),this.status=1}x(Ga,Ei);function la(w){this.g=w}x(la,km),la.prototype.ua=function(){Nt(this.g,"a")},la.prototype.ta=function(w){Nt(this.g,new Qc(w))},la.prototype.sa=function(w){Nt(this.g,new Ga)},la.prototype.ra=function(){Nt(this.g,"b")},df.prototype.createWebChannel=df.prototype.g,Ti.prototype.send=Ti.prototype.o,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,g6=function(){return new df},m6=function(){return vn()},p6=st,uM={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,TE=kl,Ba.COMPLETE="complete",h6=Ba,Mr.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",yn.prototype.listen=yn.prototype.K,hb=Mr,Cn.prototype.listenOnce=Cn.prototype.L,Cn.prototype.getLastError=Cn.prototype.Ka,Cn.prototype.getLastErrorCode=Cn.prototype.Ba,Cn.prototype.getStatus=Cn.prototype.Z,Cn.prototype.getResponseJson=Cn.prototype.Oa,Cn.prototype.getResponseText=Cn.prototype.oa,Cn.prototype.send=Cn.prototype.ea,Cn.prototype.setWithCredentials=Cn.prototype.Ha,d6=Cn}).apply(typeof NS<"u"?NS:typeof self<"u"?self:typeof window<"u"?window:{});const FP="@firebase/firestore",HP="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Es.UNAUTHENTICATED=new Es(null),Es.GOOGLE_CREDENTIALS=new Es("google-credentials-uid"),Es.FIRST_PARTY=new Es("first-party-uid"),Es.MOCK_USER=new Es("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yv="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new kI("@firebase/firestore");function Zg(){return em.logLevel}function Ge(n,...e){if(em.logLevel<=fn.DEBUG){const t=e.map(FI);em.debug(`Firestore (${yv}): ${n}`,...t)}}function $u(n,...e){if(em.logLevel<=fn.ERROR){const t=e.map(FI);em.error(`Firestore (${yv}): ${n}`,...t)}}function Ly(n,...e){if(em.logLevel<=fn.WARN){const t=e.map(FI);em.warn(`Firestore (${yv}): ${n}`,...t)}}function FI(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,y6(n,r,t)}function y6(n,e,t){let r=`FIRESTORE (${yv}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $u(r),new Error(r)}function Bn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||y6(e,i,r)}function Mt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Xu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Es.UNAUTHENTICATED))}shutdown(){}}class vne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bne{constructor(e){this.t=e,this.currentUser=Es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new _d;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _d,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _d)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bn(typeof r.accessToken=="string",31837,{l:r}),new v6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bn(e===null||typeof e=="string",2055,{h:e}),new Es(e)}}class wne{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Es.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xne{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new wne(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $P{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sne{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Bn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $P(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $P(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ene(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Ene(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function fM(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Zt(r,i);{const s=b6(),o=_ne(s.encode(qP(n,t)),s.encode(qP(e,t)));return o!==0?o:Zt(r,i)}}t+=r>65535?2:1}return Zt(n.length,e.length)}function qP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _ne(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Zt(n[t],e[t]);return Zt(n.length,e.length)}function Vy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=-62135596800,GP=1e6;class wi{static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*GP);return new wi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ft(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ft(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WP)throw new ft(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GP}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new wi(0,0))}static max(){return new At(new wi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="__name__";class fc{constructor(e,t,r){t===void 0?t=0:t>e.length&&St(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&St(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=fc.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Zt(e.length,t.length)}static compareSegments(e,t){const r=fc.isNumericId(e),i=fc.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?fc.extractNumericId(e).compare(fc.extractNumericId(t)):fM(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ed.fromString(e.substring(4,e.length-2))}}class jr extends fc{construct(e,t,r){return new jr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new jr(t)}static emptyPath(){return new jr([])}}const Tne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends fc{construct(e,t,r){return new Zi(e,t,r)}static isValidIdentifier(e){return Tne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KP}static keyField(){return new Zi([KP])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ft(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ft(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ft(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ft(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(jr.fromString(e))}static fromName(e){return new ht(jr.fromString(e).popFirst(5))}static empty(){return new ht(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new jr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=-1;function Cne(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(r===1e9?new wi(t+1,0):new wi(t,r));return new Id(i,ht.empty(),e)}function Ane(n){return new Id(n.readTime,n.key,hw)}class Id{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Id(At.min(),ht.empty(),hw)}static max(){return new Id(At.max(),ht.empty(),hw)}}function Rne(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ht.comparator(n.documentKey,e.documentKey),t!==0?t:Zt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(n){if(n.code!==Ve.FAILED_PRECONDITION||n.message!==kne)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,r)=>{t(e)})}static reject(e){return new Ie((t,r)=>{r(e)})}static waitFor(e){return new Ie((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=Ie.resolve(!1);for(const r of e)t=t.next(i=>i?Ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const f=c;t(e[f]).next(d=>{o[f]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new Ie((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function Dne(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bv(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}JT.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=-1;function ZT(n){return n==null}function m_(n){return n===0&&1/n==-1/0}function Ine(n){return typeof n=="number"&&Number.isInteger(n)&&!m_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="";function One(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YP(e)),e=Nne(n.get(t),e);return YP(e)}function Nne(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case x6:t+="";break;default:t+=s}}return t}function YP(n){return n+x6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function S6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new PS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new PS(this.root,e,this.comparator,!1)}getReverseIterator(){return new PS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new PS(this.root,e,this.comparator,!0)}}class PS{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Yi.RED,this.left=i??Yi.EMPTY,this.right=s??Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Yi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Yi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1;Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Yi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QP(this.data.getIterator())}getIteratorFrom(e){return new QP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class QP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new Ko([])}unionWith(e){let t=new xi(Zi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ko(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new E6("Invalid base64 string: "+s):s}}(e);return new ts(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const Pne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Od(n){if(Bn(!!n,39018),typeof n=="string"){let e=0;const t=Pne.exec(n);if(Bn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jr(n.seconds),nanos:Jr(n.nanos)}}function Jr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nd(n){return typeof n=="string"?ts.fromBase64String(n):ts.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="server_timestamp",T6="__type__",C6="__previous_value__",A6="__local_write_time__";function $I(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[T6])===null||t===void 0?void 0:t.stringValue)===_6}function eC(n){const e=n.mapValue.fields[C6];return $I(e)?eC(e):e}function pw(n){const e=Od(n.mapValue.fields[A6].timestampValue);return new wi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e,t,r,i,s,o,a,c,f,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const g_="(default)";class mw{constructor(e,t){this.projectId=e,this.database=t||g_}static empty(){return new mw("","")}get isDefaultDatabase(){return this.database===g_}isEqual(e){return e instanceof mw&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="__type__",Vne="__max__",LS={mapValue:{}},k6="__vector__",y_="value";function Pd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$I(n)?4:zne(n)?9007199254740991:Bne(n)?10:11:St(28295,{value:n})}function Rc(n,e){if(n===e)return!0;const t=Pd(n);if(t!==Pd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pw(n).isEqual(pw(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Od(i.timestampValue),a=Od(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Nd(i.bytesValue).isEqual(Nd(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Jr(i.geoPointValue.latitude)===Jr(s.geoPointValue.latitude)&&Jr(i.geoPointValue.longitude)===Jr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Jr(i.integerValue)===Jr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Jr(i.doubleValue),a=Jr(s.doubleValue);return o===a?m_(o)===m_(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Vy(n.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XP(o)!==XP(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Rc(o[c],a[c])))return!1;return!0}(n,e);default:return St(52216,{left:n})}}function gw(n,e){return(n.values||[]).find(t=>Rc(t,e))!==void 0}function By(n,e){if(n===e)return 0;const t=Pd(n),r=Pd(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Jr(s.integerValue||s.doubleValue),c=Jr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return JP(n.timestampValue,e.timestampValue);case 4:return JP(pw(n),pw(e));case 5:return fM(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Nd(s),c=Nd(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let f=0;f<a.length&&f<c.length;f++){const d=Zt(a[f],c[f]);if(d!==0)return d}return Zt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Zt(Jr(s.latitude),Jr(o.latitude));return a!==0?a:Zt(Jr(s.longitude),Jr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ZP(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,f,d;const m=s.fields||{},g=o.fields||{},b=(a=m[y_])===null||a===void 0?void 0:a.arrayValue,x=(c=g[y_])===null||c===void 0?void 0:c.arrayValue,_=Zt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:ZP(b,x)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===LS.mapValue&&o===LS.mapValue)return 0;if(s===LS.mapValue)return 1;if(o===LS.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),f=o.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const g=fM(c[m],d[m]);if(g!==0)return g;const b=By(a[c[m]],f[d[m]]);if(b!==0)return b}return Zt(c.length,d.length)}(n.mapValue,e.mapValue);default:throw St(23264,{Pe:t})}}function JP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Zt(n,e);const t=Od(n),r=Od(e),i=Zt(t.seconds,r.seconds);return i!==0?i:Zt(t.nanos,r.nanos)}function ZP(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=By(t[i],r[i]);if(s)return s}return Zt(t.length,r.length)}function zy(n){return dM(n)}function dM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Od(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nd(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ht.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=dM(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dM(t.fields[o])}`;return i+"}"}(n.mapValue):St(61005,{value:n})}function CE(n){switch(Pd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eC(n);return e?16+CE(e):16;case 5:return 2*n.stringValue.length;case 6:return Nd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+CE(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Hd(r.fields,(s,o)=>{i+=s.length+CE(o)}),i}(n.mapValue);default:throw St(13486,{value:n})}}function hM(n){return!!n&&"integerValue"in n}function qI(n){return!!n&&"arrayValue"in n}function eL(n){return!!n&&"nullValue"in n}function tL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function AE(n){return!!n&&"mapValue"in n}function Bne(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[R6])===null||t===void 0?void 0:t.stringValue)===k6}function Db(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Db(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Db(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zne(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Vne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.value=e}static empty(){return new vo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!AE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Db(t)}setAll(e){let t=Zi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Db(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());AE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];AE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hd(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vo(Db(this.value))}}function M6(n){const e=[];return Hd(n.fields,(t,r)=>{const i=new Zi([t]);if(AE(r)){const s=M6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ko(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _s(e,0,At.min(),At.min(),At.min(),vo.empty(),0)}static newFoundDocument(e,t,r,i){return new _s(e,1,t,At.min(),r,i,0)}static newNoDocument(e,t){return new _s(e,2,t,At.min(),At.min(),vo.empty(),0)}static newUnknownDocument(e,t){return new _s(e,3,t,At.min(),At.min(),vo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _s&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.position=e,this.inclusive=t}}function nL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),t.key):r=By(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t="asc"){this.field=e,this.dir=t}}function jne(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{}class bi extends D6{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Fne(e,t,r):t==="array-contains"?new qne(e,r):t==="in"?new Wne(e,r):t==="not-in"?new Gne(e,r):t==="array-contains-any"?new Kne(e,r):new bi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Hne(e,r):new $ne(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(By(t,this.value)):t!==null&&Pd(this.value)===Pd(t)&&this.matchesComparison(By(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kc extends D6{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new kc(e,t)}matches(e){return I6(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function I6(n){return n.op==="and"}function O6(n){return Une(n)&&I6(n)}function Une(n){for(const e of n.filters)if(e instanceof kc)return!1;return!0}function pM(n){if(n instanceof bi)return n.field.canonicalString()+n.op.toString()+zy(n.value);if(O6(n))return n.filters.map(e=>pM(e)).join(",");{const e=n.filters.map(t=>pM(t)).join(",");return`${n.op}(${e})`}}function N6(n,e){return n instanceof bi?function(r,i){return i instanceof bi&&r.op===i.op&&r.field.isEqual(i.field)&&Rc(r.value,i.value)}(n,e):n instanceof kc?function(r,i){return i instanceof kc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&N6(o,i.filters[a]),!0):!1}(n,e):void St(19439)}function P6(n){return n instanceof bi?function(t){return`${t.field.canonicalString()} ${t.op} ${zy(t.value)}`}(n):n instanceof kc?function(t){return t.op.toString()+" {"+t.getFilters().map(P6).join(" ,")+"}"}(n):"Filter"}class Fne extends bi{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hne extends bi{constructor(e,t){super(e,"in",t),this.keys=L6("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $ne extends bi{constructor(e,t){super(e,"not-in",t),this.keys=L6("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function L6(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ht.fromName(r.referenceValue))}class qne extends bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qI(t)&&gw(t.arrayValue,this.value)}}class Wne extends bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gw(this.value.arrayValue,t)}}class Gne extends bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(gw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gw(this.value.arrayValue,t)}}class Kne extends bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gw(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function iL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Yne(n,e,t,r,i,s,o)}function WI(n){const e=Mt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ZT(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zy(r)).join(",")),e.Ie=t}return e.Ie}function GI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jne(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!N6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rL(n.startAt,e.startAt)&&rL(n.endAt,e.endAt)}function mM(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Xne(n,e,t,r,i,s,o,a){return new tC(n,e,t,r,i,s,o,a)}function KI(n){return new tC(n)}function sL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Qne(n){return n.collectionGroup!==null}function Ib(n){const e=Mt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xi(Zi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(a=a.add(f.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new b_(s,r))}),t.has(Zi.keyField().canonicalString())||e.Ee.push(new b_(Zi.keyField(),r))}return e.Ee}function vc(n){const e=Mt(n);return e.de||(e.de=Jne(e,Ib(n))),e.de}function Jne(n,e){if(n.limitType==="F")return iL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new b_(i.field,s)});const t=n.endAt?new v_(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new v_(n.startAt.position,n.startAt.inclusive):null;return iL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gM(n,e,t){return new tC(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nC(n,e){return GI(vc(n),vc(e))&&n.limitType===e.limitType}function V6(n){return`${WI(vc(n))}|lt:${n.limitType}`}function ey(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>P6(i)).join(", ")}]`),ZT(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zy(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zy(i)).join(",")),`Target(${r})`}(vc(n))}; limitType=${n.limitType})`}function rC(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Ib(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const f=nL(o,a,c);return o.inclusive?f<=0:f<0}(r.startAt,Ib(r),i)||r.endAt&&!function(o,a,c){const f=nL(o,a,c);return o.inclusive?f>=0:f>0}(r.endAt,Ib(r),i))}(n,e)}function Zne(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function B6(n){return(e,t)=>{let r=!1;for(const i of Ib(n)){const s=ere(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ere(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),f=a.data.field(s);return c!==null&&f!==null?By(c,f):St(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hd(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return S6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre=new Rr(ht.comparator);function qu(){return tre}const z6=new Rr(ht.comparator);function pb(...n){let e=z6;for(const t of n)e=e.insert(t.key,t);return e}function j6(n){let e=z6;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ap(){return Ob()}function U6(){return Ob()}function Ob(){return new hm(n=>n.toString(),(n,e)=>n.isEqual(e))}const nre=new Rr(ht.comparator),rre=new xi(ht.comparator);function dn(...n){let e=rre;for(const t of n)e=e.add(t);return e}const ire=new xi(Zt);function sre(){return ire}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m_(e)?"-0":e}}function F6(n){return{integerValue:""+n}}function ore(n,e){return Ine(e)?F6(e):YI(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this._=void 0}}function are(n,e,t){return n instanceof w_?function(i,s){const o={fields:{[T6]:{stringValue:_6},[A6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$I(s)&&(s=eC(s)),s&&(o.fields[C6]=s),{mapValue:o}}(t,e):n instanceof yw?$6(n,e):n instanceof vw?q6(n,e):function(i,s){const o=H6(i,s),a=oL(o)+oL(i.Re);return hM(o)&&hM(i.Re)?F6(a):YI(i.serializer,a)}(n,e)}function lre(n,e,t){return n instanceof yw?$6(n,e):n instanceof vw?q6(n,e):t}function H6(n,e){return n instanceof x_?function(r){return hM(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class w_ extends iC{}class yw extends iC{constructor(e){super(),this.elements=e}}function $6(n,e){const t=W6(e);for(const r of n.elements)t.some(i=>Rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class vw extends iC{constructor(e){super(),this.elements=e}}function q6(n,e){let t=W6(e);for(const r of n.elements)t=t.filter(i=>!Rc(i,r));return{arrayValue:{values:t}}}class x_ extends iC{constructor(e,t){super(),this.serializer=e,this.Re=t}}function oL(n){return Jr(n.integerValue||n.doubleValue)}function W6(n){return qI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cre(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof yw&&i instanceof yw||r instanceof vw&&i instanceof vw?Vy(r.elements,i.elements,Rc):r instanceof x_&&i instanceof x_?Rc(r.Re,i.Re):r instanceof w_&&i instanceof w_}(n.transform,e.transform)}class ure{constructor(e,t){this.version=e,this.transformResults=t}}class bc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bc}static exists(e){return new bc(void 0,e)}static updateTime(e){return new bc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function RE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sC{}function G6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Y6(n.key,bc.none()):new s1(n.key,n.data,bc.none());{const t=n.data,r=vo.empty();let i=new xi(Zi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $d(n.key,r,new Ko(i.toArray()),bc.none())}}function fre(n,e,t){n instanceof s1?function(i,s,o){const a=i.value.clone(),c=lL(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof $d?function(i,s,o){if(!RE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=lL(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(K6(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Nb(n,e,t,r){return n instanceof s1?function(s,o,a,c){if(!RE(s.precondition,o))return a;const f=s.value.clone(),d=cL(s.fieldTransforms,c,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof $d?function(s,o,a,c){if(!RE(s.precondition,o))return a;const f=cL(s.fieldTransforms,c,o),d=o.data;return d.setAll(K6(s)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(s,o,a){return RE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function dre(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=H6(r.transform,i||null);s!=null&&(t===null&&(t=vo.empty()),t.set(r.field,s))}return t||null}function aL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vy(r,i,(s,o)=>cre(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class s1 extends sC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $d extends sC{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K6(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lL(n,e,t){const r=new Map;Bn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lre(o,a,t[i]))}return r}function cL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,are(s,o,e))}return r}class Y6 extends sC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hre extends sC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fre(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=U6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=G6(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&Vy(this.mutations,e.mutations,(t,r)=>aL(t,r))&&Vy(this.baseMutations,e.baseMutations,(t,r)=>aL(t,r))}}class XI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Bn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return nre}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new XI(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi,wn;function yre(n){switch(n){case Ve.OK:return St(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function X6(n){if(n===void 0)return $u("GRPC error has no .code"),Ve.UNKNOWN;switch(n){case fi.OK:return Ve.OK;case fi.CANCELLED:return Ve.CANCELLED;case fi.UNKNOWN:return Ve.UNKNOWN;case fi.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case fi.INTERNAL:return Ve.INTERNAL;case fi.UNAVAILABLE:return Ve.UNAVAILABLE;case fi.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case fi.NOT_FOUND:return Ve.NOT_FOUND;case fi.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case fi.ABORTED:return Ve.ABORTED;case fi.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case fi.DATA_LOSS:return Ve.DATA_LOSS;default:return St(39323,{code:n})}}(wn=fi||(fi={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=new Ed([4294967295,4294967295],0);function uL(n){const e=b6().encode(n),t=new f6;return t.update(e),new Uint8Array(t.digest())}function fL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ed([t,r],0),new Ed([i,s],0)]}class QI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mb(`Invalid padding: ${t}`);if(r<0)throw new mb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mb(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mb(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ed.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ed.fromNumber(r)));return i.compare(vre)===1&&(i=new Ed([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=uL(e),[r,i]=fL(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new QI(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const t=uL(e),[r,i]=fL(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class mb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,o1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new oC(At.min(),i,new Rr(Zt),qu(),dn())}}class o1{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new o1(r,t,dn(),dn(),dn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class Q6{constructor(e,t){this.targetId=e,this.Ce=t}}class J6{constructor(e,t,r=ts.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dL{constructor(){this.Fe=0,this.Me=hL(),this.xe=ts.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dn(),t=dn(),r=dn();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:St(38017,{changeType:s})}}),new o1(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=hL()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Bn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bre{constructor(e){this.ze=e,this.je=new Map,this.He=qu(),this.Je=VS(),this.Ye=VS(),this.Ze=new Rr(Zt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(mM(s))if(r===0){const o=new ht(s.path);this.tt(t,o,_s.newNoDocument(o,At.min()))}else Bn(r===1,20013,{expectedCount:r});else{const o=this.ut(t);if(o!==r){const a=this.ct(e),c=a?this.lt(a,e,o):1;if(c!==0){this.st(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Nd(r).toUint8Array()}catch(c){if(c instanceof E6)return Ly("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new QI(o,i,s)}catch(c){return Ly(c instanceof mb?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&mM(a.target)){const c=new ht(a.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,_s.newNoDocument(c,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=dn();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new oC(e,t,this.Ze,this.He,r);return this.He=qu(),this.Je=VS(),this.Ye=VS(),this.Ze=new Rr(Zt),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dL,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new xi(Zt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new xi(Zt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dL),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function VS(){return new Rr(ht.comparator)}function hL(){return new Rr(ht.comparator)}const wre={asc:"ASCENDING",desc:"DESCENDING"},xre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sre={and:"AND",or:"OR"};class Ere{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yM(n,e){return n.useProto3Json||ZT(e)?e:{value:e}}function S_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _re(n,e){return S_(n,e.toTimestamp())}function wc(n){return Bn(!!n,49232),At.fromTimestamp(function(t){const r=Od(t);return new wi(r.seconds,r.nanos)}(n))}function JI(n,e){return vM(n,e).canonicalString()}function vM(n,e){const t=function(i){return new jr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eU(n){const e=jr.fromString(n);return Bn(sU(e),10190,{key:e.toString()}),e}function bM(n,e){return JI(n.databaseId,e.path)}function vR(n,e){const t=eU(e);if(t.get(1)!==n.databaseId.projectId)throw new ft(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ft(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(nU(t))}function tU(n,e){return JI(n.databaseId,e)}function Tre(n){const e=eU(n);return e.length===4?jr.emptyPath():nU(e)}function wM(n){return new jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nU(n){return Bn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pL(n,e,t){return{name:bM(n,e),fields:t.value.mapValue.fields}}function Cre(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:St(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,d){return f.useProto3Json?(Bn(d===void 0||typeof d=="string",58123),ts.fromBase64String(d||"")):(Bn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ts.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(f){const d=f.code===void 0?Ve.UNKNOWN:X6(f.code);return new ft(d,f.message||"")}(o);t=new J6(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vR(n,r.document.name),s=wc(r.document.updateTime),o=r.document.createTime?wc(r.document.createTime):At.min(),a=new vo({mapValue:{fields:r.document.fields}}),c=_s.newFoundDocument(i,s,o,a),f=r.targetIds||[],d=r.removedTargetIds||[];t=new kE(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vR(n,r.document),s=r.readTime?wc(r.readTime):At.min(),o=_s.newNoDocument(i,s),a=r.removedTargetIds||[];t=new kE([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vR(n,r.document),s=r.removedTargetIds||[];t=new kE([],s,i,null)}else{if(!("filter"in e))return St(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gre(i,s),a=r.targetId;t=new Q6(a,o)}}return t}function Are(n,e){let t;if(e instanceof s1)t={update:pL(n,e.key,e.value)};else if(e instanceof Y6)t={delete:bM(n,e.key)};else if(e instanceof $d)t={update:pL(n,e.key,e.data),updateMask:Lre(e.fieldMask)};else{if(!(e instanceof hre))return St(16599,{ft:e.type});t={verify:bM(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof w_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yw)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vw)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof x_)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw St(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_re(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:St(27497)}(n,e.precondition)),t}function Rre(n,e){return n&&n.length>0?(Bn(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?wc(i.updateTime):wc(s);return o.isEqual(At.min())&&(o=wc(s)),new ure(o,i.transformResults||[])}(t,e))):[]}function kre(n,e){return{documents:[tU(n,e.path)]}}function Mre(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tU(n,i);const s=function(f){if(f.length!==0)return iU(kc.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(d=>function(g){return{field:ty(g.field),direction:Ore(g.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=yM(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function Dre(n){let e=Tre(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Bn(r===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(m){const g=rU(m);return g instanceof kc&&O6(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(m){return m.map(g=>function(x){return new b_(ny(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,ZT(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(m){const g=!!m.before,b=m.values||[];return new v_(b,g)}(t.startAt));let f=null;return t.endAt&&(f=function(m){const g=!m.before,b=m.values||[];return new v_(b,g)}(t.endAt)),Xne(e,i,o,s,a,"F",c,f)}function Ire(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rU(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ny(t.unaryFilter.field);return bi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ny(t.unaryFilter.field);return bi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ny(t.unaryFilter.field);return bi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ny(t.unaryFilter.field);return bi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(n):n.fieldFilter!==void 0?function(t){return bi.create(ny(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kc.create(t.compositeFilter.filters.map(r=>rU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(t.compositeFilter.op))}(n):St(30097,{filter:n})}function Ore(n){return wre[n]}function Nre(n){return xre[n]}function Pre(n){return Sre[n]}function ty(n){return{fieldPath:n.canonicalString()}}function ny(n){return Zi.fromServerFormat(n.fieldPath)}function iU(n){return n instanceof bi?function(t){if(t.op==="=="){if(tL(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NAN"}};if(eL(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tL(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NOT_NAN"}};if(eL(t.value))return{unaryFilter:{field:ty(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ty(t.field),op:Nre(t.op),value:t.value}}}(n):n instanceof kc?function(t){const r=t.getFilters().map(i=>iU(i));return r.length===1?r[0]:{compositeFilter:{op:Pre(t.op),filters:r}}}(n):St(54877,{filter:n})}function Lre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sU(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,r,i,s=At.min(),o=At.min(),a=ts.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new hd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e){this.wt=e}}function Bre(n){const e=Dre({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gM(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(){this.Cn=new jre}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(Id.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(Id.min())}updateCollectionGroup(e,t,r){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class jre{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xi(jr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xi(jr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oU=41943040;class mo{static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(oU,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new jy(0)}static lr(){return new jy(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="LruGarbageCollector",Ure=1048576;function yL([n,e],[t,r]){const i=Zt(n,t);return i===0?Zt(e,r):i}class Fre{constructor(e){this.Er=e,this.buffer=new xi(yL),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hre{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ge(gL,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bv(t)?Ge(gL,"Ignoring IndexedDB error during garbage collection: ",t):await vv(t)}await this.mr(3e5)})}}class $re{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ie.resolve(JT.le);const r=new Fre(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(mL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mL):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,o,a,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(f=Date.now(),Zg()<=fn.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function qre(n,e){return new $re(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(){this.changes=new hm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_s.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Nb(r.mutation,i,Ko.empty(),wi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,dn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=dn()){const i=Ap();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=pb();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ap();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,dn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=qu();const o=Ob(),a=function(){return Ob()}();return t.forEach((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof $d)?s=s.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),Nb(d.mutation,f,d.mutation.getFieldMask(),wi.now())):o.set(f.key,Ko.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,d)=>o.set(f,d)),t.forEach((f,d)=>{var m;return a.set(f,new Gre(d,(m=o.get(f))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ob();let i=new Rr((o,a)=>o-a),s=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const f=t.get(c);if(f===null)return;let d=r.get(c)||Ko.empty();d=a.applyToLocalView(f,d),r.set(c,d);const m=(i.get(a.batchId)||dn()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),f=c.key,d=c.value,m=U6();d.forEach(g=>{if(!s.has(g)){const b=G6(t.get(g),r.get(g));b!==null&&m.set(g,b),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qne(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ie.resolve(Ap());let a=hw,c=s;return o.next(f=>Ie.forEach(f,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(d)?Ie.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,dn())).next(d=>({batchId:a,changes:j6(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next(r=>{let i=pb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=pb();return this.indexManager.getCollectionParents(e,s).next(a=>Ie.forEach(a,c=>{const f=function(m,g){return new tC(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,_s.newInvalidDocument(d)))});let a=pb();return o.forEach((c,f)=>{const d=s.get(c);d!==void 0&&Nb(d.mutation,f,Ko.empty(),wi.now()),rC(t,f)&&(a=a.insert(c,f))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ie.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wc(i.createTime)}}(t)),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Bre(i.bundledQuery),readTime:wc(i.readTime)}}(t)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(){this.overlays=new Rr(ht.comparator),this.Qr=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ap();return Ie.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),Ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,t,r){const i=Ap(),s=t.length+1,o=new ht(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Rr((f,d)=>f-d);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=Ap(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const a=Ap(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>a.set(f,d)),!(a.size()>=i)););return Ie.resolve(a)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mre(t,r));let s=this.Qr.get(t);s===void 0&&(s=dn(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.$r=new xi(Mi.Ur),this.Kr=new xi(Mi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Mi(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ht(new jr([])),r=new Mi(t,e),i=new Mi(t,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ht(new jr([])),r=new Mi(t,e),i=new Mi(t,e+1);let s=dn();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Mi(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ht.comparator(e.key,t.key)||Zt(e.Zr,t.Zr)}static Wr(e,t){return Zt(e.Zr,t.Zr)||ht.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new xi(Mi.Ur)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pre(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Mi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,t){return Ie.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return Ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?HI:this.nr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),Ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xi(Zt);return t.forEach(i=>{const s=new Mi(i,0),o=new Mi(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),Ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const o=new Mi(new ht(s),0);let a=new xi(Zt);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(a=a.add(c.Zr)),!0)},o),Ie.resolve(this.ni(a))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Bn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ie.forEach(t.mutations,i=>{const s=new Mi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Mi(t,0),i=this.Xr.firstAfterOrEqual(r);return Ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(e){this.ii=e,this.docs=function(){return new Rr(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ie.resolve(r?r.document.mutableCopy():_s.newInvalidDocument(t))}getEntries(e,t){let r=qu();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_s.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=qu();const o=t.path,a=new ht(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Rne(Ane(d),r)<=0||(i.has(d.key)||rC(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ie.resolve(s)}getAllFromCollectionGroup(e,t,r,i){St(9500)}si(e,t){return Ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eie(this)}getSize(e){return Ie.resolve(this.size)}}class eie extends Wre{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Ie.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e){this.persistence=e,this.oi=new hm(t=>WI(t),GI),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new ZI,this.targetCount=0,this.ui=jy.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),Ie.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new jy(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Tr(t),Ie.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(s).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return Ie.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),Ie.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return Ie.resolve(r)}containsKey(e,t){return Ie.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,t){this.ci={},this.overlays={},this.li=new JT(0),this.hi=!1,this.hi=!0,this.Pi=new Qre,this.referenceDelegate=e(this),this.Ti=new tie(this),this.indexManager=new zre,this.remoteDocumentCache=function(i){return new Zre(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Vre(t),this.Ei=new Yre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xre,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Jre(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new nie(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return Ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class nie extends Mne{constructor(e){super(),this.currentSequenceNumber=e}}class eO{constructor(e){this.persistence=e,this.Vi=new ZI,this.mi=null}static fi(e){return new eO(e)}get gi(){if(this.mi)return this.mi;throw St(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),Ie.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.gi,r=>{const i=ht.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,At.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Ie.or([()=>Ie.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class E_{constructor(e,t){this.persistence=e,this.yi=new hm(r=>One(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qre(this,t)}static fi(e,t){return new E_(e,t)}di(){}Ai(e){return Ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return Ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?Ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,At.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Ie.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ie.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=CE(e.data.value)),t}Dr(e,t,r){return Ie.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return Ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=dn(),i=dn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tO(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QJ()?8:Dne(As())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rie;return this.Ss(e,t,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,t,o,a.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Zg()<=fn.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",ey(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ie.resolve()):(Zg()<=fn.DEBUG&&Ge("QueryEngine","Query:",ey(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Zg()<=fn.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",ey(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vc(t))):Ie.resolve())}ws(e,t){if(sL(t))return Ie.resolve(null);let r=vc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gM(t,null,"F"),r=vc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=dn(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.vs(t,a);return this.Cs(t,f,o,c.readTime)?this.ws(e,gM(t,null,"F")):this.Fs(e,f,t,c)}))})))}bs(e,t,r,i){return sL(t)||i.isEqual(At.min())?Ie.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(t,s);return this.Cs(t,o,r,i)?Ie.resolve(null):(Zg()<=fn.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ey(t)),this.Fs(e,o,t,Cne(i,hw)).next(a=>a))})}vs(e,t){let r=new xi(B6(e));return t.forEach((i,s)=>{rC(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Zg()<=fn.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",ey(t)),this.ys.getDocumentsMatchingQuery(e,t,Id.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="LocalStore",sie=3e8;class oie{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Rr(Zt),this.Os=new hm(s=>WI(s),GI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kre(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function aie(n,e,t,r){return new oie(n,e,t,r)}async function lU(n,e){const t=Mt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=dn();for(const f of i){o.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of s){a.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:a}))})})}function lie(n,e){const t=Mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,f,d){const m=f.batch,g=m.keys();let b=Ie.resolve();return g.forEach(x=>{b=b.next(()=>d.getEntry(c,x)).next(_=>{const C=f.docVersions.get(x);Bn(C!==null,48541),_.version.compareTo(C)<0&&(m.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),d.addEntry(_)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=dn();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(c=c.add(a.batch.mutations[f].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cU(n){const e=Mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function cie(n,e){const t=Mt(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const a=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;a.push(t.Ti.removeMatchingKeys(s,d.removedDocuments,m).next(()=>t.Ti.addMatchingKeys(s,d.addedDocuments,m)));let b=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(ts.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,r)),i=i.insert(m,b),function(_,C,k){return _.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=sie?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,b,d)&&a.push(t.Ti.updateTargetData(s,b))});let c=qu(),f=dn();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(uie(s,o,e.documentUpdates).next(d=>{c=d.qs,f=d.Qs})),!r.isEqual(At.min())){const d=t.Ti.getLastRemoteSnapshotVersion(s).next(m=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Ie.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(t.xs=i,s))}function uie(n,e,t){let r=dn(),i=dn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=qu();return t.forEach((a,c)=>{const f=s.get(a);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(At.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ge(nO,"Ignoring outdated watch update for ",a,". Current version:",f.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function fie(n,e){const t=Mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function die(n,e){const t=Mt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,Ie.resolve(i)):t.Ti.allocateTargetId(r).next(o=>(i=new hd(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function xM(n,e,t){const r=Mt(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bv(o))throw o;Ge(nO,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function vL(n,e,t){const r=Mt(n);let i=At.min(),s=dn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,d){const m=Mt(c),g=m.Os.get(d);return g!==void 0?Ie.resolve(m.xs.get(g)):m.Ti.getTargetData(f,d)}(r,o,vc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,t?i:At.min(),t?s:dn())).next(a=>(hie(r,Zne(e),a),{documents:a,$s:s})))}function hie(n,e,t){let r=n.Ns.get(e)||At.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}class bL{constructor(){this.activeTargetIds=sre()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pie{constructor(){this.xo=new bL,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bL,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="ConnectivityMonitor";class xL{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ge(wL,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ge(wL,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BS=null;function SM(){return BS===null?BS=function(){return 268435456+Math.round(2147483648*Math.random())}():BS++,"0x"+BS.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="RestConnection",gie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yie{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===g_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const o=SM(),a=this.jo(e,t.toUriEncodedString());Ge(bR,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:f}=new URL(a),d=pv(f);return this.Jo(e,a,c,r,d).then(m=>(Ge(bR,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Ly(bR,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Yo(e,t,r,i,s,o){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yv}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=gie[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="WebChannelConnection";class bie extends yie{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=SM();return new Promise((a,c)=>{const f=new d6;f.setWithCredentials(!0),f.listenOnce(h6.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case TE.NO_ERROR:const m=f.getResponseJson();Ge(ws,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case TE.TIMEOUT:Ge(ws,`RPC '${e}' ${o} timed out`),c(new ft(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case TE.HTTP_ERROR:const g=f.getStatus();if(Ge(ws,`RPC '${e}' ${o} failed with status:`,g,"response text:",f.getResponseText()),g>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const _=function(k){const N=k.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(N)>=0?N:Ve.UNKNOWN}(x.status);c(new ft(_,x.message))}else c(new ft(Ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ft(Ve.UNAVAILABLE,"Connection failed."));break;default:St(9055,{h_:e,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{Ge(ws,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ge(ws,`RPC '${e}' ${o} sending request:`,i),f.send(t,"POST",d,r,15)})}I_(e,t,r){const i=SM(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=g6(),a=m6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=s.join("");Ge(ws,`Creating RPC '${e}' stream ${i}: ${d}`,c);const m=o.createWebChannel(d,c);this.E_(m);let g=!1,b=!1;const x=new vie({Zo:C=>{b?Ge(ws,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(Ge(ws,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Ge(ws,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Xo:()=>m.close()}),_=(C,k,N)=>{C.listen(k,z=>{try{N(z)}catch(P){setTimeout(()=>{throw P},0)}})};return _(m,hb.EventType.OPEN,()=>{b||(Ge(ws,`RPC '${e}' stream ${i} transport opened.`),x.__())}),_(m,hb.EventType.CLOSE,()=>{b||(b=!0,Ge(ws,`RPC '${e}' stream ${i} transport closed`),x.u_(),this.d_(m))}),_(m,hb.EventType.ERROR,C=>{b||(b=!0,Ly(ws,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),x.u_(new ft(Ve.UNAVAILABLE,"The operation could not be completed")))}),_(m,hb.EventType.MESSAGE,C=>{var k;if(!b){const N=C.data[0];Bn(!!N,16349);const z=N,P=(z==null?void 0:z.error)||((k=z[0])===null||k===void 0?void 0:k.error);if(P){Ge(ws,`RPC '${e}' stream ${i} received error:`,P);const H=P.status;let U=function(V){const F=fi[V];if(F!==void 0)return X6(F)}(H),O=P.message;U===void 0&&(U=Ve.INTERNAL,O="Unknown error status: "+H+" with message "+P.message),b=!0,x.u_(new ft(U,O)),m.close()}else Ge(ws,`RPC '${e}' stream ${i} received:`,N),x.c_(N)}}),_(a,p6.STAT_EVENT,C=>{C.stat===uM.PROXY?Ge(ws,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===uM.NOPROXY&&Ge(ws,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function wR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(n){return new Ere(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="PersistentStream";class fU{constructor(e,t,r,i,s,o,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new uU(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Ve.RESOURCE_EXHAUSTED?($u(t.toString()),$u("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new ft(Ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ge(SL,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Ge(SL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wie extends fU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Cre(this.serializer,e),r=function(s){if(!("targetChange"in s))return At.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?At.min():o.readTime?wc(o.readTime):At.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=wM(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=mM(c)?{documents:kre(s,c)}:{query:Mre(s,c).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Z6(s,o.resumeToken);const f=yM(s,o.expectedCount);f!==null&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(At.min())>0){a.readTime=S_(s,o.snapshotVersion.toTimestamp());const f=yM(s,o.expectedCount);f!==null&&(a.expectedCount=f)}return a}(this.serializer,e);const r=Ire(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=wM(this.serializer),t.removeTarget=e,this.Q_(t)}}class xie extends fU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Bn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Bn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Rre(e.writeResults,e.commitTime),r=wc(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=wM(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Are(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{}class Eie extends Sie{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ft(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,vM(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ft(Ve.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,vM(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(Ve.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class _ie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?($u(t),this.ua=!1):Ge("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RemoteStore";class Tie{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{pm(this)&&(Ge(tm,"Restarting streams for network reachability change."),await async function(c){const f=Mt(c);f.da.add(4),await a1(f),f.Va.set("Unknown"),f.da.delete(4),await lC(f)}(this))})}),this.Va=new _ie(r,i)}}async function lC(n){if(pm(n))for(const e of n.Aa)await e(!0)}async function a1(n){for(const e of n.Aa)await e(!1)}function dU(n,e){const t=Mt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),oO(t)?sO(t):wv(t).N_()&&iO(t,e))}function rO(n,e){const t=Mt(n),r=wv(t);t.Ea.delete(e),r.N_()&&hU(t,e),t.Ea.size===0&&(r.N_()?r.k_():pm(t)&&t.Va.set("Unknown"))}function iO(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wv(n).Z_(e)}function hU(n,e){n.ma.Ke(e),wv(n).X_(e)}function sO(n){n.ma=new bre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),wv(n).start(),n.Va.ca()}function oO(n){return pm(n)&&!wv(n).O_()&&n.Ea.size>0}function pm(n){return Mt(n).da.size===0}function pU(n){n.ma=void 0}async function Cie(n){n.Va.set("Online")}async function Aie(n){n.Ea.forEach((e,t)=>{iO(n,e)})}async function Rie(n,e){pU(n),oO(n)?(n.Va.Pa(e),sO(n)):n.Va.set("Unknown")}async function kie(n,e,t){if(n.Va.set("Online"),e instanceof J6&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(n,e)}catch(r){Ge(tm,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await __(n,r)}else if(e instanceof kE?n.ma.Xe(e):e instanceof Q6?n.ma.ot(e):n.ma.nt(e),!t.isEqual(At.min()))try{const r=await cU(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ea.get(f);d&&s.Ea.set(f,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,f)=>{const d=s.Ea.get(c);if(!d)return;s.Ea.set(c,d.withResumeToken(ts.EMPTY_BYTE_STRING,d.snapshotVersion)),hU(s,c);const m=new hd(d.target,c,f,d.sequenceNumber);iO(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Ge(tm,"Failed to raise snapshot:",r),await __(n,r)}}async function __(n,e,t){if(!bv(e))throw e;n.da.add(1),await a1(n),n.Va.set("Offline"),t||(t=()=>cU(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ge(tm,"Retrying IndexedDB access"),await t(),n.da.delete(1),await lC(n)})}function mU(n,e){return e().catch(t=>__(n,t,e))}async function cC(n){const e=Mt(n),t=Ld(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:HI;for(;Mie(e);)try{const i=await fie(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,Die(e,i)}catch(i){await __(e,i)}gU(e)&&yU(e)}function Mie(n){return pm(n)&&n.Ia.length<10}function Die(n,e){n.Ia.push(e);const t=Ld(n);t.N_()&&t.ea&&t.ta(e.mutations)}function gU(n){return pm(n)&&!Ld(n).O_()&&n.Ia.length>0}function yU(n){Ld(n).start()}async function Iie(n){Ld(n).ia()}async function Oie(n){const e=Ld(n);for(const t of n.Ia)e.ta(t.mutations)}async function Nie(n,e,t){const r=n.Ia.shift(),i=XI.from(r,e,t);await mU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await cC(n)}async function Pie(n,e){e&&Ld(n).ea&&await async function(r,i){if(function(o){return yre(o)&&o!==Ve.ABORTED}(i.code)){const s=r.Ia.shift();Ld(r).L_(),await mU(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cC(r)}}(n,e),gU(n)&&yU(n)}async function EL(n,e){const t=Mt(n);t.asyncQueue.verifyOperationInProgress(),Ge(tm,"RemoteStore received new credentials");const r=pm(t);t.da.add(3),await a1(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await lC(t)}async function Lie(n,e){const t=Mt(n);e?(t.da.delete(2),await lC(t)):e||(t.da.add(2),await a1(t),t.Va.set("Unknown"))}function wv(n){return n.fa||(n.fa=function(t,r,i){const s=Mt(t);return s.oa(),new wie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:Cie.bind(null,n),n_:Aie.bind(null,n),i_:Rie.bind(null,n),Y_:kie.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),oO(n)?sO(n):n.Va.set("Unknown")):(await n.fa.stop(),pU(n))})),n.fa}function Ld(n){return n.ga||(n.ga=function(t,r,i){const s=Mt(t);return s.oa(),new xie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:Iie.bind(null,n),i_:Pie.bind(null,n),na:Oie.bind(null,n),ra:Nie.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await cC(n)):(await n.ga.stop(),n.Ia.length>0&&(Ge(tm,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _d,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new aO(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lO(n,e){if($u("AsyncQueue",`${e}: ${n}`),bv(n))return new ft(Ve.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static emptySet(e){return new Cy(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=pb(),this.sortedSet=new Rr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Cy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.pa=new Rr(ht.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):St(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uy{constructor(e,t,r,i,s,o,a,c,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Uy(e,t,Cy.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Bie{constructor(){this.queries=TL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Mt(t),s=i.queries;i.queries=TL(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new ft(Ve.ABORTED,"Firestore shutting down"))}}function TL(){return new hm(n=>V6(n),nC)}async function zie(n,e){const t=Mt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new Vie,r=e.va()?0:1);try{switch(r){case 0:s.ba=await t.onListen(i,!0);break;case 1:s.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=lO(o,`Initialization of query '${ey(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Sa.push(e),e.Fa(t.onlineState),s.ba&&e.Ma(s.ba)&&cO(t)}async function jie(n,e){const t=Mt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Uie(n,e){const t=Mt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&cO(t)}function Fie(n,e,t){const r=Mt(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function cO(n){n.Ca.forEach(e=>{e.next()})}var EM,CL;(CL=EM||(EM={})).xa="default",CL.Cache="cache";class Hie{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Uy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==EM.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.key=e}}class bU{constructor(e){this.key=e}}class $ie{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dn(),this.mutatedKeys=dn(),this.Za=B6(e),this.Xa=new Cy(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new _L,i=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),b=rC(this.query,m)?m:null,x=!!g&&this.mutatedKeys.has(g.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;g&&b?g.data.isEqual(b.data)?x!==_&&(r.track({type:3,doc:b}),C=!0):this.ru(g,b)||(r.track({type:2,doc:b}),C=!0,(c&&this.Za(b,c)>0||f&&this.Za(b,f)<0)&&(a=!0)):!g&&b?(r.track({type:0,doc:b}),C=!0):g&&!b&&(r.track({type:1,doc:g}),C=!0,(c||f)&&(a=!0)),C&&(b?(o=o.add(b),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,m)=>function(b,x){const _=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:C})}};return _(b)-_(x)}(d.type,m.type)||this.Za(d.doc,m.doc)),this.iu(r),i=i!=null&&i;const a=t&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Ja;return this.Ja=c,o.length!==0||f?{snapshot:new Uy(this.query,e.Xa,s,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new _L,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=dn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new bU(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new vU(r))}),t}au(e){this.Ha=e.$s,this.Ya=dn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Uy.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const uO="SyncEngine";class qie{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wie{constructor(e){this.key=e,this.cu=!1}}class Gie{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new hm(a=>V6(a),nC),this.Pu=new Map,this.Tu=new Set,this.Iu=new Rr(ht.comparator),this.Eu=new Map,this.du=new ZI,this.Au={},this.Ru=new Map,this.Vu=jy.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Kie(n,e,t=!0){const r=TU(n);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await wU(r,e,t,!0),i}async function Yie(n,e){const t=TU(n);await wU(t,e,!0,!1)}async function wU(n,e,t,r){const i=await die(n.localStore,vc(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await Xie(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&dU(n.remoteStore,i),a}async function Xie(n,e,t,r,i){n.fu=(m,g,b)=>async function(_,C,k,N){let z=C.view.tu(k);z.Cs&&(z=await vL(_.localStore,C.query,!1).then(({documents:O})=>C.view.tu(O,z)));const P=N&&N.targetChanges.get(C.targetId),H=N&&N.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(z,_.isPrimaryClient,P,H);return RL(_,C.targetId,U.ou),U.snapshot}(n,m,g,b);const s=await vL(n.localStore,e,!0),o=new $ie(e,s.$s),a=o.tu(s.documents),c=o1.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(a,n.isPrimaryClient,c);RL(n,t,f.ou);const d=new qie(e,t,o);return n.hu.set(e,d),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),f.snapshot}async function Qie(n,e,t){const r=Mt(n),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!nC(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&rO(r.remoteStore,i.targetId),_M(r,i.targetId)}).catch(vv)):(_M(r,i.targetId),await xM(r.localStore,i.targetId,!0))}async function Jie(n,e){const t=Mt(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),rO(t.remoteStore,r.targetId))}async function Zie(n,e,t){const r=ose(n);try{const i=await function(o,a){const c=Mt(o),f=wi.now(),d=a.reduce((b,x)=>b.add(x.key),dn());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=qu(),_=dn();return c.Bs.getEntries(b,d).next(C=>{x=C,x.forEach((k,N)=>{N.isValidDocument()||(_=_.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,x)).next(C=>{m=C;const k=[];for(const N of a){const z=dre(N,m.get(N.key).overlayedDocument);z!=null&&k.push(new $d(N.key,z,M6(z.value.mapValue),bc.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,k,a)}).next(C=>{g=C;const k=C.applyToLocalDocumentSet(m,_);return c.documentOverlayCache.saveOverlays(b,C.batchId,k)})}).then(()=>({batchId:g.batchId,changes:j6(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let f=o.Au[o.currentUser.toKey()];f||(f=new Rr(Zt)),f=f.insert(a,c),o.Au[o.currentUser.toKey()]=f}(r,i.batchId,t),await l1(r,i.changes),await cC(r.remoteStore)}catch(i){const s=lO(i,"Failed to persist write");t.reject(s)}}async function xU(n,e){const t=Mt(n);try{const r=await cie(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Eu.get(s);o&&(Bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Bn(o.cu,14607):i.removedDocuments.size>0&&(Bn(o.cu,42227),o.cu=!1))}),await l1(t,r,e)}catch(r){await vv(r)}}function AL(n,e,t){const r=Mt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Mt(o);c.onlineState=a;let f=!1;c.queries.forEach((d,m)=>{for(const g of m.Sa)g.Fa(a)&&(f=!0)}),f&&cO(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ese(n,e,t){const r=Mt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Rr(ht.comparator);o=o.insert(s,_s.newNoDocument(s,At.min()));const a=dn().add(s),c=new oC(At.min(),new Map,new Rr(Zt),o,a);await xU(r,c),r.Iu=r.Iu.remove(s),r.Eu.delete(e),fO(r)}else await xM(r.localStore,e,!1).then(()=>_M(r,e,t)).catch(vv)}async function tse(n,e){const t=Mt(n),r=e.batch.batchId;try{const i=await lie(t.localStore,e);EU(t,r,null),SU(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await l1(t,i)}catch(i){await vv(i)}}async function nse(n,e,t){const r=Mt(n);try{const i=await function(o,a){const c=Mt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return c.mutationQueue.lookupMutationBatch(f,a).next(m=>(Bn(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>c.localDocuments.getDocuments(f,d))})}(r.localStore,e);EU(r,e,t),SU(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await l1(r,i)}catch(i){await vv(i)}}function SU(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function EU(n,e,t){const r=Mt(n);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function _M(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||_U(n,r)})}function _U(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(rO(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),fO(n))}function RL(n,e,t){for(const r of t)r instanceof vU?(n.du.addReference(r.key,e),rse(n,r)):r instanceof bU?(Ge(uO,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||_U(n,r.key)):St(19791,{pu:r})}function rse(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(Ge(uO,"New document in limbo: "+t),n.Tu.add(r),fO(n))}function fO(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ht(jr.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Wie(t)),n.Iu=n.Iu.insert(t,r),dU(n.remoteStore,new hd(vc(KI(t.path)),r,"TargetPurposeLimboResolution",JT.le))}}async function l1(n,e,t){const r=Mt(n),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{o.push(r.fu(c,e,t).then(f=>{var d;if((f||t)&&r.isPrimaryClient){const m=f?!f.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=tO.Rs(c.targetId,f);s.push(m)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(c,f){const d=Mt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ie.forEach(f,g=>Ie.forEach(g.ds,b=>d.persistence.referenceDelegate.addReference(m,g.targetId,b)).next(()=>Ie.forEach(g.As,b=>d.persistence.referenceDelegate.removeReference(m,g.targetId,b)))))}catch(m){if(!bv(m))throw m;Ge(nO,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const b=d.xs.get(g),x=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(g,_)}}}(r.localStore,s))}async function ise(n,e){const t=Mt(n);if(!t.currentUser.isEqual(e)){Ge(uO,"User change. New user:",e.toKey());const r=await lU(t.localStore,e);t.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(c=>{c.reject(new ft(Ve.CANCELLED,o))})}),s.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await l1(t,r.ks)}}function sse(n,e){const t=Mt(n),r=t.Eu.get(e);if(r&&r.cu)return dn().add(r.key);{let i=dn();const s=t.Pu.get(e);if(!s)return i;for(const o of s){const a=t.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function TU(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ese.bind(null,e),e.lu.Y_=Uie.bind(null,e.eventManager),e.lu.gu=Fie.bind(null,e.eventManager),e}function ose(n){const e=Mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nse.bind(null,e),e}class T_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=aC(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return aie(this.persistence,new iie,e.initialUser,this.serializer)}Su(e){return new aU(eO.fi,this.serializer)}bu(e){return new pie}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}T_.provider={build:()=>new T_};class ase extends T_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Bn(this.persistence.referenceDelegate instanceof E_,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Hre(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new aU(r=>E_.fi(r,t),this.serializer)}}class TM{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ise.bind(null,this.syncEngine),await Lie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bie}()}createDatastore(e){const t=aC(e.databaseInfo.databaseId),r=function(s){return new bie(s)}(e.databaseInfo);return function(s,o,a,c){return new Eie(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Tie(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>AL(this.syncEngine,t,0),function(){return xL.C()?new xL:new mie}())}createSyncEngine(e,t){return function(i,s,o,a,c,f,d){const m=new Gie(i,s,o,a,c,f);return d&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Mt(i);Ge(tm,"RemoteStore shutting down."),s.da.add(5),await a1(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}TM.provider={build:()=>new TM};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):$u("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="FirestoreClient";class cse{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Es.UNAUTHENTICATED,this.clientId=w6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ge(Vd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(Vd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _d;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=lO(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xR(n,e){n.asyncQueue.verifyOperationInProgress(),Ge(Vd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function kL(n,e){n.asyncQueue.verifyOperationInProgress();const t=await use(n);Ge(Vd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>EL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>EL(e.remoteStore,i)),n._onlineComponents=e}async function use(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge(Vd,"Using user provided OfflineComponentProvider");try{await xR(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ly("Error using user provided cache. Falling back to memory cache: "+t),await xR(n,new T_)}}else Ge(Vd,"Using default OfflineComponentProvider"),await xR(n,new ase(void 0));return n._offlineComponents}async function CU(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge(Vd,"Using user provided OnlineComponentProvider"),await kL(n,n._uninitializedComponentsProvider._online)):(Ge(Vd,"Using default OnlineComponentProvider"),await kL(n,new TM))),n._onlineComponents}function fse(n){return CU(n).then(e=>e.syncEngine)}async function dse(n){const e=await CU(n),t=e.eventManager;return t.onListen=Kie.bind(null,e.syncEngine),t.onUnlisten=Qie.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Yie.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jie.bind(null,e.syncEngine),t}function hse(n,e,t={}){const r=new _d;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,f){const d=new lse({next:g=>{d.xu(),o.enqueueAndForget(()=>jie(s,m));const b=g.docs.has(a);!b&&g.fromCache?f.reject(new ft(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&g.fromCache&&c&&c.source==="server"?f.reject(new ft(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new Hie(KI(a.path),d,{includeMetadataChanges:!0,Qa:!0});return zie(s,m)}(await dse(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(n,e,t){if(!t)throw new ft(Ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mse(n,e,t,r){if(e===!0&&r===!0)throw new ft(Ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DL(n){if(!ht.isDocumentKey(n))throw new ft(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dO(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function nm(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ft(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dO(n);throw new ft(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firestore.googleapis.com",IL=!0;class OL{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RU,this.ssl=IL}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:IL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ure)throw new ft(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hO{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yne;switch(r.type){case"firstParty":return new xne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ML.get(t);r&&(Ge("ComponentProvider","Removing Datastore"),ML.delete(t),r.terminate())}(this),Promise.resolve()}}function gse(n,e,t,r={}){var i;n=nm(n,hO);const s=pv(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(Aj(`https://${c}`),Rj("Firestore",!0)),o.host!==RU&&o.host!==c&&Ly("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Qp(f,a)&&(n._setSettings(f),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Es.MOCK_USER;else{d=FJ(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ft(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Es(g)}n._authCredentials=new vne(new v6(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pO(this.firestore,e,this._query)}}class Xo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xo(this.firestore,e,this._key)}}class bw extends pO{constructor(e,t,r){super(e,t,KI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xo(this.firestore,null,new ht(e))}withConverter(e){return new bw(this.firestore,e,this._path)}}function SR(n,e,...t){if(n=Eo(n),arguments.length===1&&(e=w6.newId()),pse("doc","path",e),n instanceof hO){const r=jr.fromString(e,...t);return DL(r),new Xo(n,null,new ht(r))}{if(!(n instanceof Xo||n instanceof bw))throw new ft(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jr.fromString(e,...t));return DL(r),new Xo(n.firestore,n instanceof bw?n.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="AsyncQueue";class PL{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new uU(this,"async_queue_retry"),this.rc=()=>{const r=wR();r&&Ge(NL,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=wR();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=wR();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new _d;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!bv(e))throw e;Ge(NL,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,$u("INTERNAL UNHANDLED ERROR: ",LL(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=aO.createAndSchedule(this,e,t,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&St(47125,{cc:LL(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function LL(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class uC extends hO{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PL(e),this._firestoreClient=void 0,await e}}}function yse(n,e){const t=typeof n=="object"?n:Ij(),r=typeof n=="string"?n:g_,i=DI(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jJ("firestore");s&&gse(i,...s)}return i}function kU(n){if(n._terminated)throw new ft(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vse(n),n._firestoreClient}function vse(n){var e,t,r;const i=n._freezeSettings(),s=function(a,c,f,d){return new Lne(a,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AU(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new cse(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fy(ts.fromBase64String(e))}catch(t){throw new ft(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fy(ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ft(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ft(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ft(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse=/^__.*__$/;class wse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $d(e,this.data,this.fieldMask,t,this.fieldTransforms):new s1(e,this.data,t,this.fieldTransforms)}}class MU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $d(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ic:n})}}class vO{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new vO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return C_(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(DU(this.Ic)&&bse.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class xse{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||aC(e)}bc(e,t,r,i=!1){return new vO({Ic:e,methodName:t,wc:r,path:Zi.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IU(n){const e=n._freezeSettings(),t=aC(n._databaseId);return new xse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sse(n,e,t,r,i,s={}){const o=n.bc(s.merge||s.mergeFields?2:0,e,t,i);bO("Data must be an object, but it was:",o,r);const a=OU(r,o);let c,f;if(s.merge)c=new Ko(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=CM(e,m,t);if(!o.contains(g))throw new ft(Ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);PU(d,g)||d.push(g)}c=new Ko(d),f=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=o.fieldTransforms;return new wse(new vo(a),c,f)}class dC extends mO{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dC}}function Ese(n,e,t,r){const i=n.bc(1,e,t);bO("Data must be an object, but it was:",i,r);const s=[],o=vo.empty();Hd(r,(c,f)=>{const d=wO(e,c,t);f=Eo(f);const m=i.mc(d);if(f instanceof dC)s.push(d);else{const g=hC(f,m);g!=null&&(s.push(d),o.set(d,g))}});const a=new Ko(s);return new MU(o,a,i.fieldTransforms)}function _se(n,e,t,r,i,s){const o=n.bc(1,e,t),a=[CM(e,r,t)],c=[i];if(s.length%2!=0)throw new ft(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(CM(e,s[g])),c.push(s[g+1]);const f=[],d=vo.empty();for(let g=a.length-1;g>=0;--g)if(!PU(f,a[g])){const b=a[g];let x=c[g];x=Eo(x);const _=o.mc(b);if(x instanceof dC)f.push(b);else{const C=hC(x,_);C!=null&&(f.push(b),d.set(b,C))}}const m=new Ko(f);return new MU(d,m,o.fieldTransforms)}function hC(n,e){if(NU(n=Eo(n)))return bO("Unsupported field value:",e,n),OU(n,e);if(n instanceof mO)return function(r,i){if(!DU(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=hC(a,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Eo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ore(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wi.fromDate(r);return{timestampValue:S_(i.serializer,s)}}if(r instanceof wi){const s=new wi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:S_(i.serializer,s)}}if(r instanceof gO)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fy)return{bytesValue:Z6(i.serializer,r._byteString)};if(r instanceof Xo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:JI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yO)return function(o,a){return{mapValue:{fields:{[R6]:{stringValue:k6},[y_]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw a.gc("VectorValues must only contain numeric values.");return YI(a.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${dO(r)}`)}(n,e)}function OU(n,e){const t={};return S6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hd(n,(r,i)=>{const s=hC(i,e.Ac(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function NU(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wi||n instanceof gO||n instanceof Fy||n instanceof Xo||n instanceof mO||n instanceof yO)}function bO(n,e,t){if(!NU(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=dO(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function CM(n,e,t){if((e=Eo(e))instanceof fC)return e._internalPath;if(typeof e=="string")return wO(n,e);throw C_("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tse=new RegExp("[~\\*/\\[\\]]");function wO(n,e,t){if(e.search(Tse)>=0)throw C_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fC(...e.split("."))._internalPath}catch{throw C_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function C_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ft(Ve.INVALID_ARGUMENT,a+n+c)}function PU(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VU("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Cse extends LU{data(){return super.data()}}function VU(n,e){return typeof e=="string"?wO(n,e):e instanceof fC?e._internalPath:e._delegate._internalPath}class Ase{convertValue(e,t="none"){switch(Pd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hd(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[y_].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Jr(o.doubleValue));return new yO(s)}convertGeoPoint(e){return new gO(Jr(e.latitude),Jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eC(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pw(e));default:return null}}convertTimestamp(e){const t=Od(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jr.fromString(e);Bn(sU(r),9688,{name:e});const i=new mw(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(t)||$u(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rse(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BU extends LU{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mse(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(VU("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Mse extends BU{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dse(n){n=nm(n,Xo);const e=nm(n.firestore,uC);return hse(kU(e),n._key).then(t=>Pse(e,n,t))}class Ise extends Ase{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xo(this.firestore,null,t)}}function Ose(n,e,t){n=nm(n,Xo);const r=nm(n.firestore,uC),i=Rse(n.converter,e);return zU(r,[Sse(IU(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,bc.none())])}function Nse(n,e,t,...r){n=nm(n,Xo);const i=nm(n.firestore,uC),s=IU(i);let o;return o=typeof(e=Eo(e))=="string"||e instanceof fC?_se(s,"updateDoc",n._key,e,t,r):Ese(s,"updateDoc",n._key,e),zU(i,[o.toMutation(n._key,bc.exists(!0))])}function zU(n,e){return function(r,i){const s=new _d;return r.asyncQueue.enqueueAndForget(async()=>Zie(await fse(r),i,s)),s.promise}(kU(n),e)}function Pse(n,e,t){const r=t.docs.get(e._key),i=new Ise(n);return new BU(n,i,e._key,r,new kse(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){yv=i})(mv),Ny(new Jp("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new uC(new bne(r.getProvider("auth-internal")),new Sne(o,r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ft(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mw(f.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Sd(FP,HP,e),Sd(FP,HP,"esm2017")})();const Lse={apiKey:"AIzaSyBfG5v6LErJ17JMjjdr6_KY9ii04c0DnJE",authDomain:"note-it-tag-it.firebaseapp.com",projectId:"note-it-tag-it",storageBucket:"note-it-tag-it.firebasestorage.app",messagingSenderId:"435268377218",appId:"1:435268377218:web:750ca2fff699d02adbb29b",measurementId:void 0},xO=Dj(Lse),Vse=yse(xO),Bse=new Mu,zse=new ku,jU=mne(xO),jse=async()=>{try{await jU.signOut()}catch(n){console.error(n)}},Pb={app:xO,fireStoreDb:Vse,auth:jU,googleProvider:Bse,facebookProvider:zse,logout:jse},AM=(n,e)=>e.some(t=>n instanceof t);let VL,BL;function Use(){return VL||(VL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fse(){return BL||(BL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RM=new WeakMap,ER=new WeakMap,pC=new WeakMap;function Hse(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vp(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return pC.set(e,n),e}function $se(n){if(RM.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});RM.set(n,e)}let kM={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return RM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vp(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UU(n){kM=n(kM)}function qse(n){return Fse().includes(n)?function(...e){return n.apply(MM(this),e),Vp(this.request)}:function(...e){return Vp(n.apply(MM(this),e))}}function Wse(n){return typeof n=="function"?qse(n):(n instanceof IDBTransaction&&$se(n),AM(n,Use())?new Proxy(n,kM):n)}function Vp(n){if(n instanceof IDBRequest)return Hse(n);if(ER.has(n))return ER.get(n);const e=Wse(n);return e!==n&&(ER.set(n,e),pC.set(e,n)),e}const MM=n=>pC.get(n);function Gse(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Vp(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Vp(o.result),c.oldVersion,c.newVersion,Vp(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),a}const Kse=["get","getKey","getAll","getAllKeys","count"],Yse=["put","add","delete","clear"],_R=new Map;function zL(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_R.get(e))return _R.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Yse.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kse.includes(t)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(a.shift())),(await Promise.all([f[t](...a),i&&c.done]))[0]};return _R.set(e,s),s}UU(n=>({...n,get:(e,t,r)=>zL(e,t)||n.get(e,t,r),has:(e,t)=>!!zL(e,t)||n.has(e,t)}));const Xse=["continue","continuePrimaryKey","advance"],jL={},DM=new WeakMap,FU=new WeakMap,Qse={get(n,e){if(!Xse.includes(e))return n[e];let t=jL[e];return t||(t=jL[e]=function(...r){DM.set(this,FU.get(this)[e](...r))}),t}};async function*Jse(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const t=new Proxy(e,Qse);for(FU.set(t,e),pC.set(t,MM(e));e;)yield t,e=await(DM.get(t)||e.continue()),DM.delete(t)}function UL(n,e){return e===Symbol.asyncIterator&&AM(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&AM(n,[IDBIndex,IDBObjectStore])}UU(n=>({...n,get(e,t,r){return UL(e,t)?Jse:n.get(e,t,r)},has(e,t){return UL(e,t)||n.has(e,t)}}));var gb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Zse=gb.exports,FL;function eoe(){return FL||(FL=1,function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",m=1,g=2,b=4,x=1,_=2,C=1,k=2,N=4,z=8,P=16,H=32,U=64,O=128,D=256,V=512,F=30,W="...",X=800,G=16,Te=1,Ee=2,J=3,se=1/0,te=9007199254740991,we=17976931348623157e292,Q=NaN,ae=4294967295,ve=ae-1,ne=ae>>>1,ge=[["ary",O],["bind",C],["bindKey",k],["curry",z],["curryRight",P],["flip",V],["partial",H],["partialRight",U],["rearg",D]],Re="[object Arguments]",ye="[object Array]",Ae="[object AsyncFunction]",Le="[object Boolean]",He="[object Date]",it="[object DOMException]",Lt="[object Error]",Kt="[object Function]",Et="[object GeneratorFunction]",Dt="[object Map]",tr="[object Number]",kr="[object Null]",jt="[object Object]",kn="[object Promise]",Pn="[object Proxy]",nr="[object RegExp]",ln="[object Set]",_n="[object String]",Wn="[object Symbol]",Ds="[object Undefined]",Li="[object WeakMap]",yn="[object WeakSet]",Nt="[object ArrayBuffer]",Gn="[object DataView]",rr="[object Float32Array]",Vi="[object Float64Array]",Zo="[object Int8Array]",ti="[object Int16Array]",Is="[object Int32Array]",xe="[object Uint8Array]",Fe="[object Uint8ClampedArray]",et="[object Uint16Array]",It="[object Uint32Array]",Ct=/\b__p \+= '';/g,Tn=/\b(__p \+=) '' \+/g,Mr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fr=/&(?:amp|lt|gt|quot|#39);/g,Si=/[&<>"']/g,Ei=RegExp(Fr.source),st=RegExp(Si.source),Mn=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,ur=/<%=([\s\S]+?)%>/g,mi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jn=/^\w*$/,Yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kn=/[\\^$.*+?()[\]{}|]/g,bn=RegExp(Kn.source),Yn=/^\s+/,Rl=/\s/,To=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Va=/\{\n\/\* \[wrapped with (.+)\] \*/,ym=/,? & /,Bc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kl=/[()=,{}\[\]\/\s]/,Ba=/\\(\\)?/g,ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Co=/\w*$/,Bi=/^[-+]0x[0-9a-f]+$/i,Sr=/^0b[01]+$/i,Jd=/^\[object .+?Constructor\]$/,Ju=/^0o[0-7]+$/i,Ao=/^(?:0|[1-9]\d*)$/,za=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zc=/($^)/,vm=/['\n\r\u2028\u2029\\]/g,ta="\\ud800-\\udfff",bm="\\u0300-\\u036f",Ml="\\ufe20-\\ufe2f",na="\\u20d0-\\u20ff",ni=bm+Ml+na,Dl="\\u2700-\\u27bf",Zd="a-z\\xdf-\\xf6\\xf8-\\xff",ja="\\xac\\xb1\\xd7\\xf7",Zu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ef="\\u2000-\\u206f",eh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jc="A-Z\\xc0-\\xd6\\xd8-\\xde",_i="\\ufe0e\\ufe0f",tf=ja+Zu+ef+eh,th="[']",nf="["+ta+"]",rf="["+tf+"]",ra="["+ni+"]",wm="\\d+",Dr="["+Dl+"]",rs="["+Zd+"]",Il="[^"+ta+tf+wm+Dl+Zd+jc+"]",ia="\\ud83c[\\udffb-\\udfff]",Ua="(?:"+ra+"|"+ia+")",Dn="[^"+ta+"]",Fa="(?:\\ud83c[\\udde6-\\uddff]){2}",is="[\\ud800-\\udbff][\\udc00-\\udfff]",Xs="["+jc+"]",nh="\\u200d",sf="(?:"+rs+"|"+Il+")",rh="(?:"+Xs+"|"+Il+")",xm="(?:"+th+"(?:d|ll|m|re|s|t|ve))?",Sm="(?:"+th+"(?:D|LL|M|RE|S|T|VE))?",Uc=Ua+"?",sa="["+_i+"]?",Qs="(?:"+nh+"(?:"+[Dn,Fa,is].join("|")+")"+sa+Uc+")*",Ha="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$a="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",of=sa+Uc+Qs,oa="(?:"+[Dr,Fa,is].join("|")+")"+of,Em="(?:"+[Dn+ra+"?",ra,Fa,is,nf].join("|")+")",Fc=RegExp(th,"g"),Ro=RegExp(ra,"g"),ss=RegExp(ia+"(?="+ia+")|"+Em+of,"g"),Hc=RegExp([Xs+"?"+rs+"+"+xm+"(?="+[rf,Xs,"$"].join("|")+")",rh+"+"+Sm+"(?="+[rf,Xs+sf,"$"].join("|")+")",Xs+"?"+sf+"+"+xm,Xs+"+"+Sm,$a,Ha,wm,oa].join("|"),"g"),aa=RegExp("["+nh+ta+ni+_i+"]"),Ol=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ih=-1,cn={};cn[rr]=cn[Vi]=cn[Zo]=cn[ti]=cn[Is]=cn[xe]=cn[Fe]=cn[et]=cn[It]=!0,cn[Re]=cn[ye]=cn[Nt]=cn[Le]=cn[Gn]=cn[He]=cn[Lt]=cn[Kt]=cn[Dt]=cn[tr]=cn[jt]=cn[nr]=cn[ln]=cn[_n]=cn[Li]=!1;var rn={};rn[Re]=rn[ye]=rn[Nt]=rn[Gn]=rn[Le]=rn[He]=rn[rr]=rn[Vi]=rn[Zo]=rn[ti]=rn[Is]=rn[Dt]=rn[tr]=rn[jt]=rn[nr]=rn[ln]=rn[_n]=rn[Wn]=rn[xe]=rn[Fe]=rn[et]=rn[It]=!0,rn[Lt]=rn[Kt]=rn[Li]=!1;var sh={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ri={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},af={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$c=parseFloat,_m=parseInt,qc=typeof _S=="object"&&_S&&_S.Object===Object&&_S,lf=typeof self=="object"&&self&&self.Object===Object&&self,Xn=qc||lf||Function("return this")(),Wa=e&&!e.nodeType&&e,ii=Wa&&!0&&n&&!n.nodeType&&n,oh=ii&&ii.exports===Wa,ah=oh&&qc.process,si=function(){try{var oe=ii&&ii.require&&ii.require("util").types;return oe||ah&&ah.binding&&ah.binding("util")}catch{}}(),Wc=si&&si.isArrayBuffer,cf=si&&si.isDate,Gc=si&&si.isMap,lh=si&&si.isRegExp,Kc=si&&si.isSet,Tm=si&&si.isTypedArray;function gi(oe,Se,me){switch(me.length){case 0:return oe.call(Se);case 1:return oe.call(Se,me[0]);case 2:return oe.call(Se,me[0],me[1]);case 3:return oe.call(Se,me[0],me[1],me[2])}return oe.apply(Se,me)}function Yc(oe,Se,me,$e){for(var dt=-1,hn=oe==null?0:oe.length;++dt<hn;){var Ir=oe[dt];Se($e,Ir,me(Ir),oe)}return $e}function zi(oe,Se){for(var me=-1,$e=oe==null?0:oe.length;++me<$e&&Se(oe[me],me,oe)!==!1;);return oe}function Cm(oe,Se){for(var me=oe==null?0:oe.length;me--&&Se(oe[me],me,oe)!==!1;);return oe}function uf(oe,Se){for(var me=-1,$e=oe==null?0:oe.length;++me<$e;)if(!Se(oe[me],me,oe))return!1;return!0}function as(oe,Se){for(var me=-1,$e=oe==null?0:oe.length,dt=0,hn=[];++me<$e;){var Ir=oe[me];Se(Ir,me,oe)&&(hn[dt++]=Ir)}return hn}function Xc(oe,Se){var me=oe==null?0:oe.length;return!!me&&Ga(oe,Se,0)>-1}function Nl(oe,Se,me){for(var $e=-1,dt=oe==null?0:oe.length;++$e<dt;)if(me(Se,oe[$e]))return!0;return!1}function Un(oe,Se){for(var me=-1,$e=oe==null?0:oe.length,dt=Array($e);++me<$e;)dt[me]=Se(oe[me],me,oe);return dt}function Js(oe,Se){for(var me=-1,$e=Se.length,dt=oe.length;++me<$e;)oe[dt+me]=Se[me];return oe}function ko(oe,Se,me,$e){var dt=-1,hn=oe==null?0:oe.length;for($e&&hn&&(me=oe[++dt]);++dt<hn;)me=Se(me,oe[dt],dt,oe);return me}function Am(oe,Se,me,$e){var dt=oe==null?0:oe.length;for($e&&dt&&(me=oe[--dt]);dt--;)me=Se(me,oe[dt],dt,oe);return me}function ff(oe,Se){for(var me=-1,$e=oe==null?0:oe.length;++me<$e;)if(Se(oe[me],me,oe))return!0;return!1}var Rm=L("length");function km(oe){return oe.split("")}function df(oe){return oe.match(Bc)||[]}function Ti(oe,Se,me){var $e;return me(oe,function(dt,hn,Ir){if(Se(dt,hn,Ir))return $e=hn,!1}),$e}function Qc(oe,Se,me,$e){for(var dt=oe.length,hn=me+($e?1:-1);$e?hn--:++hn<dt;)if(Se(oe[hn],hn,oe))return hn;return-1}function Ga(oe,Se,me){return Se===Se?YC(oe,Se,me):Qc(oe,w,me)}function la(oe,Se,me,$e){for(var dt=me-1,hn=oe.length;++dt<hn;)if($e(oe[dt],Se))return dt;return-1}function w(oe){return oe!==oe}function M(oe,Se){var me=oe==null?0:oe.length;return me?ze(oe,Se)/me:Q}function L(oe){return function(Se){return Se==null?t:Se[oe]}}function K(oe){return function(Se){return oe==null?t:oe[Se]}}function ue(oe,Se,me,$e,dt){return dt(oe,function(hn,Ir,pn){me=$e?($e=!1,hn):Se(me,hn,Ir,pn)}),me}function be(oe,Se){var me=oe.length;for(oe.sort(Se);me--;)oe[me]=oe[me].value;return oe}function ze(oe,Se){for(var me,$e=-1,dt=oe.length;++$e<dt;){var hn=Se(oe[$e]);hn!==t&&(me=me===t?hn:me+hn)}return me}function en(oe,Se){for(var me=-1,$e=Array(oe);++me<oe;)$e[me]=Se(me);return $e}function Hr(oe,Se){return Un(Se,function(me){return[me,oe[me]]})}function sn(oe){return oe&&oe.slice(0,Mv(oe)+1).replace(Yn,"")}function An(oe){return function(Se){return oe(Se)}}function Er(oe,Se){return Un(Se,function(me){return oe[me]})}function Os(oe,Se){return oe.has(Se)}function oi(oe,Se){for(var me=-1,$e=oe.length;++me<$e&&Ga(Se,oe[me],0)>-1;);return me}function Mo(oe,Se){for(var me=oe.length;me--&&Ga(Se,oe[me],0)>-1;);return me}function ch(oe,Se){for(var me=oe.length,$e=0;me--;)oe[me]===Se&&++$e;return $e}var Mm=K(sh),_1=K(ri);function T1(oe){return"\\"+af[oe]}function kv(oe,Se){return oe==null?t:oe[Se]}function Pl(oe){return aa.test(oe)}function C1(oe){return Ol.test(oe)}function A1(oe){for(var Se,me=[];!(Se=oe.next()).done;)me.push(Se.value);return me}function Dm(oe){var Se=-1,me=Array(oe.size);return oe.forEach(function($e,dt){me[++Se]=[dt,$e]}),me}function R1(oe,Se){return function(me){return oe(Se(me))}}function Ll(oe,Se){for(var me=-1,$e=oe.length,dt=0,hn=[];++me<$e;){var Ir=oe[me];(Ir===Se||Ir===d)&&(oe[me]=d,hn[dt++]=me)}return hn}function Im(oe){var Se=-1,me=Array(oe.size);return oe.forEach(function($e){me[++Se]=$e}),me}function KC(oe){var Se=-1,me=Array(oe.size);return oe.forEach(function($e){me[++Se]=[$e,$e]}),me}function YC(oe,Se,me){for(var $e=me-1,dt=oe.length;++$e<dt;)if(oe[$e]===Se)return $e;return-1}function Ns(oe,Se,me){for(var $e=me+1;$e--;)if(oe[$e]===Se)return $e;return $e}function ca(oe){return Pl(oe)?M1(oe):Rm(oe)}function Zs(oe){return Pl(oe)?Dv(oe):km(oe)}function Mv(oe){for(var Se=oe.length;Se--&&Rl.test(oe.charAt(Se)););return Se}var k1=K(Cn);function M1(oe){for(var Se=ss.lastIndex=0;ss.test(oe);)++Se;return Se}function Dv(oe){return oe.match(ss)||[]}function XC(oe){return oe.match(Hc)||[]}var hf=function oe(Se){Se=Se==null?Xn:Vl.defaults(Xn.Object(),Se,Vl.pick(Xn,qa));var me=Se.Array,$e=Se.Date,dt=Se.Error,hn=Se.Function,Ir=Se.Math,pn=Se.Object,Om=Se.RegExp,D1=Se.String,Ps=Se.TypeError,Nm=me.prototype,QC=hn.prototype,pf=pn.prototype,uh=Se["__core-js_shared__"],fh=QC.toString,Sn=pf.hasOwnProperty,Do=0,Iv=function(){var p=/[^.]+$/.exec(uh&&uh.keys&&uh.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),ji=pf.toString,eo=fh.call(pn),mf=Xn._,Ov=Om("^"+fh.call(Sn).replace(Kn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jc=oh?Se.Buffer:t,Io=Se.Symbol,gf=Se.Uint8Array,Zc=Jc?Jc.allocUnsafe:t,dh=R1(pn.getPrototypeOf,pn),hh=pn.create,eu=pf.propertyIsEnumerable,Pm=Nm.splice,ls=Io?Io.isConcatSpreadable:t,tu=Io?Io.iterator:t,Ui=Io?Io.toStringTag:t,ph=function(){try{var p=Wl(pn,"defineProperty");return p({},"",{}),p}catch{}}(),Lm=Se.clearTimeout!==Xn.clearTimeout&&Se.clearTimeout,nu=$e&&$e.now!==Xn.Date.now&&$e.now,Nv=Se.setTimeout!==Xn.setTimeout&&Se.setTimeout,yf=Ir.ceil,Ka=Ir.floor,Bl=pn.getOwnPropertySymbols,Vm=Jc?Jc.isBuffer:t,mh=Se.isFinite,to=Nm.join,no=R1(pn.keys,pn),Jn=Ir.max,ir=Ir.min,Ya=$e.now,ru=Se.parseInt,Pv=Ir.random,Lv=Nm.reverse,gh=Wl(Se,"DataView"),$r=Wl(Se,"Map"),sr=Wl(Se,"Promise"),tn=Wl(Se,"Set"),Oo=Wl(Se,"WeakMap"),cs=Wl(pn,"create"),vf=Oo&&new Oo,ro={},I1=il(gh),O1=il($r),yh=il(sr),vh=il(tn),N1=il(Oo),zl=Io?Io.prototype:t,iu=zl?zl.valueOf:t,jl=zl?zl.toString:t;function $(p){if(fr(p)&&!yt(p)&&!(p instanceof Ut)){if(p instanceof us)return p;if(Sn.call(p,"__wrapped__"))return Wr(p)}return new us(p)}var Ls=function(){function p(){}return function(y){if(!ar(y))return{};if(hh)return hh(y);p.prototype=y;var E=new p;return p.prototype=t,E}}();function io(){}function us(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=t}$.templateSettings={escape:Mn,evaluate:vn,interpolate:ur,variable:"",imports:{_:$}},$.prototype=io.prototype,$.prototype.constructor=$,us.prototype=Ls(io.prototype),us.prototype.constructor=us;function Ut(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function bh(){var p=new Ut(this.__wrapped__);return p.__actions__=qr(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=qr(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=qr(this.__views__),p}function Bm(){if(this.__filtered__){var p=new Ut(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function su(){var p=this.__wrapped__.value(),y=this.__dir__,E=yt(p),I=y<0,j=E?p.length:0,Y=hx(0,j,this.__views__),Z=Y.start,re=Y.end,ce=re-Z,ke=I?re:Z-1,De=this.__iteratees__,Pe=De.length,qe=0,tt=ir(ce,this.__takeCount__);if(!E||!I&&j==ce&&tt==ce)return Z1(p,this.__actions__);var pt=[];e:for(;ce--&&qe<tt;){ke+=y;for(var Ht=-1,mt=p[ke];++Ht<Pe;){var an=De[Ht],gn=an.iteratee,jo=an.type,Hs=gn(mt);if(jo==Ee)mt=Hs;else if(!Hs){if(jo==Te)continue e;break e}}pt[qe++]=mt}return pt}Ut.prototype=Ls(io.prototype),Ut.prototype.constructor=Ut;function mr(p){var y=-1,E=p==null?0:p.length;for(this.clear();++y<E;){var I=p[y];this.set(I[0],I[1])}}function zm(){this.__data__=cs?cs(null):{},this.size=0}function P1(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function JC(p){var y=this.__data__;if(cs){var E=y[p];return E===c?t:E}return Sn.call(y,p)?y[p]:t}function ZC(p){var y=this.__data__;return cs?y[p]!==t:Sn.call(y,p)}function eA(p,y){var E=this.__data__;return this.size+=this.has(p)?0:1,E[p]=cs&&y===t?c:y,this}mr.prototype.clear=zm,mr.prototype.delete=P1,mr.prototype.get=JC,mr.prototype.has=ZC,mr.prototype.set=eA;function Fn(p){var y=-1,E=p==null?0:p.length;for(this.clear();++y<E;){var I=p[y];this.set(I[0],I[1])}}function Vv(){this.__data__=[],this.size=0}function wh(p){var y=this.__data__,E=xf(y,p);if(E<0)return!1;var I=y.length-1;return E==I?y.pop():Pm.call(y,E,1),--this.size,!0}function xh(p){var y=this.__data__,E=xf(y,p);return E<0?t:y[E][1]}function Bv(p){return xf(this.__data__,p)>-1}function bf(p,y){var E=this.__data__,I=xf(E,p);return I<0?(++this.size,E.push([p,y])):E[I][1]=y,this}Fn.prototype.clear=Vv,Fn.prototype.delete=wh,Fn.prototype.get=xh,Fn.prototype.has=Bv,Fn.prototype.set=bf;function fs(p){var y=-1,E=p==null?0:p.length;for(this.clear();++y<E;){var I=p[y];this.set(I[0],I[1])}}function tA(){this.size=0,this.__data__={hash:new mr,map:new($r||Fn),string:new mr}}function L1(p){var y=Af(this,p).delete(p);return this.size-=y?1:0,y}function nA(p){return Af(this,p).get(p)}function V1(p){return Af(this,p).has(p)}function ou(p,y){var E=Af(this,p),I=E.size;return E.set(p,y),this.size+=E.size==I?0:1,this}fs.prototype.clear=tA,fs.prototype.delete=L1,fs.prototype.get=nA,fs.prototype.has=V1,fs.prototype.set=ou;function Xa(p){var y=-1,E=p==null?0:p.length;for(this.__data__=new fs;++y<E;)this.add(p[y])}function jm(p){return this.__data__.set(p,c),this}function B1(p){return this.__data__.has(p)}Xa.prototype.add=Xa.prototype.push=jm,Xa.prototype.has=B1;function Fi(p){var y=this.__data__=new Fn(p);this.size=y.size}function z1(){this.__data__=new Fn,this.size=0}function Um(p){var y=this.__data__,E=y.delete(p);return this.size=y.size,E}function zv(p){return this.__data__.get(p)}function j1(p){return this.__data__.has(p)}function Fm(p,y){var E=this.__data__;if(E instanceof Fn){var I=E.__data__;if(!$r||I.length<i-1)return I.push([p,y]),this.size=++E.size,this;E=this.__data__=new fs(I)}return E.set(p,y),this.size=E.size,this}Fi.prototype.clear=z1,Fi.prototype.delete=Um,Fi.prototype.get=zv,Fi.prototype.has=j1,Fi.prototype.set=Fm;function jv(p,y){var E=yt(p),I=!E&&ll(p),j=!E&&!I&&nc(p),Y=!E&&!I&&!j&&Uf(p),Z=E||I||j||Y,re=Z?en(p.length,D1):[],ce=re.length;for(var ke in p)(y||Sn.call(p,ke))&&!(Z&&(ke=="length"||j&&(ke=="offset"||ke=="parent")||Y&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||Vo(ke,ce)))&&re.push(ke);return re}function wf(p){var y=p.length;return y?p[Jm(0,y-1)]:t}function U1(p,y){return Kh(qr(p),Po(y,0,p.length))}function F1(p){return Kh(qr(p))}function ua(p,y,E){(E!==t&&!vs(p[y],E)||E===t&&!(y in p))&&No(p,y,E)}function au(p,y,E){var I=p[y];(!(Sn.call(p,y)&&vs(I,E))||E===t&&!(y in p))&&No(p,y,E)}function xf(p,y){for(var E=p.length;E--;)if(vs(p[E][0],y))return E;return-1}function Ul(p,y,E,I){return Ja(p,function(j,Y,Z){y(I,j,E(j),Z)}),I}function Qa(p,y){return p&&ps(y,Yr(y),p)}function Sh(p,y){return p&&ps(y,ci(y),p)}function No(p,y,E){y=="__proto__"&&ph?ph(p,y,{configurable:!0,enumerable:!0,value:E,writable:!0}):p[y]=E}function Eh(p,y){for(var E=-1,I=y.length,j=me(I),Y=p==null;++E<I;)j[E]=Y?t:lp(p,y[E]);return j}function Po(p,y,E){return p===p&&(E!==t&&(p=p<=E?p:E),y!==t&&(p=p>=y?p:y)),p}function Ci(p,y,E,I,j,Y){var Z,re=y&m,ce=y&g,ke=y&b;if(E&&(Z=j?E(p,I,j,Y):E(p)),Z!==t)return Z;if(!ar(p))return p;var De=yt(p);if(De){if(Z=d0(p),!re)return qr(p,Z)}else{var Pe=li(p),qe=Pe==Kt||Pe==Et;if(nc(p))return i0(p,re);if(Pe==jt||Pe==Re||qe&&!j){if(Z=ce||qe?{}:h0(p),!re)return ce?Lh(p,Sh(Z,p)):ig(p,Qa(Z,p))}else{if(!rn[Pe])return j?p:{};Z=p0(p,Pe,re)}}Y||(Y=new Fi);var tt=Y.get(p);if(tt)return tt;Y.set(p,Z),sS(p)?p.forEach(function(mt){Z.add(Ci(mt,y,E,mt,p,Y))}):kg(p)&&p.forEach(function(mt,an){Z.set(an,Ci(mt,y,E,an,p,Y))});var pt=ke?ce?lg:ag:ce?ci:Yr,Ht=De?t:pt(p);return zi(Ht||p,function(mt,an){Ht&&(an=mt,mt=p[an]),au(Z,an,Ci(mt,y,E,an,p,Y))}),Z}function H1(p){var y=Yr(p);return function(E){return Uv(E,p,y)}}function Uv(p,y,E){var I=E.length;if(p==null)return!I;for(p=pn(p);I--;){var j=E[I],Y=y[j],Z=p[j];if(Z===t&&!(j in p)||!Y(Z))return!1}return!0}function lu(p,y,E){if(typeof p!="function")throw new Ps(o);return kf(function(){p.apply(t,E)},y)}function Fl(p,y,E,I){var j=-1,Y=Xc,Z=!0,re=p.length,ce=[],ke=y.length;if(!re)return ce;E&&(y=Un(y,An(E))),I?(Y=Nl,Z=!1):y.length>=i&&(Y=Os,Z=!1,y=new Xa(y));e:for(;++j<re;){var De=p[j],Pe=E==null?De:E(De);if(De=I||De!==0?De:0,Z&&Pe===Pe){for(var qe=ke;qe--;)if(y[qe]===Pe)continue e;ce.push(De)}else Y(y,Pe,I)||ce.push(De)}return ce}var Ja=l0(Ai),Hm=l0(Ef,!0);function Fv(p,y){var E=!0;return Ja(p,function(I,j,Y){return E=!!y(I,j,Y),E}),E}function Lo(p,y,E){for(var I=-1,j=p.length;++I<j;){var Y=p[I],Z=y(Y);if(Z!=null&&(re===t?Z===Z&&!qi(Z):E(Z,re)))var re=Z,ce=Y}return ce}function Vt(p,y,E,I){var j=p.length;for(E=Tt(E),E<0&&(E=-E>j?0:j+E),I=I===t||I>j?j:Tt(I),I<0&&(I+=j),I=E>I?0:ba(I);E<I;)p[E++]=y;return p}function In(p,y){var E=[];return Ja(p,function(I,j,Y){y(I,j,Y)&&E.push(I)}),E}function nn(p,y,E,I,j){var Y=-1,Z=p.length;for(E||(E=nl),j||(j=[]);++Y<Z;){var re=p[Y];y>0&&E(re)?y>1?nn(re,y-1,E,I,j):Js(j,re):I||(j[j.length]=re)}return j}var Sf=mu(),cu=mu(!0);function Ai(p,y){return p&&Sf(p,y,Yr)}function Ef(p,y){return p&&cu(p,y,Yr)}function Hl(p,y){return as(y,function(E){return Bo(p[E])})}function so(p,y){y=el(y,p);for(var E=0,I=y.length;p!=null&&E<I;)p=p[Rn(y[E++])];return E&&E==I?p:t}function $1(p,y,E){var I=y(p);return yt(p)?I:Js(I,E(p))}function on(p){return p==null?p===t?Ds:kr:Ui&&Ui in pn(p)?dx(p):vx(p)}function _h(p,y){return p>y}function Hv(p,y){return p!=null&&Sn.call(p,y)}function q1(p,y){return p!=null&&y in pn(p)}function W1(p,y,E){return p>=ir(y,E)&&p<Jn(y,E)}function $v(p,y,E){for(var I=E?Nl:Xc,j=p[0].length,Y=p.length,Z=Y,re=me(Y),ce=1/0,ke=[];Z--;){var De=p[Z];Z&&y&&(De=Un(De,An(y))),ce=ir(De.length,ce),re[Z]=!E&&(y||j>=120&&De.length>=120)?new Xa(Z&&De):t}De=p[0];var Pe=-1,qe=re[0];e:for(;++Pe<j&&ke.length<ce;){var tt=De[Pe],pt=y?y(tt):tt;if(tt=E||tt!==0?tt:0,!(qe?Os(qe,pt):I(ke,pt,E))){for(Z=Y;--Z;){var Ht=re[Z];if(!(Ht?Os(Ht,pt):I(p[Z],pt,E)))continue e}qe&&qe.push(pt),ke.push(tt)}}return ke}function qv(p,y,E,I){return Ai(p,function(j,Y,Z){y(I,E(j),Y,Z)}),I}function uu(p,y,E){y=el(y,p),p=Rf(p,y);var I=p==null?p:p[Rn(Ri(y))];return I==null?t:gi(I,p,E)}function $m(p){return fr(p)&&on(p)==Re}function ds(p){return fr(p)&&on(p)==Nt}function Or(p){return fr(p)&&on(p)==He}function fu(p,y,E,I,j){return p===y?!0:p==null||y==null||!fr(p)&&!fr(y)?p!==p&&y!==y:Th(p,y,E,I,fu,j)}function Th(p,y,E,I,j,Y){var Z=yt(p),re=yt(y),ce=Z?ye:li(p),ke=re?ye:li(y);ce=ce==Re?jt:ce,ke=ke==Re?jt:ke;var De=ce==jt,Pe=ke==jt,qe=ce==ke;if(qe&&nc(p)){if(!nc(y))return!1;Z=!0,De=!1}if(qe&&!De)return Y||(Y=new Fi),Z||Uf(p)?ux(p,y,E,I,j,Y):fx(p,y,ce,E,I,j,Y);if(!(E&x)){var tt=De&&Sn.call(p,"__wrapped__"),pt=Pe&&Sn.call(y,"__wrapped__");if(tt||pt){var Ht=tt?p.value():p,mt=pt?y.value():y;return Y||(Y=new Fi),j(Ht,mt,E,I,Y)}}return qe?(Y||(Y=new Fi),ai(p,y,E,I,j,Y)):!1}function qm(p){return fr(p)&&li(p)==Dt}function Ch(p,y,E,I){var j=E.length,Y=j,Z=!I;if(p==null)return!Y;for(p=pn(p);j--;){var re=E[j];if(Z&&re[2]?re[1]!==p[re[0]]:!(re[0]in p))return!1}for(;++j<Y;){re=E[j];var ce=re[0],ke=p[ce],De=re[1];if(Z&&re[2]){if(ke===t&&!(ce in p))return!1}else{var Pe=new Fi;if(I)var qe=I(ke,De,ce,p,y,Pe);if(!(qe===t?fu(De,ke,x|_,I,Pe):qe))return!1}}return!0}function fa(p){if(!ar(p)||pg(p))return!1;var y=Bo(p)?Ov:Jd;return y.test(il(p))}function Wm(p){return fr(p)&&on(p)==nr}function Wv(p){return fr(p)&&li(p)==ln}function Gv(p){return fr(p)&&wu(p.length)&&!!cn[on(p)]}function Kv(p){return typeof p=="function"?p:p==null?he:typeof p=="object"?yt(p)?Ym(p[0],p[1]):Xv(p):mn(p)}function Gm(p){if(!Hn(p))return no(p);var y=[];for(var E in pn(p))Sn.call(p,E)&&E!="constructor"&&y.push(E);return y}function G1(p){if(!ar(p))return Gl(p);var y=Hn(p),E=[];for(var I in p)I=="constructor"&&(y||!Sn.call(p,I))||E.push(I);return E}function Km(p,y){return p<y}function Yv(p,y){var E=-1,I=Gr(p)?me(p.length):[];return Ja(p,function(j,Y,Z){I[++E]=y(j,Y,Z)}),I}function Xv(p){var y=ug(p);return y.length==1&&y[0][2]?gx(y[0][0],y[0][1]):function(E){return E===p||Ch(E,p,y)}}function Ym(p,y){return dg(p)&&mx(y)?gx(Rn(p),y):function(E){var I=lp(E,p);return I===t&&I===y?qf(E,p):fu(y,I,x|_)}}function Ah(p,y,E,I,j){p!==y&&Sf(y,function(Y,Z){if(j||(j=new Fi),ar(Y))rA(p,y,Z,E,Ah,I,j);else{var re=I?I(mg(p,Z),Y,Z+"",p,y,j):t;re===t&&(re=Y),ua(p,Z,re)}},ci)}function rA(p,y,E,I,j,Y,Z){var re=mg(p,E),ce=mg(y,E),ke=Z.get(ce);if(ke){ua(p,E,ke);return}var De=Y?Y(re,ce,E+"",p,y,Z):t,Pe=De===t;if(Pe){var qe=yt(ce),tt=!qe&&nc(ce),pt=!qe&&!tt&&Uf(ce);De=ce,qe||tt||pt?yt(re)?De=re:vr(re)?De=qr(re):tt?(Pe=!1,De=i0(ce,!0)):pt?(Pe=!1,De=o0(ce,!0)):De=[]:co(ce)||ll(ce)?(De=re,ll(re)?De=lS(re):(!ar(re)||Bo(re))&&(De=h0(ce))):Pe=!1}Pe&&(Z.set(ce,De),j(De,ce,I,Y,Z),Z.delete(ce)),ua(p,E,De)}function Qv(p,y){var E=p.length;if(E)return y+=y<0?E:0,Vo(y,E)?p[y]:t}function Jv(p,y,E){y.length?y=Un(y,function(Y){return yt(Y)?function(Z){return so(Z,Y.length===1?Y[0]:Y)}:Y}):y=[he];var I=-1;y=Un(y,An(ot()));var j=Yv(p,function(Y,Z,re){var ce=Un(y,function(ke){return ke(Y)});return{criteria:ce,index:++I,value:Y}});return be(j,function(Y,Z){return rx(Y,Z,E)})}function K1(p,y){return Xm(p,y,function(E,I){return qf(p,I)})}function Xm(p,y,E){for(var I=-1,j=y.length,Y={};++I<j;){var Z=y[I],re=so(p,Z);E(re,Z)&&Tf(Y,el(Z,p),re)}return Y}function Y1(p){return function(y){return so(y,p)}}function Qm(p,y,E,I){var j=I?la:Ga,Y=-1,Z=y.length,re=p;for(p===y&&(y=qr(y)),E&&(re=Un(p,An(E)));++Y<Z;)for(var ce=0,ke=y[Y],De=E?E(ke):ke;(ce=j(re,De,ce,I))>-1;)re!==p&&Pm.call(re,ce,1),Pm.call(p,ce,1);return p}function Zv(p,y){for(var E=p?y.length:0,I=E-1;E--;){var j=y[E];if(E==I||j!==Y){var Y=j;Vo(j)?Pm.call(p,j,1):Dh(p,j)}}return p}function Jm(p,y){return p+Ka(Pv()*(y-p+1))}function X1(p,y,E,I){for(var j=-1,Y=Jn(yf((y-p)/(E||1)),0),Z=me(Y);Y--;)Z[I?Y:++j]=p,p+=E;return Z}function e0(p,y){var E="";if(!p||y<1||y>te)return E;do y%2&&(E+=p),y=Ka(y/2),y&&(p+=p);while(y);return E}function Pt(p,y){return Wh(m0(p,y,he),p+"")}function _f(p){return wf(Gf(p))}function Zm(p,y){var E=Gf(p);return Kh(E,Po(y,0,E.length))}function Tf(p,y,E,I){if(!ar(p))return p;y=el(y,p);for(var j=-1,Y=y.length,Z=Y-1,re=p;re!=null&&++j<Y;){var ce=Rn(y[j]),ke=E;if(ce==="__proto__"||ce==="constructor"||ce==="prototype")return p;if(j!=Z){var De=re[ce];ke=I?I(De,ce,re):t,ke===t&&(ke=ar(De)?De:Vo(y[j+1])?[]:{})}au(re,ce,ke),re=re[ce]}return p}var Rh=vf?function(p,y){return vf.set(p,y),p}:he,kh=ph?function(p,y){return ph(p,"toString",{configurable:!0,enumerable:!1,value:de(y),writable:!0})}:he;function Q1(p){return Kh(Gf(p))}function Vs(p,y,E){var I=-1,j=p.length;y<0&&(y=-y>j?0:j+y),E=E>j?j:E,E<0&&(E+=j),j=y>E?0:E-y>>>0,y>>>=0;for(var Y=me(j);++I<j;)Y[I]=p[I+y];return Y}function J1(p,y){var E;return Ja(p,function(I,j,Y){return E=y(I,j,Y),!E}),!!E}function Mh(p,y,E){var I=0,j=p==null?I:p.length;if(typeof y=="number"&&y===y&&j<=ne){for(;I<j;){var Y=I+j>>>1,Z=p[Y];Z!==null&&!qi(Z)&&(E?Z<=y:Z<y)?I=Y+1:j=Y}return j}return eg(p,y,he,E)}function eg(p,y,E,I){var j=0,Y=p==null?0:p.length;if(Y===0)return 0;y=E(y);for(var Z=y!==y,re=y===null,ce=qi(y),ke=y===t;j<Y;){var De=Ka((j+Y)/2),Pe=E(p[De]),qe=Pe!==t,tt=Pe===null,pt=Pe===Pe,Ht=qi(Pe);if(Z)var mt=I||pt;else ke?mt=pt&&(I||qe):re?mt=pt&&qe&&(I||!tt):ce?mt=pt&&qe&&!tt&&(I||!Ht):tt||Ht?mt=!1:mt=I?Pe<=y:Pe<y;mt?j=De+1:Y=De}return ir(Y,ve)}function t0(p,y){for(var E=-1,I=p.length,j=0,Y=[];++E<I;){var Z=p[E],re=y?y(Z):Z;if(!E||!vs(re,ce)){var ce=re;Y[j++]=Z===0?0:Z}}return Y}function tg(p){return typeof p=="number"?p:qi(p)?Q:+p}function hs(p){if(typeof p=="string")return p;if(yt(p))return Un(p,hs)+"";if(qi(p))return jl?jl.call(p):"";var y=p+"";return y=="0"&&1/p==-se?"-0":y}function Za(p,y,E){var I=-1,j=Xc,Y=p.length,Z=!0,re=[],ce=re;if(E)Z=!1,j=Nl;else if(Y>=i){var ke=y?null:lx(p);if(ke)return Im(ke);Z=!1,j=Os,ce=new Xa}else ce=y?[]:re;e:for(;++I<Y;){var De=p[I],Pe=y?y(De):De;if(De=E||De!==0?De:0,Z&&Pe===Pe){for(var qe=ce.length;qe--;)if(ce[qe]===Pe)continue e;y&&ce.push(Pe),re.push(De)}else j(ce,Pe,E)||(ce!==re&&ce.push(Pe),re.push(De))}return re}function Dh(p,y){return y=el(y,p),p=Rf(p,y),p==null||delete p[Rn(Ri(y))]}function n0(p,y,E,I){return Tf(p,y,E(so(p,y)),I)}function Ih(p,y,E,I){for(var j=p.length,Y=I?j:-1;(I?Y--:++Y<j)&&y(p[Y],Y,p););return E?Vs(p,I?0:Y,I?Y+1:j):Vs(p,I?Y+1:0,I?j:Y)}function Z1(p,y){var E=p;return E instanceof Ut&&(E=E.value()),ko(y,function(I,j){return j.func.apply(j.thisArg,Js([I],j.args))},E)}function Oh(p,y,E){var I=p.length;if(I<2)return I?Za(p[0]):[];for(var j=-1,Y=me(I);++j<I;)for(var Z=p[j],re=-1;++re<I;)re!=j&&(Y[j]=Fl(Y[j]||Z,p[re],y,E));return Za(nn(Y,1),y,E)}function r0(p,y,E){for(var I=-1,j=p.length,Y=y.length,Z={};++I<j;){var re=I<Y?y[I]:t;E(Z,p[I],re)}return Z}function ng(p){return vr(p)?p:[]}function Nh(p){return typeof p=="function"?p:he}function el(p,y){return yt(p)?p:dg(p,y)?[p]:ma(En(p))}var ex=Pt;function $l(p,y,E){var I=p.length;return E=E===t?I:E,!y&&E>=I?p:Vs(p,y,E)}var tx=Lm||function(p){return Xn.clearTimeout(p)};function i0(p,y){if(y)return p.slice();var E=p.length,I=Zc?Zc(E):new p.constructor(E);return p.copy(I),I}function du(p){var y=new p.constructor(p.byteLength);return new gf(y).set(new gf(p)),y}function s0(p,y){var E=y?du(p.buffer):p.buffer;return new p.constructor(E,p.byteOffset,p.byteLength)}function rg(p){var y=new p.constructor(p.source,Co.exec(p));return y.lastIndex=p.lastIndex,y}function nx(p){return iu?pn(iu.call(p)):{}}function o0(p,y){var E=y?du(p.buffer):p.buffer;return new p.constructor(E,p.byteOffset,p.length)}function Ph(p,y){if(p!==y){var E=p!==t,I=p===null,j=p===p,Y=qi(p),Z=y!==t,re=y===null,ce=y===y,ke=qi(y);if(!re&&!ke&&!Y&&p>y||Y&&Z&&ce&&!re&&!ke||I&&Z&&ce||!E&&ce||!j)return 1;if(!I&&!Y&&!ke&&p<y||ke&&E&&j&&!I&&!Y||re&&E&&j||!Z&&j||!ce)return-1}return 0}function rx(p,y,E){for(var I=-1,j=p.criteria,Y=y.criteria,Z=j.length,re=E.length;++I<Z;){var ce=Ph(j[I],Y[I]);if(ce){if(I>=re)return ce;var ke=E[I];return ce*(ke=="desc"?-1:1)}}return p.index-y.index}function a0(p,y,E,I){for(var j=-1,Y=p.length,Z=E.length,re=-1,ce=y.length,ke=Jn(Y-Z,0),De=me(ce+ke),Pe=!I;++re<ce;)De[re]=y[re];for(;++j<Z;)(Pe||j<Y)&&(De[E[j]]=p[j]);for(;ke--;)De[re++]=p[j++];return De}function ix(p,y,E,I){for(var j=-1,Y=p.length,Z=-1,re=E.length,ce=-1,ke=y.length,De=Jn(Y-re,0),Pe=me(De+ke),qe=!I;++j<De;)Pe[j]=p[j];for(var tt=j;++ce<ke;)Pe[tt+ce]=y[ce];for(;++Z<re;)(qe||j<Y)&&(Pe[tt+E[Z]]=p[j++]);return Pe}function qr(p,y){var E=-1,I=p.length;for(y||(y=me(I));++E<I;)y[E]=p[E];return y}function ps(p,y,E,I){var j=!E;E||(E={});for(var Y=-1,Z=y.length;++Y<Z;){var re=y[Y],ce=I?I(E[re],p[re],re,E,p):t;ce===t&&(ce=p[re]),j?No(E,re,ce):au(E,re,ce)}return E}function ig(p,y){return ps(p,Fh(p),y)}function Lh(p,y){return ps(p,fg(p),y)}function hu(p,y){return function(E,I){var j=yt(E)?Yc:Ul,Y=y?y():{};return j(E,p,ot(I,2),Y)}}function pu(p){return Pt(function(y,E){var I=-1,j=E.length,Y=j>1?E[j-1]:t,Z=j>2?E[2]:t;for(Y=p.length>3&&typeof Y=="function"?(j--,Y):t,Z&&$i(E[0],E[1],Z)&&(Y=j<3?t:Y,j=1),y=pn(y);++I<j;){var re=E[I];re&&p(y,re,I,Y)}return y})}function l0(p,y){return function(E,I){if(E==null)return E;if(!Gr(E))return p(E,I);for(var j=E.length,Y=y?j:-1,Z=pn(E);(y?Y--:++Y<j)&&I(Z[Y],Y,Z)!==!1;);return E}}function mu(p){return function(y,E,I){for(var j=-1,Y=pn(y),Z=I(y),re=Z.length;re--;){var ce=Z[p?re:++j];if(E(Y[ce],ce,Y)===!1)break}return y}}function sx(p,y,E){var I=y&C,j=oo(p);function Y(){var Z=this&&this!==Xn&&this instanceof Y?j:p;return Z.apply(I?E:this,arguments)}return Y}function Bs(p){return function(y){y=En(y);var E=Pl(y)?Zs(y):t,I=E?E[0]:y.charAt(0),j=E?$l(E,1).join(""):y.slice(1);return I[p]()+j}}function Hi(p){return function(y){return ko(S(cl(y).replace(Fc,"")),p,"")}}function oo(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var E=Ls(p.prototype),I=p.apply(E,y);return ar(I)?I:E}}function ox(p,y,E){var I=oo(p);function j(){for(var Y=arguments.length,Z=me(Y),re=Y,ce=yu(j);re--;)Z[re]=arguments[re];var ke=Y<3&&Z[0]!==ce&&Z[Y-1]!==ce?[]:Ll(Z,ce);if(Y-=ke.length,Y<E)return c0(p,y,gr,j.placeholder,t,Z,ke,t,t,E-Y);var De=this&&this!==Xn&&this instanceof j?I:p;return gi(De,this,Z)}return j}function tl(p){return function(y,E,I){var j=pn(y);if(!Gr(y)){var Y=ot(E,3);y=Yr(y),E=function(re){return Y(j[re],re,j)}}var Z=p(y,E,I);return Z>-1?j[Y?y[Z]:Z]:t}}function da(p){return Zn(function(y){var E=y.length,I=E,j=us.prototype.thru;for(p&&y.reverse();I--;){var Y=y[I];if(typeof Y!="function")throw new Ps(o);if(j&&!Z&&Uh(Y)=="wrapper")var Z=new us([],!0)}for(I=Z?I:E;++I<E;){Y=y[I];var re=Uh(Y),ce=re=="wrapper"?cg(Y):t;ce&&hg(ce[0])&&ce[1]==(O|z|H|D)&&!ce[4].length&&ce[9]==1?Z=Z[Uh(ce[0])].apply(Z,ce[3]):Z=Y.length==1&&hg(Y)?Z[re]():Z.thru(Y)}return function(){var ke=arguments,De=ke[0];if(Z&&ke.length==1&&yt(De))return Z.plant(De).value();for(var Pe=0,qe=E?y[Pe].apply(this,ke):De;++Pe<E;)qe=y[Pe].call(this,qe);return qe}})}function gr(p,y,E,I,j,Y,Z,re,ce,ke){var De=y&O,Pe=y&C,qe=y&k,tt=y&(z|P),pt=y&V,Ht=qe?t:oo(p);function mt(){for(var an=arguments.length,gn=me(an),jo=an;jo--;)gn[jo]=arguments[jo];if(tt)var Hs=yu(mt),Uo=ch(gn,Hs);if(I&&(gn=a0(gn,I,j,tt)),Y&&(gn=ix(gn,Y,Z,tt)),an-=Uo,tt&&an<ke){var Xr=Ll(gn,Hs);return c0(p,y,gr,mt.placeholder,E,gn,Xr,re,ce,ke-an)}var ul=Pe?E:this,xu=qe?ul[p]:p;return an=gn.length,re?gn=pa(gn,re):pt&&an>1&&gn.reverse(),De&&ce<an&&(gn.length=ce),this&&this!==Xn&&this instanceof mt&&(xu=Ht||oo(xu)),xu.apply(ul,gn)}return mt}function Vh(p,y){return function(E,I){return qv(E,p,y(I),{})}}function Cf(p,y){return function(E,I){var j;if(E===t&&I===t)return y;if(E!==t&&(j=E),I!==t){if(j===t)return I;typeof E=="string"||typeof I=="string"?(E=hs(E),I=hs(I)):(E=tg(E),I=tg(I)),j=p(E,I)}return j}}function Bh(p){return Zn(function(y){return y=Un(y,An(ot())),Pt(function(E){var I=this;return p(y,function(j){return gi(j,I,E)})})})}function zh(p,y){y=y===t?" ":hs(y);var E=y.length;if(E<2)return E?e0(y,p):y;var I=e0(y,yf(p/ca(y)));return Pl(y)?$l(Zs(I),0,p).join(""):I.slice(0,p)}function ax(p,y,E,I){var j=y&C,Y=oo(p);function Z(){for(var re=-1,ce=arguments.length,ke=-1,De=I.length,Pe=me(De+ce),qe=this&&this!==Xn&&this instanceof Z?Y:p;++ke<De;)Pe[ke]=I[ke];for(;ce--;)Pe[ke++]=arguments[++re];return gi(qe,j?E:this,Pe)}return Z}function ql(p){return function(y,E,I){return I&&typeof I!="number"&&$i(y,E,I)&&(E=I=t),y=va(y),E===t?(E=y,y=0):E=va(E),I=I===t?y<E?1:-1:va(I),X1(y,E,I,p)}}function gu(p){return function(y,E){return typeof y=="string"&&typeof E=="string"||(y=uo(y),E=uo(E)),p(y,E)}}function c0(p,y,E,I,j,Y,Z,re,ce,ke){var De=y&z,Pe=De?Z:t,qe=De?t:Z,tt=De?Y:t,pt=De?t:Y;y|=De?H:U,y&=~(De?U:H),y&N||(y&=-4);var Ht=[p,y,j,tt,Pe,pt,qe,re,ce,ke],mt=E.apply(t,Ht);return hg(p)&&gg(mt,Ht),mt.placeholder=I,yg(mt,p,y)}function sg(p){var y=Ir[p];return function(E,I){if(E=uo(E),I=I==null?0:ir(Tt(I),292),I&&mh(E)){var j=(En(E)+"e").split("e"),Y=y(j[0]+"e"+(+j[1]+I));return j=(En(Y)+"e").split("e"),+(j[0]+"e"+(+j[1]-I))}return y(E)}}var lx=tn&&1/Im(new tn([,-0]))[1]==se?function(p){return new tn(p)}:We;function jh(p){return function(y){var E=li(y);return E==Dt?Dm(y):E==ln?KC(y):Hr(y,p(y))}}function ha(p,y,E,I,j,Y,Z,re){var ce=y&k;if(!ce&&typeof p!="function")throw new Ps(o);var ke=I?I.length:0;if(ke||(y&=-97,I=j=t),Z=Z===t?Z:Jn(Tt(Z),0),re=re===t?re:Tt(re),ke-=j?j.length:0,y&U){var De=I,Pe=j;I=j=t}var qe=ce?t:cg(p),tt=[p,y,E,I,j,De,Pe,Y,Z,re];if(qe&&qh(tt,qe),p=tt[0],y=tt[1],E=tt[2],I=tt[3],j=tt[4],re=tt[9]=tt[9]===t?ce?0:p.length:Jn(tt[9]-ke,0),!re&&y&(z|P)&&(y&=-25),!y||y==C)var pt=sx(p,y,E);else y==z||y==P?pt=ox(p,y,re):(y==H||y==(C|H))&&!j.length?pt=ax(p,y,E,I):pt=gr.apply(t,tt);var Ht=qe?Rh:gg;return yg(Ht(pt,tt),p,y)}function og(p,y,E,I){return p===t||vs(p,pf[E])&&!Sn.call(I,E)?y:p}function u0(p,y,E,I,j,Y){return ar(p)&&ar(y)&&(Y.set(y,p),Ah(p,y,t,u0,Y),Y.delete(y)),p}function cx(p){return co(p)?t:p}function ux(p,y,E,I,j,Y){var Z=E&x,re=p.length,ce=y.length;if(re!=ce&&!(Z&&ce>re))return!1;var ke=Y.get(p),De=Y.get(y);if(ke&&De)return ke==y&&De==p;var Pe=-1,qe=!0,tt=E&_?new Xa:t;for(Y.set(p,y),Y.set(y,p);++Pe<re;){var pt=p[Pe],Ht=y[Pe];if(I)var mt=Z?I(Ht,pt,Pe,y,p,Y):I(pt,Ht,Pe,p,y,Y);if(mt!==t){if(mt)continue;qe=!1;break}if(tt){if(!ff(y,function(an,gn){if(!Os(tt,gn)&&(pt===an||j(pt,an,E,I,Y)))return tt.push(gn)})){qe=!1;break}}else if(!(pt===Ht||j(pt,Ht,E,I,Y))){qe=!1;break}}return Y.delete(p),Y.delete(y),qe}function fx(p,y,E,I,j,Y,Z){switch(E){case Gn:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case Nt:return!(p.byteLength!=y.byteLength||!Y(new gf(p),new gf(y)));case Le:case He:case tr:return vs(+p,+y);case Lt:return p.name==y.name&&p.message==y.message;case nr:case _n:return p==y+"";case Dt:var re=Dm;case ln:var ce=I&x;if(re||(re=Im),p.size!=y.size&&!ce)return!1;var ke=Z.get(p);if(ke)return ke==y;I|=_,Z.set(p,y);var De=ux(re(p),re(y),I,j,Y,Z);return Z.delete(p),De;case Wn:if(iu)return iu.call(p)==iu.call(y)}return!1}function ai(p,y,E,I,j,Y){var Z=E&x,re=ag(p),ce=re.length,ke=ag(y),De=ke.length;if(ce!=De&&!Z)return!1;for(var Pe=ce;Pe--;){var qe=re[Pe];if(!(Z?qe in y:Sn.call(y,qe)))return!1}var tt=Y.get(p),pt=Y.get(y);if(tt&&pt)return tt==y&&pt==p;var Ht=!0;Y.set(p,y),Y.set(y,p);for(var mt=Z;++Pe<ce;){qe=re[Pe];var an=p[qe],gn=y[qe];if(I)var jo=Z?I(gn,an,qe,y,p,Y):I(an,gn,qe,p,y,Y);if(!(jo===t?an===gn||j(an,gn,E,I,Y):jo)){Ht=!1;break}mt||(mt=qe=="constructor")}if(Ht&&!mt){var Hs=p.constructor,Uo=y.constructor;Hs!=Uo&&"constructor"in p&&"constructor"in y&&!(typeof Hs=="function"&&Hs instanceof Hs&&typeof Uo=="function"&&Uo instanceof Uo)&&(Ht=!1)}return Y.delete(p),Y.delete(y),Ht}function Zn(p){return Wh(m0(p,t,gs),p+"")}function ag(p){return $1(p,Yr,Fh)}function lg(p){return $1(p,ci,fg)}var cg=vf?function(p){return vf.get(p)}:We;function Uh(p){for(var y=p.name+"",E=ro[y],I=Sn.call(ro,y)?E.length:0;I--;){var j=E[I],Y=j.func;if(Y==null||Y==p)return j.name}return y}function yu(p){var y=Sn.call($,"placeholder")?$:p;return y.placeholder}function ot(){var p=$.iteratee||ct;return p=p===ct?Kv:p,arguments.length?p(arguments[0],arguments[1]):p}function Af(p,y){var E=p.__data__;return rl(y)?E[typeof y=="string"?"string":"hash"]:E.map}function ug(p){for(var y=Yr(p),E=y.length;E--;){var I=y[E],j=p[I];y[E]=[I,j,mx(j)]}return y}function Wl(p,y){var E=kv(p,y);return fa(E)?E:t}function dx(p){var y=Sn.call(p,Ui),E=p[Ui];try{p[Ui]=t;var I=!0}catch{}var j=ji.call(p);return I&&(y?p[Ui]=E:delete p[Ui]),j}var Fh=Bl?function(p){return p==null?[]:(p=pn(p),as(Bl(p),function(y){return eu.call(p,y)}))}:jA,fg=Bl?function(p){for(var y=[];p;)Js(y,Fh(p)),p=dh(p);return y}:jA,li=on;(gh&&li(new gh(new ArrayBuffer(1)))!=Gn||$r&&li(new $r)!=Dt||sr&&li(sr.resolve())!=kn||tn&&li(new tn)!=ln||Oo&&li(new Oo)!=Li)&&(li=function(p){var y=on(p),E=y==jt?p.constructor:t,I=E?il(E):"";if(I)switch(I){case I1:return Gn;case O1:return Dt;case yh:return kn;case vh:return ln;case N1:return Li}return y});function hx(p,y,E){for(var I=-1,j=E.length;++I<j;){var Y=E[I],Z=Y.size;switch(Y.type){case"drop":p+=Z;break;case"dropRight":y-=Z;break;case"take":y=ir(y,p+Z);break;case"takeRight":p=Jn(p,y-Z);break}}return{start:p,end:y}}function f0(p){var y=p.match(Va);return y?y[1].split(ym):[]}function Hh(p,y,E){y=el(y,p);for(var I=-1,j=y.length,Y=!1;++I<j;){var Z=Rn(y[I]);if(!(Y=p!=null&&E(p,Z)))break;p=p[Z]}return Y||++I!=j?Y:(j=p==null?0:p.length,!!j&&wu(j)&&Vo(Z,j)&&(yt(p)||ll(p)))}function d0(p){var y=p.length,E=new p.constructor(y);return y&&typeof p[0]=="string"&&Sn.call(p,"index")&&(E.index=p.index,E.input=p.input),E}function h0(p){return typeof p.constructor=="function"&&!Hn(p)?Ls(dh(p)):{}}function p0(p,y,E){var I=p.constructor;switch(y){case Nt:return du(p);case Le:case He:return new I(+p);case Gn:return s0(p,E);case rr:case Vi:case Zo:case ti:case Is:case xe:case Fe:case et:case It:return o0(p,E);case Dt:return new I;case tr:case _n:return new I(p);case nr:return rg(p);case ln:return new I;case Wn:return nx(p)}}function px(p,y){var E=y.length;if(!E)return p;var I=E-1;return y[I]=(E>1?"& ":"")+y[I],y=y.join(E>2?", ":" "),p.replace(To,`{
/* [wrapped with `+y+`] */
`)}function nl(p){return yt(p)||ll(p)||!!(ls&&p&&p[ls])}function Vo(p,y){var E=typeof p;return y=y??te,!!y&&(E=="number"||E!="symbol"&&Ao.test(p))&&p>-1&&p%1==0&&p<y}function $i(p,y,E){if(!ar(E))return!1;var I=typeof y;return(I=="number"?Gr(E)&&Vo(y,E.length):I=="string"&&y in E)?vs(E[y],p):!1}function dg(p,y){if(yt(p))return!1;var E=typeof p;return E=="number"||E=="symbol"||E=="boolean"||p==null||qi(p)?!0:jn.test(p)||!mi.test(p)||y!=null&&p in pn(y)}function rl(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function hg(p){var y=Uh(p),E=$[y];if(typeof E!="function"||!(y in Ut.prototype))return!1;if(p===E)return!0;var I=cg(E);return!!I&&p===I[0]}function pg(p){return!!Iv&&Iv in p}var $h=uh?Bo:UA;function Hn(p){var y=p&&p.constructor,E=typeof y=="function"&&y.prototype||pf;return p===E}function mx(p){return p===p&&!ar(p)}function gx(p,y){return function(E){return E==null?!1:E[p]===y&&(y!==t||p in pn(E))}}function yx(p){var y=np(p,function(I){return E.size===f&&E.clear(),I}),E=y.cache;return y}function qh(p,y){var E=p[1],I=y[1],j=E|I,Y=j<(C|k|O),Z=I==O&&E==z||I==O&&E==D&&p[7].length<=y[8]||I==(O|D)&&y[7].length<=y[8]&&E==z;if(!(Y||Z))return p;I&C&&(p[2]=y[2],j|=E&C?0:N);var re=y[3];if(re){var ce=p[3];p[3]=ce?a0(ce,re,y[4]):re,p[4]=ce?Ll(p[3],d):y[4]}return re=y[5],re&&(ce=p[5],p[5]=ce?ix(ce,re,y[6]):re,p[6]=ce?Ll(p[5],d):y[6]),re=y[7],re&&(p[7]=re),I&O&&(p[8]=p[8]==null?y[8]:ir(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=j,p}function Gl(p){var y=[];if(p!=null)for(var E in pn(p))y.push(E);return y}function vx(p){return ji.call(p)}function m0(p,y,E){return y=Jn(y===t?p.length-1:y,0),function(){for(var I=arguments,j=-1,Y=Jn(I.length-y,0),Z=me(Y);++j<Y;)Z[j]=I[y+j];j=-1;for(var re=me(y+1);++j<y;)re[j]=I[j];return re[y]=E(Z),gi(p,this,re)}}function Rf(p,y){return y.length<2?p:so(p,Vs(y,0,-1))}function pa(p,y){for(var E=p.length,I=ir(y.length,E),j=qr(p);I--;){var Y=y[I];p[I]=Vo(Y,E)?j[Y]:t}return p}function mg(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var gg=Gh(Rh),kf=Nv||function(p,y){return Xn.setTimeout(p,y)},Wh=Gh(kh);function yg(p,y,E){var I=y+"";return Wh(p,px(I,bx(f0(I),E)))}function Gh(p){var y=0,E=0;return function(){var I=Ya(),j=G-(I-E);if(E=I,j>0){if(++y>=X)return arguments[0]}else y=0;return p.apply(t,arguments)}}function Kh(p,y){var E=-1,I=p.length,j=I-1;for(y=y===t?I:y;++E<y;){var Y=Jm(E,j),Z=p[Y];p[Y]=p[E],p[E]=Z}return p.length=y,p}var ma=yx(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(Yt,function(E,I,j,Y){y.push(j?Y.replace(Ba,"$1"):I||E)}),y});function Rn(p){if(typeof p=="string"||qi(p))return p;var y=p+"";return y=="0"&&1/p==-se?"-0":y}function il(p){if(p!=null){try{return fh.call(p)}catch{}try{return p+""}catch{}}return""}function bx(p,y){return zi(ge,function(E){var I="_."+E[0];y&E[1]&&!Xc(p,I)&&p.push(I)}),p.sort()}function Wr(p){if(p instanceof Ut)return p.clone();var y=new us(p.__wrapped__,p.__chain__);return y.__actions__=qr(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function iA(p,y,E){(E?$i(p,y,E):y===t)?y=1:y=Jn(Tt(y),0);var I=p==null?0:p.length;if(!I||y<1)return[];for(var j=0,Y=0,Z=me(yf(I/y));j<I;)Z[Y++]=Vs(p,j,j+=y);return Z}function wx(p){for(var y=-1,E=p==null?0:p.length,I=0,j=[];++y<E;){var Y=p[y];Y&&(j[I++]=Y)}return j}function xx(){var p=arguments.length;if(!p)return[];for(var y=me(p-1),E=arguments[0],I=p;I--;)y[I-1]=arguments[I];return Js(yt(E)?qr(E):[E],nn(y,1))}var or=Pt(function(p,y){return vr(p)?Fl(p,nn(y,1,vr,!0)):[]}),ms=Pt(function(p,y){var E=Ri(y);return vr(E)&&(E=t),vr(p)?Fl(p,nn(y,1,vr,!0),ot(E,2)):[]}),sl=Pt(function(p,y){var E=Ri(y);return vr(E)&&(E=t),vr(p)?Fl(p,nn(y,1,vr,!0),t,E):[]});function Sx(p,y,E){var I=p==null?0:p.length;return I?(y=E||y===t?1:Tt(y),Vs(p,y<0?0:y,I)):[]}function Ex(p,y,E){var I=p==null?0:p.length;return I?(y=E||y===t?1:Tt(y),y=I-y,Vs(p,0,y<0?0:y)):[]}function sA(p,y){return p&&p.length?Ih(p,ot(y,3),!0,!0):[]}function g0(p,y){return p&&p.length?Ih(p,ot(y,3),!0):[]}function zs(p,y,E,I){var j=p==null?0:p.length;return j?(E&&typeof E!="number"&&$i(p,y,E)&&(E=0,I=j),Vt(p,y,E,I)):[]}function ao(p,y,E){var I=p==null?0:p.length;if(!I)return-1;var j=E==null?0:Tt(E);return j<0&&(j=Jn(I+j,0)),Qc(p,ot(y,3),j)}function y0(p,y,E){var I=p==null?0:p.length;if(!I)return-1;var j=I-1;return E!==t&&(j=Tt(E),j=E<0?Jn(I+j,0):ir(j,I-1)),Qc(p,ot(y,3),j,!0)}function gs(p){var y=p==null?0:p.length;return y?nn(p,1):[]}function _x(p){var y=p==null?0:p.length;return y?nn(p,se):[]}function Kl(p,y){var E=p==null?0:p.length;return E?(y=y===t?1:Tt(y),nn(p,y)):[]}function vu(p){for(var y=-1,E=p==null?0:p.length,I={};++y<E;){var j=p[y];I[j[0]]=j[1]}return I}function ol(p){return p&&p.length?p[0]:t}function v0(p,y,E){var I=p==null?0:p.length;if(!I)return-1;var j=E==null?0:Tt(E);return j<0&&(j=Jn(I+j,0)),Ga(p,y,j)}function b0(p){var y=p==null?0:p.length;return y?Vs(p,0,-1):[]}var ga=Pt(function(p){var y=Un(p,ng);return y.length&&y[0]===p[0]?$v(y):[]}),Tx=Pt(function(p){var y=Ri(p),E=Un(p,ng);return y===Ri(E)?y=t:E.pop(),E.length&&E[0]===p[0]?$v(E,ot(y,2)):[]}),Mf=Pt(function(p){var y=Ri(p),E=Un(p,ng);return y=typeof y=="function"?y:t,y&&E.pop(),E.length&&E[0]===p[0]?$v(E,t,y):[]});function Yh(p,y){return p==null?"":to.call(p,y)}function Ri(p){var y=p==null?0:p.length;return y?p[y-1]:t}function Df(p,y,E){var I=p==null?0:p.length;if(!I)return-1;var j=I;return E!==t&&(j=Tt(E),j=j<0?Jn(I+j,0):ir(j,I-1)),y===y?Ns(p,y,j):Qc(p,w,j,!0)}function Cx(p,y){return p&&p.length?Qv(p,Tt(y)):t}var Ax=Pt(If);function If(p,y){return p&&p.length&&y&&y.length?Qm(p,y):p}function Rx(p,y,E){return p&&p.length&&y&&y.length?Qm(p,y,ot(E,2)):p}function vg(p,y,E){return p&&p.length&&y&&y.length?Qm(p,y,t,E):p}var kx=Zn(function(p,y){var E=p==null?0:p.length,I=Eh(p,y);return Zv(p,Un(y,function(j){return Vo(j,E)?+j:j}).sort(Ph)),I});function oA(p,y){var E=[];if(!(p&&p.length))return E;var I=-1,j=[],Y=p.length;for(y=ot(y,3);++I<Y;){var Z=p[I];y(Z,I,p)&&(E.push(Z),j.push(I))}return Zv(p,j),E}function w0(p){return p==null?p:Lv.call(p)}function On(p,y,E){var I=p==null?0:p.length;return I?(E&&typeof E!="number"&&$i(p,y,E)?(y=0,E=I):(y=y==null?0:Tt(y),E=E===t?I:Tt(E)),Vs(p,y,E)):[]}function Qn(p,y){return Mh(p,y)}function Xt(p,y,E){return eg(p,y,ot(E,2))}function un(p,y){var E=p==null?0:p.length;if(E){var I=Mh(p,y);if(I<E&&vs(p[I],y))return I}return-1}function Nn(p,y){return Mh(p,y,!0)}function js(p,y,E){return eg(p,y,ot(E,2),!0)}function Yl(p,y){var E=p==null?0:p.length;if(E){var I=Mh(p,y,!0)-1;if(vs(p[I],y))return I}return-1}function Of(p){return p&&p.length?t0(p):[]}function x0(p,y){return p&&p.length?t0(p,ot(y,2)):[]}function al(p){var y=p==null?0:p.length;return y?Vs(p,1,y):[]}function yr(p,y,E){return p&&p.length?(y=E||y===t?1:Tt(y),Vs(p,0,y<0?0:y)):[]}function Xl(p,y,E){var I=p==null?0:p.length;return I?(y=E||y===t?1:Tt(y),y=I-y,Vs(p,y<0?0:y,I)):[]}function bu(p,y){return p&&p.length?Ih(p,ot(y,3),!1,!0):[]}function S0(p,y){return p&&p.length?Ih(p,ot(y,3)):[]}var lo=Pt(function(p){return Za(nn(p,1,vr,!0))}),Nf=Pt(function(p){var y=Ri(p);return vr(y)&&(y=t),Za(nn(p,1,vr,!0),ot(y,2))}),Xh=Pt(function(p){var y=Ri(p);return y=typeof y=="function"?y:t,Za(nn(p,1,vr,!0),t,y)});function ys(p){return p&&p.length?Za(p):[]}function E0(p,y){return p&&p.length?Za(p,ot(y,2)):[]}function _0(p,y){return y=typeof y=="function"?y:t,p&&p.length?Za(p,t,y):[]}function Pf(p){if(!(p&&p.length))return[];var y=0;return p=as(p,function(E){if(vr(E))return y=Jn(E.length,y),!0}),en(y,function(E){return Un(p,L(E))})}function Qh(p,y){if(!(p&&p.length))return[];var E=Pf(p);return y==null?E:Un(E,function(I){return gi(y,t,I)})}var Ql=Pt(function(p,y){return vr(p)?Fl(p,y):[]}),yi=Pt(function(p){return Oh(as(p,vr))}),Jl=Pt(function(p){var y=Ri(p);return vr(y)&&(y=t),Oh(as(p,vr),ot(y,2))}),Lf=Pt(function(p){var y=Ri(p);return y=typeof y=="function"?y:t,Oh(as(p,vr),t,y)}),Vf=Pt(Pf);function T0(p,y){return r0(p||[],y||[],au)}function C0(p,y){return r0(p||[],y||[],Tf)}var Mx=Pt(function(p){var y=p.length,E=y>1?p[y-1]:t;return E=typeof E=="function"?(p.pop(),E):t,Qh(p,E)});function Bf(p){var y=$(p);return y.__chain__=!0,y}function A0(p,y){return y(p),p}function ki(p,y){return y(p)}var Dx=Zn(function(p){var y=p.length,E=y?p[0]:0,I=this.__wrapped__,j=function(Y){return Eh(Y,p)};return y>1||this.__actions__.length||!(I instanceof Ut)||!Vo(E)?this.thru(j):(I=I.slice(E,+E+(y?1:0)),I.__actions__.push({func:ki,args:[j],thisArg:t}),new us(I,this.__chain__).thru(function(Y){return y&&!Y.length&&Y.push(t),Y}))});function Us(){return Bf(this)}function Ix(){return new us(this.value(),this.__chain__)}function Ox(){this.__values__===t&&(this.__values__=Fs(this.value()));var p=this.__index__>=this.__values__.length,y=p?t:this.__values__[this.__index__++];return{done:p,value:y}}function aA(){return this}function Zl(p){for(var y,E=this;E instanceof io;){var I=Wr(E);I.__index__=0,I.__values__=t,y?j.__wrapped__=I:y=I;var j=I;E=E.__wrapped__}return j.__wrapped__=p,y}function bg(){var p=this.__wrapped__;if(p instanceof Ut){var y=p;return this.__actions__.length&&(y=new Ut(this)),y=y.reverse(),y.__actions__.push({func:ki,args:[w0],thisArg:t}),new us(y,this.__chain__)}return this.thru(w0)}function R0(){return Z1(this.__wrapped__,this.__actions__)}var zf=hu(function(p,y,E){Sn.call(p,E)?++p[E]:No(p,E,1)});function Nx(p,y,E){var I=yt(p)?uf:Fv;return E&&$i(p,y,E)&&(y=t),I(p,ot(y,3))}function Px(p,y){var E=yt(p)?as:In;return E(p,ot(y,3))}var Lx=tl(ao),k0=tl(y0);function M0(p,y){return nn(Jh(p,y),1)}function lA(p,y){return nn(Jh(p,y),se)}function cA(p,y,E){return E=E===t?1:Tt(E),nn(Jh(p,y),E)}function Vx(p,y){var E=yt(p)?zi:Ja;return E(p,ot(y,3))}function D0(p,y){var E=yt(p)?Cm:Hm;return E(p,ot(y,3))}var Bx=hu(function(p,y,E){Sn.call(p,E)?p[E].push(y):No(p,E,[y])});function jf(p,y,E,I){p=Gr(p)?p:Gf(p),E=E&&!I?Tt(E):0;var j=p.length;return E<0&&(E=Jn(j+E,0)),Dg(p)?E<=j&&p.indexOf(y,E)>-1:!!j&&Ga(p,y,E)>-1}var wg=Pt(function(p,y,E){var I=-1,j=typeof y=="function",Y=Gr(p)?me(p.length):[];return Ja(p,function(Z){Y[++I]=j?gi(y,Z,E):uu(Z,y,E)}),Y}),zx=hu(function(p,y,E){No(p,E,y)});function Jh(p,y){var E=yt(p)?Un:Yv;return E(p,ot(y,3))}function jx(p,y,E,I){return p==null?[]:(yt(y)||(y=y==null?[]:[y]),E=I?t:E,yt(E)||(E=E==null?[]:[E]),Jv(p,y,E))}var Ux=hu(function(p,y,E){p[E?0:1].push(y)},function(){return[[],[]]});function Fx(p,y,E){var I=yt(p)?ko:ue,j=arguments.length<3;return I(p,ot(y,4),E,j,Ja)}function Hx(p,y,E){var I=yt(p)?Am:ue,j=arguments.length<3;return I(p,ot(y,4),E,j,Hm)}function xg(p,y){var E=yt(p)?as:In;return E(p,rp(ot(y,3)))}function $x(p){var y=yt(p)?wf:_f;return y(p)}function qx(p,y,E){(E?$i(p,y,E):y===t)?y=1:y=Tt(y);var I=yt(p)?U1:Zm;return I(p,y)}function $n(p){var y=yt(p)?F1:Q1;return y(p)}function I0(p){if(p==null)return 0;if(Gr(p))return Dg(p)?ca(p):p.length;var y=li(p);return y==Dt||y==ln?p.size:Gm(p).length}function uA(p,y,E){var I=yt(p)?ff:J1;return E&&$i(p,y,E)&&(y=t),I(p,ot(y,3))}var Wx=Pt(function(p,y){if(p==null)return[];var E=y.length;return E>1&&$i(p,y[0],y[1])?y=[]:E>2&&$i(y[0],y[1],y[2])&&(y=[y[0]]),Jv(p,nn(y,1),[])}),Sg=nu||function(){return Xn.Date.now()};function fA(p,y){if(typeof y!="function")throw new Ps(o);return p=Tt(p),function(){if(--p<1)return y.apply(this,arguments)}}function Gx(p,y,E){return y=E?t:y,y=p&&y==null?p.length:y,ha(p,O,t,t,t,t,y)}function Zh(p,y){var E;if(typeof y!="function")throw new Ps(o);return p=Tt(p),function(){return--p>0&&(E=y.apply(this,arguments)),p<=1&&(y=t),E}}var ec=Pt(function(p,y,E){var I=C;if(E.length){var j=Ll(E,yu(ec));I|=H}return ha(p,I,y,E,j)}),Eg=Pt(function(p,y,E){var I=C|k;if(E.length){var j=Ll(E,yu(Eg));I|=H}return ha(y,I,p,E,j)});function ep(p,y,E){y=E?t:y;var I=ha(p,z,t,t,t,t,t,y);return I.placeholder=ep.placeholder,I}function _g(p,y,E){y=E?t:y;var I=ha(p,P,t,t,t,t,t,y);return I.placeholder=_g.placeholder,I}function tc(p,y,E){var I,j,Y,Z,re,ce,ke=0,De=!1,Pe=!1,qe=!0;if(typeof p!="function")throw new Ps(o);y=uo(y)||0,ar(E)&&(De=!!E.leading,Pe="maxWait"in E,Y=Pe?Jn(uo(E.maxWait)||0,y):Y,qe="trailing"in E?!!E.trailing:qe);function tt(Xr){var ul=I,xu=j;return I=j=t,ke=Xr,Z=p.apply(xu,ul),Z}function pt(Xr){return ke=Xr,re=kf(an,y),De?tt(Xr):Z}function Ht(Xr){var ul=Xr-ce,xu=Xr-ke,bN=y-ul;return Pe?ir(bN,Y-xu):bN}function mt(Xr){var ul=Xr-ce,xu=Xr-ke;return ce===t||ul>=y||ul<0||Pe&&xu>=Y}function an(){var Xr=Sg();if(mt(Xr))return gn(Xr);re=kf(an,Ht(Xr))}function gn(Xr){return re=t,qe&&I?tt(Xr):(I=j=t,Z)}function jo(){re!==t&&tx(re),ke=0,I=ce=j=re=t}function Hs(){return re===t?Z:gn(Sg())}function Uo(){var Xr=Sg(),ul=mt(Xr);if(I=arguments,j=this,ce=Xr,ul){if(re===t)return pt(ce);if(Pe)return tx(re),re=kf(an,y),tt(ce)}return re===t&&(re=kf(an,y)),Z}return Uo.cancel=jo,Uo.flush=Hs,Uo}var ya=Pt(function(p,y){return lu(p,1,y)}),tp=Pt(function(p,y,E){return lu(p,uo(y)||0,E)});function dA(p){return ha(p,V)}function np(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new Ps(o);var E=function(){var I=arguments,j=y?y.apply(this,I):I[0],Y=E.cache;if(Y.has(j))return Y.get(j);var Z=p.apply(this,I);return E.cache=Y.set(j,Z)||Y,Z};return E.cache=new(np.Cache||fs),E}np.Cache=fs;function rp(p){if(typeof p!="function")throw new Ps(o);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function Kx(p){return Zh(2,p)}var Yx=ex(function(p,y){y=y.length==1&&yt(y[0])?Un(y[0],An(ot())):Un(nn(y,1),An(ot()));var E=y.length;return Pt(function(I){for(var j=-1,Y=ir(I.length,E);++j<Y;)I[j]=y[j].call(this,I[j]);return gi(p,this,I)})}),O0=Pt(function(p,y){var E=Ll(y,yu(O0));return ha(p,H,t,y,E)}),Tg=Pt(function(p,y){var E=Ll(y,yu(Tg));return ha(p,U,t,y,E)}),Xx=Zn(function(p,y){return ha(p,D,t,t,t,y)});function Qx(p,y){if(typeof p!="function")throw new Ps(o);return y=y===t?y:Tt(y),Pt(p,y)}function hA(p,y){if(typeof p!="function")throw new Ps(o);return y=y==null?0:Jn(Tt(y),0),Pt(function(E){var I=E[y],j=$l(E,0,y);return I&&Js(j,I),gi(p,this,j)})}function N0(p,y,E){var I=!0,j=!0;if(typeof p!="function")throw new Ps(o);return ar(E)&&(I="leading"in E?!!E.leading:I,j="trailing"in E?!!E.trailing:j),tc(p,y,{leading:I,maxWait:y,trailing:j})}function P0(p){return Gx(p,1)}function pA(p,y){return O0(Nh(y),p)}function mA(){if(!arguments.length)return[];var p=arguments[0];return yt(p)?p:[p]}function ip(p){return Ci(p,b)}function gA(p,y){return y=typeof y=="function"?y:t,Ci(p,b,y)}function Jx(p){return Ci(p,m|b)}function Qt(p,y){return y=typeof y=="function"?y:t,Ci(p,m|b,y)}function L0(p,y){return y==null||Uv(p,y,Yr(y))}function vs(p,y){return p===y||p!==p&&y!==y}var V0=gu(_h),Zx=gu(function(p,y){return p>=y}),ll=$m(function(){return arguments}())?$m:function(p){return fr(p)&&Sn.call(p,"callee")&&!eu.call(p,"callee")},yt=me.isArray,Cg=Wc?An(Wc):ds;function Gr(p){return p!=null&&wu(p.length)&&!Bo(p)}function vr(p){return fr(p)&&Gr(p)}function yA(p){return p===!0||p===!1||fr(p)&&on(p)==Le}var nc=Vm||UA,eS=cf?An(cf):Or;function tS(p){return fr(p)&&p.nodeType===1&&!co(p)}function Ag(p){if(p==null)return!0;if(Gr(p)&&(yt(p)||typeof p=="string"||typeof p.splice=="function"||nc(p)||Uf(p)||ll(p)))return!p.length;var y=li(p);if(y==Dt||y==ln)return!p.size;if(Hn(p))return!Gm(p).length;for(var E in p)if(Sn.call(p,E))return!1;return!0}function Ln(p,y){return fu(p,y)}function B0(p,y,E){E=typeof E=="function"?E:t;var I=E?E(p,y):t;return I===t?fu(p,y,t,E):!!I}function Kr(p){if(!fr(p))return!1;var y=on(p);return y==Lt||y==it||typeof p.message=="string"&&typeof p.name=="string"&&!co(p)}function vA(p){return typeof p=="number"&&mh(p)}function Bo(p){if(!ar(p))return!1;var y=on(p);return y==Kt||y==Et||y==Ae||y==Pn}function Rg(p){return typeof p=="number"&&p==Tt(p)}function wu(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=te}function ar(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function fr(p){return p!=null&&typeof p=="object"}var kg=Gc?An(Gc):qm;function z0(p,y){return p===y||Ch(p,y,ug(y))}function bA(p,y,E){return E=typeof E=="function"?E:t,Ch(p,y,ug(y),E)}function nS(p){return iS(p)&&p!=+p}function wA(p){if($h(p))throw new dt(s);return fa(p)}function rS(p){return p===null}function xA(p){return p==null}function iS(p){return typeof p=="number"||fr(p)&&on(p)==tr}function co(p){if(!fr(p)||on(p)!=jt)return!1;var y=dh(p);if(y===null)return!0;var E=Sn.call(y,"constructor")&&y.constructor;return typeof E=="function"&&E instanceof E&&fh.call(E)==eo}var Mg=lh?An(lh):Wm;function j0(p){return Rg(p)&&p>=-te&&p<=te}var sS=Kc?An(Kc):Wv;function Dg(p){return typeof p=="string"||!yt(p)&&fr(p)&&on(p)==_n}function qi(p){return typeof p=="symbol"||fr(p)&&on(p)==Wn}var Uf=Tm?An(Tm):Gv;function zo(p){return p===t}function U0(p){return fr(p)&&li(p)==Li}function oS(p){return fr(p)&&on(p)==yn}var aS=gu(Km),sp=gu(function(p,y){return p<=y});function Fs(p){if(!p)return[];if(Gr(p))return Dg(p)?Zs(p):qr(p);if(tu&&p[tu])return A1(p[tu]());var y=li(p),E=y==Dt?Dm:y==ln?Im:Gf;return E(p)}function va(p){if(!p)return p===0?p:0;if(p=uo(p),p===se||p===-se){var y=p<0?-1:1;return y*we}return p===p?p:0}function Tt(p){var y=va(p),E=y%1;return y===y?E?y-E:y:0}function ba(p){return p?Po(Tt(p),0,ae):0}function uo(p){if(typeof p=="number")return p;if(qi(p))return Q;if(ar(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=ar(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=sn(p);var E=Sr.test(p);return E||Ju.test(p)?_m(p.slice(2),E?2:8):Bi.test(p)?Q:+p}function lS(p){return ps(p,ci(p))}function Ff(p){return p?Po(Tt(p),-te,te):p===0?p:0}function En(p){return p==null?"":hs(p)}var SA=pu(function(p,y){if(Hn(y)||Gr(y)){ps(y,Yr(y),p);return}for(var E in y)Sn.call(y,E)&&au(p,E,y[E])}),cS=pu(function(p,y){ps(y,ci(y),p)}),Ig=pu(function(p,y,E,I){ps(y,ci(y),p,I)}),EA=pu(function(p,y,E,I){ps(y,Yr(y),p,I)}),_A=Zn(Eh);function TA(p,y){var E=Ls(p);return y==null?E:Qa(E,y)}var CA=Pt(function(p,y){p=pn(p);var E=-1,I=y.length,j=I>2?y[2]:t;for(j&&$i(y[0],y[1],j)&&(I=1);++E<I;)for(var Y=y[E],Z=ci(Y),re=-1,ce=Z.length;++re<ce;){var ke=Z[re],De=p[ke];(De===t||vs(De,pf[ke])&&!Sn.call(p,ke))&&(p[ke]=Y[ke])}return p}),uS=Pt(function(p){return p.push(t,u0),gi(cp,t,p)});function Hf(p,y){return Ti(p,ot(y,3),Ai)}function op(p,y){return Ti(p,ot(y,3),Ef)}function fS(p,y){return p==null?p:Sf(p,ot(y,3),ci)}function AA(p,y){return p==null?p:cu(p,ot(y,3),ci)}function $f(p,y){return p&&Ai(p,ot(y,3))}function ap(p,y){return p&&Ef(p,ot(y,3))}function dS(p){return p==null?[]:Hl(p,Yr(p))}function Og(p){return p==null?[]:Hl(p,ci(p))}function lp(p,y,E){var I=p==null?t:so(p,y);return I===t?E:I}function F0(p,y){return p!=null&&Hh(p,y,Hv)}function qf(p,y){return p!=null&&Hh(p,y,q1)}var hS=Vh(function(p,y,E){y!=null&&typeof y.toString!="function"&&(y=ji.call(y)),p[y]=E},de(he)),pS=Vh(function(p,y,E){y!=null&&typeof y.toString!="function"&&(y=ji.call(y)),Sn.call(p,y)?p[y].push(E):p[y]=[E]},ot),RA=Pt(uu);function Yr(p){return Gr(p)?jv(p):Gm(p)}function ci(p){return Gr(p)?jv(p,!0):G1(p)}function kA(p,y){var E={};return y=ot(y,3),Ai(p,function(I,j,Y){No(E,y(I,j,Y),I)}),E}function MA(p,y){var E={};return y=ot(y,3),Ai(p,function(I,j,Y){No(E,j,y(I,j,Y))}),E}var DA=pu(function(p,y,E){Ah(p,y,E)}),cp=pu(function(p,y,E,I){Ah(p,y,E,I)}),Ng=Zn(function(p,y){var E={};if(p==null)return E;var I=!1;y=Un(y,function(Y){return Y=el(Y,p),I||(I=Y.length>1),Y}),ps(p,lg(p),E),I&&(E=Ci(E,m|g|b,cx));for(var j=y.length;j--;)Dh(E,y[j]);return E});function H0(p,y){return Wf(p,rp(ot(y)))}var IA=Zn(function(p,y){return p==null?{}:K1(p,y)});function Wf(p,y){if(p==null)return{};var E=Un(lg(p),function(I){return[I]});return y=ot(y),Xm(p,E,function(I,j){return y(I,j[0])})}function OA(p,y,E){y=el(y,p);var I=-1,j=y.length;for(j||(j=1,p=t);++I<j;){var Y=p==null?t:p[Rn(y[I])];Y===t&&(I=j,Y=E),p=Bo(Y)?Y.call(p):Y}return p}function mS(p,y,E){return p==null?p:Tf(p,y,E)}function gS(p,y,E,I){return I=typeof I=="function"?I:t,p==null?p:Tf(p,y,E,I)}var $0=jh(Yr),q0=jh(ci);function W0(p,y,E){var I=yt(p),j=I||nc(p)||Uf(p);if(y=ot(y,4),E==null){var Y=p&&p.constructor;j?E=I?new Y:[]:ar(p)?E=Bo(Y)?Ls(dh(p)):{}:E={}}return(j?zi:Ai)(p,function(Z,re,ce){return y(E,Z,re,ce)}),E}function yS(p,y){return p==null?!0:Dh(p,y)}function Pg(p,y,E){return p==null?p:n0(p,y,Nh(E))}function NA(p,y,E,I){return I=typeof I=="function"?I:t,p==null?p:n0(p,y,Nh(E),I)}function Gf(p){return p==null?[]:Er(p,Yr(p))}function G0(p){return p==null?[]:Er(p,ci(p))}function K0(p,y,E){return E===t&&(E=y,y=t),E!==t&&(E=uo(E),E=E===E?E:0),y!==t&&(y=uo(y),y=y===y?y:0),Po(uo(p),y,E)}function Lg(p,y,E){return y=va(y),E===t?(E=y,y=0):E=va(E),p=uo(p),W1(p,y,E)}function Y0(p,y,E){if(E&&typeof E!="boolean"&&$i(p,y,E)&&(y=E=t),E===t&&(typeof y=="boolean"?(E=y,y=t):typeof p=="boolean"&&(E=p,p=t)),p===t&&y===t?(p=0,y=1):(p=va(p),y===t?(y=p,p=0):y=va(y)),p>y){var I=p;p=y,y=I}if(E||p%1||y%1){var j=Pv();return ir(p+j*(y-p+$c("1e-"+((j+"").length-1))),y)}return Jm(p,y)}var vS=Hi(function(p,y,E){return y=y.toLowerCase(),p+(E?Vg(y):y)});function Vg(p){return v(En(p).toLowerCase())}function cl(p){return p=En(p),p&&p.replace(za,Mm).replace(Ro,"")}function rc(p,y,E){p=En(p),y=hs(y);var I=p.length;E=E===t?I:Po(Tt(E),0,I);var j=E;return E-=y.length,E>=0&&p.slice(E,j)==y}function ic(p){return p=En(p),p&&st.test(p)?p.replace(Si,_1):p}function up(p){return p=En(p),p&&bn.test(p)?p.replace(Kn,"\\$&"):p}var fp=Hi(function(p,y,E){return p+(E?"-":"")+y.toLowerCase()}),sc=Hi(function(p,y,E){return p+(E?" ":"")+y.toLowerCase()}),PA=Bs("toLowerCase");function bS(p,y,E){p=En(p),y=Tt(y);var I=y?ca(p):0;if(!y||I>=y)return p;var j=(y-I)/2;return zh(Ka(j),E)+p+zh(yf(j),E)}function dp(p,y,E){p=En(p),y=Tt(y);var I=y?ca(p):0;return y&&I<y?p+zh(y-I,E):p}function LA(p,y,E){p=En(p),y=Tt(y);var I=y?ca(p):0;return y&&I<y?zh(y-I,E)+p:p}function wS(p,y,E){return E||y==null?y=0:y&&(y=+y),ru(En(p).replace(Yn,""),y||0)}function Bg(p,y,E){return(E?$i(p,y,E):y===t)?y=1:y=Tt(y),e0(En(p),y)}function xS(){var p=arguments,y=En(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var VA=Hi(function(p,y,E){return p+(E?"_":"")+y.toLowerCase()});function zg(p,y,E){return E&&typeof E!="number"&&$i(p,y,E)&&(y=E=t),E=E===t?ae:E>>>0,E?(p=En(p),p&&(typeof y=="string"||y!=null&&!Mg(y))&&(y=hs(y),!y&&Pl(p))?$l(Zs(p),0,E):p.split(y,E)):[]}var jg=Hi(function(p,y,E){return p+(E?" ":"")+v(y)});function SS(p,y,E){return p=En(p),E=E==null?0:Po(Tt(E),0,p.length),y=hs(y),p.slice(E,E+y.length)==y}function hp(p,y,E){var I=$.templateSettings;E&&$i(p,y,E)&&(y=t),p=En(p),y=Ig({},y,I,og);var j=Ig({},y.imports,I.imports,og),Y=Yr(j),Z=Er(j,Y),re,ce,ke=0,De=y.interpolate||zc,Pe="__p += '",qe=Om((y.escape||zc).source+"|"+De.source+"|"+(De===ur?ea:zc).source+"|"+(y.evaluate||zc).source+"|$","g"),tt="//# sourceURL="+(Sn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ih+"]")+`
`;p.replace(qe,function(mt,an,gn,jo,Hs,Uo){return gn||(gn=jo),Pe+=p.slice(ke,Uo).replace(vm,T1),an&&(re=!0,Pe+=`' +
__e(`+an+`) +
'`),Hs&&(ce=!0,Pe+=`';
`+Hs+`;
__p += '`),gn&&(Pe+=`' +
((__t = (`+gn+`)) == null ? '' : __t) +
'`),ke=Uo+mt.length,mt}),Pe+=`';
`;var pt=Sn.call(y,"variable")&&y.variable;if(!pt)Pe=`with (obj) {
`+Pe+`
}
`;else if(kl.test(pt))throw new dt(a);Pe=(ce?Pe.replace(Ct,""):Pe).replace(Tn,"$1").replace(Mr,"$1;"),Pe="function("+(pt||"obj")+`) {
`+(pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(re?", __e = _.escape":"")+(ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pe+`return __p
}`;var Ht=T(function(){return hn(Y,tt+"return "+Pe).apply(t,Z)});if(Ht.source=Pe,Kr(Ht))throw Ht;return Ht}function X0(p){return En(p).toLowerCase()}function Ug(p){return En(p).toUpperCase()}function ES(p,y,E){if(p=En(p),p&&(E||y===t))return sn(p);if(!p||!(y=hs(y)))return p;var I=Zs(p),j=Zs(y),Y=oi(I,j),Z=Mo(I,j)+1;return $l(I,Y,Z).join("")}function BA(p,y,E){if(p=En(p),p&&(E||y===t))return p.slice(0,Mv(p)+1);if(!p||!(y=hs(y)))return p;var I=Zs(p),j=Mo(I,Zs(y))+1;return $l(I,0,j).join("")}function Fg(p,y,E){if(p=En(p),p&&(E||y===t))return p.replace(Yn,"");if(!p||!(y=hs(y)))return p;var I=Zs(p),j=oi(I,Zs(y));return $l(I,j).join("")}function l(p,y){var E=F,I=W;if(ar(y)){var j="separator"in y?y.separator:j;E="length"in y?Tt(y.length):E,I="omission"in y?hs(y.omission):I}p=En(p);var Y=p.length;if(Pl(p)){var Z=Zs(p);Y=Z.length}if(E>=Y)return p;var re=E-ca(I);if(re<1)return I;var ce=Z?$l(Z,0,re).join(""):p.slice(0,re);if(j===t)return ce+I;if(Z&&(re+=ce.length-re),Mg(j)){if(p.slice(re).search(j)){var ke,De=ce;for(j.global||(j=Om(j.source,En(Co.exec(j))+"g")),j.lastIndex=0;ke=j.exec(De);)var Pe=ke.index;ce=ce.slice(0,Pe===t?re:Pe)}}else if(p.indexOf(hs(j),re)!=re){var qe=ce.lastIndexOf(j);qe>-1&&(ce=ce.slice(0,qe))}return ce+I}function u(p){return p=En(p),p&&Ei.test(p)?p.replace(Fr,k1):p}var h=Hi(function(p,y,E){return p+(E?" ":"")+y.toUpperCase()}),v=Bs("toUpperCase");function S(p,y,E){return p=En(p),y=E?t:y,y===t?C1(p)?XC(p):df(p):p.match(y)||[]}var T=Pt(function(p,y){try{return gi(p,t,y)}catch(E){return Kr(E)?E:new dt(E)}}),B=Zn(function(p,y){return zi(y,function(E){E=Rn(E),No(p,E,ec(p[E],p))}),p});function q(p){var y=p==null?0:p.length,E=ot();return p=y?Un(p,function(I){if(typeof I[1]!="function")throw new Ps(o);return[E(I[0]),I[1]]}):[],Pt(function(I){for(var j=-1;++j<y;){var Y=p[j];if(gi(Y[0],this,I))return gi(Y[1],this,I)}})}function ee(p){return H1(Ci(p,m))}function de(p){return function(){return p}}function _e(p,y){return p==null||p!==p?y:p}var Me=da(),pe=da(!0);function he(p){return p}function ct(p){return Kv(typeof p=="function"?p:Ci(p,m))}function lt(p){return Xv(Ci(p,m))}function Vn(p,y){return Ym(p,Ci(y,m))}var le=Pt(function(p,y){return function(E){return uu(E,p,y)}}),ie=Pt(function(p,y){return function(E){return uu(p,E,y)}});function fe(p,y,E){var I=Yr(y),j=Hl(y,I);E==null&&!(ar(y)&&(j.length||!I.length))&&(E=y,y=p,p=this,j=Hl(y,Yr(y)));var Y=!(ar(E)&&"chain"in E)||!!E.chain,Z=Bo(p);return zi(j,function(re){var ce=y[re];p[re]=ce,Z&&(p.prototype[re]=function(){var ke=this.__chain__;if(Y||ke){var De=p(this.__wrapped__),Pe=De.__actions__=qr(this.__actions__);return Pe.push({func:ce,args:arguments,thisArg:p}),De.__chain__=ke,De}return ce.apply(p,Js([this.value()],arguments))})}),p}function Ce(){return Xn._===this&&(Xn._=mf),this}function We(){}function Ft(p){return p=Tt(p),Pt(function(y){return Qv(y,p)})}var nt=Bh(Un),ut=Bh(uf),ui=Bh(ff);function mn(p){return dg(p)?L(Rn(p)):Y1(p)}function oc(p){return function(y){return p==null?t:so(p,y)}}var zA=ql(),T7=ql(!0);function jA(){return[]}function UA(){return!1}function C7(){return{}}function A7(){return""}function R7(){return!0}function k7(p,y){if(p=Tt(p),p<1||p>te)return[];var E=ae,I=ir(p,ae);y=ot(y),p-=ae;for(var j=en(I,y);++E<p;)y(E);return j}function M7(p){return yt(p)?Un(p,Rn):qi(p)?[p]:qr(ma(En(p)))}function D7(p){var y=++Do;return En(p)+y}var I7=Cf(function(p,y){return p+y},0),O7=sg("ceil"),N7=Cf(function(p,y){return p/y},1),P7=sg("floor");function L7(p){return p&&p.length?Lo(p,he,_h):t}function V7(p,y){return p&&p.length?Lo(p,ot(y,2),_h):t}function B7(p){return M(p,he)}function z7(p,y){return M(p,ot(y,2))}function j7(p){return p&&p.length?Lo(p,he,Km):t}function U7(p,y){return p&&p.length?Lo(p,ot(y,2),Km):t}var F7=Cf(function(p,y){return p*y},1),H7=sg("round"),$7=Cf(function(p,y){return p-y},0);function q7(p){return p&&p.length?ze(p,he):0}function W7(p,y){return p&&p.length?ze(p,ot(y,2)):0}return $.after=fA,$.ary=Gx,$.assign=SA,$.assignIn=cS,$.assignInWith=Ig,$.assignWith=EA,$.at=_A,$.before=Zh,$.bind=ec,$.bindAll=B,$.bindKey=Eg,$.castArray=mA,$.chain=Bf,$.chunk=iA,$.compact=wx,$.concat=xx,$.cond=q,$.conforms=ee,$.constant=de,$.countBy=zf,$.create=TA,$.curry=ep,$.curryRight=_g,$.debounce=tc,$.defaults=CA,$.defaultsDeep=uS,$.defer=ya,$.delay=tp,$.difference=or,$.differenceBy=ms,$.differenceWith=sl,$.drop=Sx,$.dropRight=Ex,$.dropRightWhile=sA,$.dropWhile=g0,$.fill=zs,$.filter=Px,$.flatMap=M0,$.flatMapDeep=lA,$.flatMapDepth=cA,$.flatten=gs,$.flattenDeep=_x,$.flattenDepth=Kl,$.flip=dA,$.flow=Me,$.flowRight=pe,$.fromPairs=vu,$.functions=dS,$.functionsIn=Og,$.groupBy=Bx,$.initial=b0,$.intersection=ga,$.intersectionBy=Tx,$.intersectionWith=Mf,$.invert=hS,$.invertBy=pS,$.invokeMap=wg,$.iteratee=ct,$.keyBy=zx,$.keys=Yr,$.keysIn=ci,$.map=Jh,$.mapKeys=kA,$.mapValues=MA,$.matches=lt,$.matchesProperty=Vn,$.memoize=np,$.merge=DA,$.mergeWith=cp,$.method=le,$.methodOf=ie,$.mixin=fe,$.negate=rp,$.nthArg=Ft,$.omit=Ng,$.omitBy=H0,$.once=Kx,$.orderBy=jx,$.over=nt,$.overArgs=Yx,$.overEvery=ut,$.overSome=ui,$.partial=O0,$.partialRight=Tg,$.partition=Ux,$.pick=IA,$.pickBy=Wf,$.property=mn,$.propertyOf=oc,$.pull=Ax,$.pullAll=If,$.pullAllBy=Rx,$.pullAllWith=vg,$.pullAt=kx,$.range=zA,$.rangeRight=T7,$.rearg=Xx,$.reject=xg,$.remove=oA,$.rest=Qx,$.reverse=w0,$.sampleSize=qx,$.set=mS,$.setWith=gS,$.shuffle=$n,$.slice=On,$.sortBy=Wx,$.sortedUniq=Of,$.sortedUniqBy=x0,$.split=zg,$.spread=hA,$.tail=al,$.take=yr,$.takeRight=Xl,$.takeRightWhile=bu,$.takeWhile=S0,$.tap=A0,$.throttle=N0,$.thru=ki,$.toArray=Fs,$.toPairs=$0,$.toPairsIn=q0,$.toPath=M7,$.toPlainObject=lS,$.transform=W0,$.unary=P0,$.union=lo,$.unionBy=Nf,$.unionWith=Xh,$.uniq=ys,$.uniqBy=E0,$.uniqWith=_0,$.unset=yS,$.unzip=Pf,$.unzipWith=Qh,$.update=Pg,$.updateWith=NA,$.values=Gf,$.valuesIn=G0,$.without=Ql,$.words=S,$.wrap=pA,$.xor=yi,$.xorBy=Jl,$.xorWith=Lf,$.zip=Vf,$.zipObject=T0,$.zipObjectDeep=C0,$.zipWith=Mx,$.entries=$0,$.entriesIn=q0,$.extend=cS,$.extendWith=Ig,fe($,$),$.add=I7,$.attempt=T,$.camelCase=vS,$.capitalize=Vg,$.ceil=O7,$.clamp=K0,$.clone=ip,$.cloneDeep=Jx,$.cloneDeepWith=Qt,$.cloneWith=gA,$.conformsTo=L0,$.deburr=cl,$.defaultTo=_e,$.divide=N7,$.endsWith=rc,$.eq=vs,$.escape=ic,$.escapeRegExp=up,$.every=Nx,$.find=Lx,$.findIndex=ao,$.findKey=Hf,$.findLast=k0,$.findLastIndex=y0,$.findLastKey=op,$.floor=P7,$.forEach=Vx,$.forEachRight=D0,$.forIn=fS,$.forInRight=AA,$.forOwn=$f,$.forOwnRight=ap,$.get=lp,$.gt=V0,$.gte=Zx,$.has=F0,$.hasIn=qf,$.head=ol,$.identity=he,$.includes=jf,$.indexOf=v0,$.inRange=Lg,$.invoke=RA,$.isArguments=ll,$.isArray=yt,$.isArrayBuffer=Cg,$.isArrayLike=Gr,$.isArrayLikeObject=vr,$.isBoolean=yA,$.isBuffer=nc,$.isDate=eS,$.isElement=tS,$.isEmpty=Ag,$.isEqual=Ln,$.isEqualWith=B0,$.isError=Kr,$.isFinite=vA,$.isFunction=Bo,$.isInteger=Rg,$.isLength=wu,$.isMap=kg,$.isMatch=z0,$.isMatchWith=bA,$.isNaN=nS,$.isNative=wA,$.isNil=xA,$.isNull=rS,$.isNumber=iS,$.isObject=ar,$.isObjectLike=fr,$.isPlainObject=co,$.isRegExp=Mg,$.isSafeInteger=j0,$.isSet=sS,$.isString=Dg,$.isSymbol=qi,$.isTypedArray=Uf,$.isUndefined=zo,$.isWeakMap=U0,$.isWeakSet=oS,$.join=Yh,$.kebabCase=fp,$.last=Ri,$.lastIndexOf=Df,$.lowerCase=sc,$.lowerFirst=PA,$.lt=aS,$.lte=sp,$.max=L7,$.maxBy=V7,$.mean=B7,$.meanBy=z7,$.min=j7,$.minBy=U7,$.stubArray=jA,$.stubFalse=UA,$.stubObject=C7,$.stubString=A7,$.stubTrue=R7,$.multiply=F7,$.nth=Cx,$.noConflict=Ce,$.noop=We,$.now=Sg,$.pad=bS,$.padEnd=dp,$.padStart=LA,$.parseInt=wS,$.random=Y0,$.reduce=Fx,$.reduceRight=Hx,$.repeat=Bg,$.replace=xS,$.result=OA,$.round=H7,$.runInContext=oe,$.sample=$x,$.size=I0,$.snakeCase=VA,$.some=uA,$.sortedIndex=Qn,$.sortedIndexBy=Xt,$.sortedIndexOf=un,$.sortedLastIndex=Nn,$.sortedLastIndexBy=js,$.sortedLastIndexOf=Yl,$.startCase=jg,$.startsWith=SS,$.subtract=$7,$.sum=q7,$.sumBy=W7,$.template=hp,$.times=k7,$.toFinite=va,$.toInteger=Tt,$.toLength=ba,$.toLower=X0,$.toNumber=uo,$.toSafeInteger=Ff,$.toString=En,$.toUpper=Ug,$.trim=ES,$.trimEnd=BA,$.trimStart=Fg,$.truncate=l,$.unescape=u,$.uniqueId=D7,$.upperCase=h,$.upperFirst=v,$.each=Vx,$.eachRight=D0,$.first=ol,fe($,function(){var p={};return Ai($,function(y,E){Sn.call($.prototype,E)||(p[E]=y)}),p}(),{chain:!1}),$.VERSION=r,zi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){$[p].placeholder=$}),zi(["drop","take"],function(p,y){Ut.prototype[p]=function(E){E=E===t?1:Jn(Tt(E),0);var I=this.__filtered__&&!y?new Ut(this):this.clone();return I.__filtered__?I.__takeCount__=ir(E,I.__takeCount__):I.__views__.push({size:ir(E,ae),type:p+(I.__dir__<0?"Right":"")}),I},Ut.prototype[p+"Right"]=function(E){return this.reverse()[p](E).reverse()}}),zi(["filter","map","takeWhile"],function(p,y){var E=y+1,I=E==Te||E==J;Ut.prototype[p]=function(j){var Y=this.clone();return Y.__iteratees__.push({iteratee:ot(j,3),type:E}),Y.__filtered__=Y.__filtered__||I,Y}}),zi(["head","last"],function(p,y){var E="take"+(y?"Right":"");Ut.prototype[p]=function(){return this[E](1).value()[0]}}),zi(["initial","tail"],function(p,y){var E="drop"+(y?"":"Right");Ut.prototype[p]=function(){return this.__filtered__?new Ut(this):this[E](1)}}),Ut.prototype.compact=function(){return this.filter(he)},Ut.prototype.find=function(p){return this.filter(p).head()},Ut.prototype.findLast=function(p){return this.reverse().find(p)},Ut.prototype.invokeMap=Pt(function(p,y){return typeof p=="function"?new Ut(this):this.map(function(E){return uu(E,p,y)})}),Ut.prototype.reject=function(p){return this.filter(rp(ot(p)))},Ut.prototype.slice=function(p,y){p=Tt(p);var E=this;return E.__filtered__&&(p>0||y<0)?new Ut(E):(p<0?E=E.takeRight(-p):p&&(E=E.drop(p)),y!==t&&(y=Tt(y),E=y<0?E.dropRight(-y):E.take(y-p)),E)},Ut.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Ut.prototype.toArray=function(){return this.take(ae)},Ai(Ut.prototype,function(p,y){var E=/^(?:filter|find|map|reject)|While$/.test(y),I=/^(?:head|last)$/.test(y),j=$[I?"take"+(y=="last"?"Right":""):y],Y=I||/^find/.test(y);j&&($.prototype[y]=function(){var Z=this.__wrapped__,re=I?[1]:arguments,ce=Z instanceof Ut,ke=re[0],De=ce||yt(Z),Pe=function(an){var gn=j.apply($,Js([an],re));return I&&qe?gn[0]:gn};De&&E&&typeof ke=="function"&&ke.length!=1&&(ce=De=!1);var qe=this.__chain__,tt=!!this.__actions__.length,pt=Y&&!qe,Ht=ce&&!tt;if(!Y&&De){Z=Ht?Z:new Ut(this);var mt=p.apply(Z,re);return mt.__actions__.push({func:ki,args:[Pe],thisArg:t}),new us(mt,qe)}return pt&&Ht?p.apply(this,re):(mt=this.thru(Pe),pt?I?mt.value()[0]:mt.value():mt)})}),zi(["pop","push","shift","sort","splice","unshift"],function(p){var y=Nm[p],E=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",I=/^(?:pop|shift)$/.test(p);$.prototype[p]=function(){var j=arguments;if(I&&!this.__chain__){var Y=this.value();return y.apply(yt(Y)?Y:[],j)}return this[E](function(Z){return y.apply(yt(Z)?Z:[],j)})}}),Ai(Ut.prototype,function(p,y){var E=$[y];if(E){var I=E.name+"";Sn.call(ro,I)||(ro[I]=[]),ro[I].push({name:y,func:E})}}),ro[gr(t,k).name]=[{name:"wrapper",func:t}],Ut.prototype.clone=bh,Ut.prototype.reverse=Bm,Ut.prototype.value=su,$.prototype.at=Dx,$.prototype.chain=Us,$.prototype.commit=Ix,$.prototype.next=Ox,$.prototype.plant=Zl,$.prototype.reverse=bg,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=R0,$.prototype.first=$.prototype.head,tu&&($.prototype[tu]=aA),$},Vl=hf();ii?((ii.exports=Vl)._=Vl,Wa._=Vl):Xn._=Vl}).call(Zse)}(gb,gb.exports)),gb.exports}var toe=eoe();class noe{constructor(){vt(this,"db",{});vt(this,"store",{});vt(this,"getDB",async e=>(this.db[e]||(this.db[e]=await Gse(e,1,{upgrade(t){t.createObjectStore("data")}})),this.db[e]));vt(this,"get",async(e,t,r)=>(await this.getDB(e)).get(t,r));vt(this,"set",async(e,t,r,i)=>(await this.getDB(e)).put(t,i,r));vt(this,"update",async(e,t,r,i)=>{let s=await this.get(e,t,r);return s||(s={}),s=toe.merge(s,i),(await this.getDB(e)).put(t,s,r)});vt(this,"delete",async(e,t,r)=>(await this.getDB(e)).delete(t,r));vt(this,"clear",async(e,t)=>(await this.getDB(e)).clear(t));vt(this,"keys",async(e,t)=>(await this.getDB(e)).getAllKeys(t));vt(this,"initDb",(e,t)=>({get:async r=>await this.get(e,t,r),set:async(r,i)=>await this.set(e,t,r,i),update:async(r,i)=>await this.update(e,t,r,i),delete:async r=>await this.delete(e,t,r),clear:async()=>await this.clear(e,t),keys:async()=>await this.keys(e,t)}));vt(this,"tab",this.initDb("niti-tab-cache","data"))}}class roe{static createLocalDb(e){switch(e){case"indexeddb":return new noe;default:throw new Error(`Unknown local db type: ${e}`)}}}const ME=roe.createLocalDb("indexeddb");function ioe(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const soe=n=>{switch(n){case"success":return loe;case"info":return uoe;case"warning":return coe;case"error":return foe;default:return null}},ooe=Array(12).fill(0),aoe=({visible:n,className:e})=>Ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},Ne.createElement("div",{className:"sonner-spinner"},ooe.map((t,r)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),loe=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),coe=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uoe=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),foe=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),doe=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hoe=()=>{const[n,e]=Ne.useState(document.hidden);return Ne.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let IM=1;class poe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:IM++,o=this.toasts.find(c=>c.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:a,title:r}):c):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const a=i.then(async f=>{if(o=["resolve",f],Ne.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(goe(f)&&!f.ok){s=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,x=typeof m=="object"&&!Ne.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...x})}else if(f instanceof Error){s=!1;const m=typeof t.error=="function"?await t.error(f):t.error,g=typeof t.description=="function"?await t.description(f):t.description,x=typeof m=="object"&&!Ne.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...x})}else if(t.success!==void 0){s=!1;const m=typeof t.success=="function"?await t.success(f):t.success,g=typeof t.description=="function"?await t.description(f):t.description,x=typeof m=="object"&&!Ne.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:g,...x})}}).catch(async f=>{if(o=["reject",f],t.error!==void 0){s=!1;const d=typeof t.error=="function"?await t.error(f):t.error,m=typeof t.description=="function"?await t.description(f):t.description,b=typeof d=="object"&&!Ne.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...b})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),c=()=>new Promise((f,d)=>a.then(()=>o[0]==="reject"?d(o[1]):f(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||IM++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const po=new poe,moe=(n,e)=>{const t=(e==null?void 0:e.id)||IM++;return po.addToast({title:n,...e,id:t}),t},goe=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",yoe=moe,voe=()=>po.toasts,boe=()=>po.getActiveToasts(),woe=Object.assign(yoe,{success:po.success,info:po.info,warning:po.warning,error:po.error,custom:po.custom,message:po.message,promise:po.promise,dismiss:po.dismiss,loading:po.loading},{getHistory:voe,getToasts:boe});ioe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function zS(n){return n.label!==void 0}const xoe=3,Soe="24px",Eoe="16px",HL=4e3,_oe=356,Toe=14,Coe=45,Aoe=200;function ac(...n){return n.filter(Boolean).join(" ")}function Roe(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const koe=n=>{var e,t,r,i,s,o,a,c,f;const{invert:d,toast:m,unstyled:g,interacting:b,setHeights:x,visibleToasts:_,heights:C,index:k,toasts:N,expanded:z,removeToast:P,defaultRichColors:H,closeButton:U,style:O,cancelButtonStyle:D,actionButtonStyle:V,className:F="",descriptionClassName:W="",duration:X,position:G,gap:Te,expandByDefault:Ee,classNames:J,icons:se,closeButtonAriaLabel:te="Close toast"}=n,[we,Q]=Ne.useState(null),[ae,ve]=Ne.useState(null),[ne,ge]=Ne.useState(!1),[Re,ye]=Ne.useState(!1),[Ae,Le]=Ne.useState(!1),[He,it]=Ne.useState(!1),[Lt,Kt]=Ne.useState(!1),[Et,Dt]=Ne.useState(0),[tr,kr]=Ne.useState(0),jt=Ne.useRef(m.duration||X||HL),kn=Ne.useRef(null),Pn=Ne.useRef(null),nr=k===0,ln=k+1<=_,_n=m.type,Wn=m.dismissible!==!1,Ds=m.className||"",Li=m.descriptionClassName||"",yn=Ne.useMemo(()=>C.findIndex(st=>st.toastId===m.id)||0,[C,m.id]),Nt=Ne.useMemo(()=>{var st;return(st=m.closeButton)!=null?st:U},[m.closeButton,U]),Gn=Ne.useMemo(()=>m.duration||X||HL,[m.duration,X]),rr=Ne.useRef(0),Vi=Ne.useRef(0),Zo=Ne.useRef(0),ti=Ne.useRef(null),[Is,xe]=G.split("-"),Fe=Ne.useMemo(()=>C.reduce((st,Mn,vn)=>vn>=yn?st:st+Mn.height,0),[C,yn]),et=hoe(),It=m.invert||d,Ct=_n==="loading";Vi.current=Ne.useMemo(()=>yn*Te+Fe,[yn,Fe]),Ne.useEffect(()=>{jt.current=Gn},[Gn]),Ne.useEffect(()=>{ge(!0)},[]),Ne.useEffect(()=>{const st=Pn.current;if(st){const Mn=st.getBoundingClientRect().height;return kr(Mn),x(vn=>[{toastId:m.id,height:Mn,position:m.position},...vn]),()=>x(vn=>vn.filter(ur=>ur.toastId!==m.id))}},[x,m.id]),Ne.useLayoutEffect(()=>{if(!ne)return;const st=Pn.current,Mn=st.style.height;st.style.height="auto";const vn=st.getBoundingClientRect().height;st.style.height=Mn,kr(vn),x(ur=>ur.find(jn=>jn.toastId===m.id)?ur.map(jn=>jn.toastId===m.id?{...jn,height:vn}:jn):[{toastId:m.id,height:vn,position:m.position},...ur])},[ne,m.title,m.description,x,m.id,m.jsx,m.action,m.cancel]);const Tn=Ne.useCallback(()=>{ye(!0),Dt(Vi.current),x(st=>st.filter(Mn=>Mn.toastId!==m.id)),setTimeout(()=>{P(m)},Aoe)},[m,P,x,Vi]);Ne.useEffect(()=>{if(m.promise&&_n==="loading"||m.duration===1/0||m.type==="loading")return;let st;return z||b||et?(()=>{if(Zo.current<rr.current){const ur=new Date().getTime()-rr.current;jt.current=jt.current-ur}Zo.current=new Date().getTime()})():(()=>{jt.current!==1/0&&(rr.current=new Date().getTime(),st=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Tn()},jt.current))})(),()=>clearTimeout(st)},[z,b,m,_n,et,Tn]),Ne.useEffect(()=>{m.delete&&(Tn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Tn,m.delete]);function Mr(){var st;if(se!=null&&se.loading){var Mn;return Ne.createElement("div",{className:ac(J==null?void 0:J.loader,m==null||(Mn=m.classNames)==null?void 0:Mn.loader,"sonner-loader"),"data-visible":_n==="loading"},se.loading)}return Ne.createElement(aoe,{className:ac(J==null?void 0:J.loader,m==null||(st=m.classNames)==null?void 0:st.loader),visible:_n==="loading"})}const Fr=m.icon||(se==null?void 0:se[_n])||soe(_n);var Si,Ei;return Ne.createElement("li",{tabIndex:0,ref:Pn,className:ac(F,Ds,J==null?void 0:J.toast,m==null||(e=m.classNames)==null?void 0:e.toast,J==null?void 0:J.default,J==null?void 0:J[_n],m==null||(t=m.classNames)==null?void 0:t[_n]),"data-sonner-toast":"","data-rich-colors":(Si=m.richColors)!=null?Si:H,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ne,"data-promise":!!m.promise,"data-swiped":Lt,"data-removed":Re,"data-visible":ln,"data-y-position":Is,"data-x-position":xe,"data-index":k,"data-front":nr,"data-swiping":Ae,"data-dismissible":Wn,"data-type":_n,"data-invert":It,"data-swipe-out":He,"data-swipe-direction":ae,"data-expanded":!!(z||Ee&&ne),style:{"--index":k,"--toasts-before":k,"--z-index":N.length-k,"--offset":`${Re?Et:Vi.current}px`,"--initial-height":Ee?"auto":`${tr}px`,...O,...m.style},onDragEnd:()=>{Le(!1),Q(null),ti.current=null},onPointerDown:st=>{Ct||!Wn||(kn.current=new Date,Dt(Vi.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(Le(!0),ti.current={x:st.clientX,y:st.clientY}))},onPointerUp:()=>{var st,Mn,vn;if(He||!Wn)return;ti.current=null;const ur=Number(((st=Pn.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mi=Number(((Mn=Pn.current)==null?void 0:Mn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-((vn=kn.current)==null?void 0:vn.getTime()),Yt=we==="x"?ur:mi,Kn=Math.abs(Yt)/jn;if(Math.abs(Yt)>=Coe||Kn>.11){Dt(Vi.current),m.onDismiss==null||m.onDismiss.call(m,m),ve(we==="x"?ur>0?"right":"left":mi>0?"down":"up"),Tn(),it(!0);return}else{var bn,Yn;(bn=Pn.current)==null||bn.style.setProperty("--swipe-amount-x","0px"),(Yn=Pn.current)==null||Yn.style.setProperty("--swipe-amount-y","0px")}Kt(!1),Le(!1),Q(null)},onPointerMove:st=>{var Mn,vn,ur;if(!ti.current||!Wn||((Mn=window.getSelection())==null?void 0:Mn.toString().length)>0)return;const jn=st.clientY-ti.current.y,Yt=st.clientX-ti.current.x;var Kn;const bn=(Kn=n.swipeDirections)!=null?Kn:Roe(G);!we&&(Math.abs(Yt)>1||Math.abs(jn)>1)&&Q(Math.abs(Yt)>Math.abs(jn)?"x":"y");let Yn={x:0,y:0};const Rl=To=>1/(1.5+Math.abs(To)/20);if(we==="y"){if(bn.includes("top")||bn.includes("bottom"))if(bn.includes("top")&&jn<0||bn.includes("bottom")&&jn>0)Yn.y=jn;else{const To=jn*Rl(jn);Yn.y=Math.abs(To)<Math.abs(jn)?To:jn}}else if(we==="x"&&(bn.includes("left")||bn.includes("right")))if(bn.includes("left")&&Yt<0||bn.includes("right")&&Yt>0)Yn.x=Yt;else{const To=Yt*Rl(Yt);Yn.x=Math.abs(To)<Math.abs(Yt)?To:Yt}(Math.abs(Yn.x)>0||Math.abs(Yn.y)>0)&&Kt(!0),(vn=Pn.current)==null||vn.style.setProperty("--swipe-amount-x",`${Yn.x}px`),(ur=Pn.current)==null||ur.style.setProperty("--swipe-amount-y",`${Yn.y}px`)}},Nt&&!m.jsx&&_n!=="loading"?Ne.createElement("button",{"aria-label":te,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!Wn?()=>{}:()=>{Tn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:ac(J==null?void 0:J.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(Ei=se==null?void 0:se.close)!=null?Ei:doe):null,(_n||m.icon||m.promise)&&m.icon!==null&&((se==null?void 0:se[_n])!==null||m.icon)?Ne.createElement("div",{"data-icon":"",className:ac(J==null?void 0:J.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Mr():null,m.type!=="loading"?Fr:null):null,Ne.createElement("div",{"data-content":"",className:ac(J==null?void 0:J.content,m==null||(s=m.classNames)==null?void 0:s.content)},Ne.createElement("div",{"data-title":"",className:ac(J==null?void 0:J.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ne.createElement("div",{"data-description":"",className:ac(W,Li,J==null?void 0:J.description,m==null||(a=m.classNames)==null?void 0:a.description)},typeof m.description=="function"?m.description():m.description):null),Ne.isValidElement(m.cancel)?m.cancel:m.cancel&&zS(m.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||D,onClick:st=>{zS(m.cancel)&&Wn&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,st),Tn())},className:ac(J==null?void 0:J.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Ne.isValidElement(m.action)?m.action:m.action&&zS(m.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:st=>{zS(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,st),!st.defaultPrevented&&Tn())},className:ac(J==null?void 0:J.actionButton,m==null||(f=m.classNames)==null?void 0:f.actionButton)},m.action.label):null)};function $L(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Moe(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?Eoe:Soe;function c(f){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?t[`${o}-${f}`]=a:t[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):c(a)}),t}const Doe=Ne.forwardRef(function(e,t){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:a,className:c,offset:f,mobileOffset:d,theme:m="light",richColors:g,duration:b,style:x,visibleToasts:_=xoe,toastOptions:C,dir:k=$L(),gap:N=Toe,icons:z,containerAriaLabel:P="Notifications"}=e,[H,U]=Ne.useState([]),O=Ne.useMemo(()=>Array.from(new Set([i].concat(H.filter(ae=>ae.position).map(ae=>ae.position)))),[H,i]),[D,V]=Ne.useState([]),[F,W]=Ne.useState(!1),[X,G]=Ne.useState(!1),[Te,Ee]=Ne.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Ne.useRef(null),se=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=Ne.useRef(null),we=Ne.useRef(!1),Q=Ne.useCallback(ae=>{U(ve=>{var ne;return(ne=ve.find(ge=>ge.id===ae.id))!=null&&ne.delete||po.dismiss(ae.id),ve.filter(({id:ge})=>ge!==ae.id)})},[]);return Ne.useEffect(()=>po.subscribe(ae=>{if(ae.dismiss){requestAnimationFrame(()=>{U(ve=>ve.map(ne=>ne.id===ae.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{JD.flushSync(()=>{U(ve=>{const ne=ve.findIndex(ge=>ge.id===ae.id);return ne!==-1?[...ve.slice(0,ne),{...ve[ne],...ae},...ve.slice(ne+1)]:[ae,...ve]})})})}),[H]),Ne.useEffect(()=>{if(m!=="system"){Ee(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ee("dark"):Ee("light")),typeof window>"u")return;const ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:ve})=>{Ee(ve?"dark":"light")})}catch{ae.addListener(({matches:ne})=>{try{Ee(ne?"dark":"light")}catch(ge){console.error(ge)}})}},[m]),Ne.useEffect(()=>{H.length<=1&&W(!1)},[H]),Ne.useEffect(()=>{const ae=ve=>{var ne;if(s.every(ye=>ve[ye]||ve.code===ye)){var Re;W(!0),(Re=J.current)==null||Re.focus()}ve.code==="Escape"&&(document.activeElement===J.current||(ne=J.current)!=null&&ne.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[s]),Ne.useEffect(()=>{if(J.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,we.current=!1)}},[J.current]),Ne.createElement("section",{ref:t,"aria-label":`${P} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((ae,ve)=>{var ne;const[ge,Re]=ae.split("-");return H.length?Ne.createElement("ol",{key:ae,dir:k==="auto"?$L():k,tabIndex:-1,ref:J,className:c,"data-sonner-toaster":!0,"data-sonner-theme":Te,"data-y-position":ge,"data-x-position":Re,style:{"--front-toast-height":`${((ne=D[0])==null?void 0:ne.height)||0}px`,"--width":`${_oe}px`,"--gap":`${N}px`,...x,...Moe(f,d)},onBlur:ye=>{we.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(we.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||we.current||(we.current=!0,te.current=ye.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{X||W(!1)},onDragEnd:()=>W(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},H.filter(ye=>!ye.position&&ve===0||ye.position===ae).map((ye,Ae)=>{var Le,He;return Ne.createElement(koe,{key:ye.id,icons:z,index:Ae,toast:ye,defaultRichColors:g,duration:(Le=C==null?void 0:C.duration)!=null?Le:b,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:_,closeButton:(He=C==null?void 0:C.closeButton)!=null?He:a,interacting:X,position:ae,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:Q,toasts:H.filter(it=>it.position==ye.position),heights:D.filter(it=>it.position==ye.position),setHeights:V,expandByDefault:o,gap:N,expanded:F,swipeDirections:e.swipeDirections})})):null}))});class Ioe{constructor(){vt(this,"isMacOS",!1);vt(this,"context",{activeBlockId:null});vt(this,"autoSaveInterval",(location.hostname==="localhost"?5:45)*1e3);vt(this,"needSavedBlocks",{});vt(this,"needSavedNoteData",{});vt(this,"saveBlock",(e,t)=>{var r;e&&(this.needSavedBlocks[e]={update:{...((r=this.needSavedBlocks[e])==null?void 0:r.update)||{},...t},time:+new Date,saved:!1})});vt(this,"saveNote",(e,t)=>{e&&(this.needSavedNoteData[e]={data:t,time:+new Date,saved:!1})});vt(this,"enum",{collection:{userNotebooks:"userNotebooks",notes:"notes"},eventBus:{navigate:"navigate",changeCursor:"change-cursor",createNewNotebook:"create-new-notebook",openTab:"open-tab",openSettings:"open-settings"},block:{type:{doc:"doc",text:"text",mdx:"mdx",image:"image",file:"file",flow:"flow",mindmap:"mindmap",table:"table",chart:"chart",drawing:"drawing"}}});vt(this,"fonts",[{value:"geist",label:"Geist"},{value:"roboto",label:"Roboto"},{value:"exo2",label:"Exo 2"},{value:"twinkle-star",label:"Twinkle Star"},{value:"mali",label:"Mali"}]);vt(this,"colors",[{name:"Red",textColor:"var(--text-color-red)",bgColor:"var(--text-background-color-red)"},{name:"Orange",textColor:"var(--text-color-orange)",bgColor:"var(--text-background-color-orange)"},{name:"Amber",textColor:"var(--text-color-amber)",bgColor:"var(--text-background-color-amber)"},{name:"Yellow",textColor:"var(--text-color-yellow)",bgColor:"var(--text-background-color-yellow)"},{name:"Lime",textColor:"var(--text-color-lime)",bgColor:"var(--text-background-color-lime)"},{name:"Green",textColor:"var(--text-color-green)",bgColor:"var(--text-background-color-green)"},{name:"Emerald",textColor:"var(--text-color-emerald)",bgColor:"var(--text-background-color-emerald)"},{name:"Teal",textColor:"var(--text-color-teal)",bgColor:"var(--text-background-color-teal)"},{name:"Cyan",textColor:"var(--text-color-cyan)",bgColor:"var(--text-background-color-cyan)"},{name:"Sky",textColor:"var(--text-color-sky)",bgColor:"var(--text-background-color-sky)"},{name:"Blue",textColor:"var(--text-color-blue)",bgColor:"var(--text-background-color-blue)"},{name:"Indigo",textColor:"var(--text-color-indigo)",bgColor:"var(--text-background-color-indigo)"},{name:"Violet",textColor:"var(--text-color-violet)",bgColor:"var(--text-background-color-violet)"},{name:"Purple",textColor:"var(--text-color-purple)",bgColor:"var(--text-background-color-purple)"},{name:"Fuchsia",textColor:"var(--text-color-fuchsia)",bgColor:"var(--text-background-color-fuchsia)"},{name:"Pink",textColor:"var(--text-color-pink)",bgColor:"var(--text-background-color-pink)"},{name:"Rose",textColor:"var(--text-color-rose)",bgColor:"var(--text-background-color-rose)"},{name:"Zinc",textColor:"var(--text-color-zinc)",bgColor:"var(--text-background-color-zinc)"}]);vt(this,"sharedData",{userNotes:null});vt(this,"toast",woe);vt(this,"eventBus",{on:(e,t,r)=>{document.addEventListener(e,t,r)},dispatch:(e,t)=>{document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove:(e,t)=>{document.removeEventListener(e,t)}});vt(this,"generateId",(e=20)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";const i=t.length;for(let s=0;s<e;s++){const o=Math.floor(Math.random()*i);r+=t.charAt(o)}return r});vt(this,"recursive",(e,t,r)=>{const i={nodes:e,fn:t,childrenProp:(r==null?void 0:r.childrenProp)||"children"};switch((r==null?void 0:r.childrenType)||"array"){case"object":e=this.recursiveObject(i);break;default:e=this.recursiveArray(i);break}return e});vt(this,"recursiveObject",({nodes:e,fn:t,childrenProp:r})=>{let i=!1;const s=()=>{i=!0},o=(a,c,f)=>{const d=t==null?void 0:t(a,c,s,f);if(d&&(a=d),a[r]&&Object.keys(a[r]).length>0)for(const m in a[r]){if(i)break;o(a[r][m],a,m)}};if(e&&Object.keys(e).length>0)for(const a in e){if(i)break;o(e[a],null,a)}return e});vt(this,"recursiveArray",({nodes:e,fn:t,childrenProp:r})=>{let i=!1;const s=()=>{i=!0},o=(a,c,f)=>{var m;const d=t==null?void 0:t(a,c,s,f);if(d&&(a=d),((m=a[r])==null?void 0:m.length)>0)for(let g=0;g<a[r].length&&!i;g++)o(a[r][g],a,g)};for(let a=0;a<e.length&&!i;a++)o(e[a],null,a);return e});vt(this,"delay",async(e=300)=>new Promise(t=>setTimeout(t,e)));vt(this,"debounceCurrent",null);vt(this,"debounce",(e,t=300,...r)=>{e&&(this.debounceCurrent&&clearTimeout(this.debounceCurrent),this.debounceCurrent=setTimeout(()=>{e(...r)},t))});vt(this,"navigate",e=>{document.dispatchEvent(new CustomEvent("navigate",{detail:e}))});vt(this,"toolbar",{render:e=>{const t=document.getElementById("note-toolbar");if(t){t._reactRoot||(t._reactRoot=HB.createRoot(t));const r=typeof e=="function"?e():e;t._reactRoot.render(r)}else console.error("Note toolbar not found")},clear:()=>{}});vt(this,"notebooks",{createNewNotebook:e=>{wt.eventBus.dispatch(wt.enum.eventBus.createNewNotebook,e)}});vt(this,"t",e=>e);vt(this,"cache",{tab:{get:async e=>await ME.tab.get(e),set:async(e,t)=>await ME.tab.set(e,t),update:async(e,t)=>await ME.tab.update(e,t)}});this.isMacOS=typeof navigator<"u"?/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent):!1}}const wt=new Ioe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ooe(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{f(r.next(d))}catch(m){o(m)}}function c(d){try{f(r.throw(d))}catch(m){o(m)}}function f(d){d.done?s(d.value):i(d.value).then(a,c)}f((r=r.apply(n,[])).next())})}function Noe(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){t.label=f[1];break}if(f[0]===6&&t.label<s[1]){t.label=s[1],s=f;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(f);break}s[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cy=function(){return cy=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cy.apply(this,arguments)},HU=function(n){return{loading:n==null,value:n}},Poe=function(){return function(n,e){switch(e.type){case"error":return cy(cy({},n),{error:e.error,loading:!1,value:void 0});case"reset":return HU(e.defaultValue);case"value":return cy(cy({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Loe=function(n){var e=n?n():void 0,t=A.useReducer(Poe(),HU(e)),r=t[0],i=t[1],s=A.useCallback(function(){var c=n?n():void 0;i({type:"reset",defaultValue:c})},[n]),o=A.useCallback(function(c){i({type:"error",error:c})},[]),a=A.useCallback(function(c){i({type:"value",value:c})},[]);return A.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},Voe=function(n,e){var t=Loe(function(){return n.currentUser}),r=t.error,i=t.loading,s=t.setError,o=t.setValue,a=t.value;return A.useEffect(function(){var c=ite(n,function(f){return Ooe(void 0,void 0,void 0,function(){var d;return Noe(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return m.sent(),[3,4];case 3:return d=m.sent(),s(d),[3,4];case 4:return o(f),[2]}})})},s);return function(){c()}},[n]),[a,i,r]};const $U=A.createContext({user:null,isAuthenticated:!1}),Boe=({children:n})=>{const[e,t,r]=Voe(Pb.auth);r&&console.error("Error loading user: ",r);const i=A.useMemo(()=>{const s=o=>{if(!o)return"";const a=o.trim().split(/\s+/);let c=a[0].charAt(0).toUpperCase();return a.length>1&&(c+=a[a.length-1].charAt(0).toUpperCase()),c.substring(0,2)};return e?{uid:e.uid,name:e.displayName,email:e.email,avatar:null,avatarFallback:s(e.displayName)}:{}},[e]);return R.jsx($U.Provider,{value:{user:i,isAuthenticated:!!e},children:!t&&n})};class zoe{constructor(){vt(this,"Context",$U);vt(this,"Provider",Boe)}async signInWithGoogle(){try{await _te(Pb.auth,Pb.googleProvider),wt.navigate("/"),console.log("User signed in with Google")}catch(e){console.error("Error signing in with Google",e)}}async logout(){try{await Pb.auth.signOut(),wt.navigate("/"),console.log("User signed out")}catch(e){console.error("Error signing out",e)}}}class joe{static createAuthService(e){switch(e){case"firebase":return new zoe;default:throw new Error(`Unknown auth service type: ${e}`)}}}const Hy=joe.createAuthService("firebase");function Uoe(){const{isMobile:n}=WT(),{user:e}=A.useContext(Hy.Context);return R.jsx(RI,{children:R.jsx(GT,{children:e&&R.jsxs(Op,{children:[R.jsx(Np,{asChild:!0,children:R.jsxs(Sy,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground md:h-8 md:p-0 cursor-pointer",children:[R.jsxs(jN,{className:"h-8 w-8 rounded-lg",children:[R.jsx(UN,{src:e.avatar,alt:e.name}),R.jsx(FN,{className:"rounded-lg",children:e.avatarFallback})]}),R.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[R.jsx("span",{className:"truncate font-medium",children:e.name}),R.jsx("span",{className:"truncate text-xs",children:e.email})]}),R.jsx(vq,{className:"ml-auto size-4"})]})}),R.jsxs(Pp,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:n?"bottom":"right",align:"end",sideOffset:4,children:[R.jsx(kQ,{className:"p-0 font-normal",children:R.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[R.jsxs(jN,{className:"h-8 w-8 rounded-lg",children:[R.jsx(UN,{src:e.avatar,alt:e.name}),R.jsx(FN,{className:"rounded-lg",children:e.avatarFallback})]}),R.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[R.jsx("span",{className:"truncate font-medium",children:e.name}),R.jsx("span",{className:"truncate text-xs",children:e.email})]})]})}),R.jsx(MQ,{}),R.jsxs(cw,{className:"cursor-pointer",onClick:()=>Hy.logout(),children:[R.jsx(Zq,{}),"Log out"]})]})]})})})}function Foe({title:n,actions:e}){return R.jsx(yj,{className:"gap-3.5 border-b p-2 pt-2.5",children:R.jsxs("div",{className:"flex w-full items-center justify-between",children:[R.jsx("div",{className:"text-foreground text-base font-medium",children:n}),e]})})}function Hoe(n,[e,t]){return Math.min(t,Math.max(e,n))}function $oe(n,e){return A.useReducer((t,r)=>e[t][r]??t,n)}var SO="ScrollArea",[qU,z_e]=El(SO),[qoe,La]=qU(SO),WU=A.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=n,[a,c]=A.useState(null),[f,d]=A.useState(null),[m,g]=A.useState(null),[b,x]=A.useState(null),[_,C]=A.useState(null),[k,N]=A.useState(0),[z,P]=A.useState(0),[H,U]=A.useState(!1),[O,D]=A.useState(!1),V=qn(e,W=>c(W)),F=tI(i);return R.jsx(qoe,{scope:t,type:r,dir:F,scrollHideDelay:s,scrollArea:a,viewport:f,onViewportChange:d,content:m,onContentChange:g,scrollbarX:b,onScrollbarXChange:x,scrollbarXEnabled:H,onScrollbarXEnabledChange:U,scrollbarY:_,onScrollbarYChange:C,scrollbarYEnabled:O,onScrollbarYEnabledChange:D,onCornerWidthChange:N,onCornerHeightChange:P,children:R.jsx(xn.div,{dir:F,...o,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":z+"px",...n.style}})})});WU.displayName=SO;var GU="ScrollAreaViewport",KU=A.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:i,...s}=n,o=La(GU,t),a=A.useRef(null),c=qn(e,a,o.onViewportChange);return R.jsxs(R.Fragment,{children:[R.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),R.jsx(xn.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:R.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});KU.displayName=GU;var Lc="ScrollAreaScrollbar",YU=A.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=La(Lc,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=n.orientation==="horizontal";return A.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?R.jsx(Woe,{...r,ref:e,forceMount:t}):i.type==="scroll"?R.jsx(Goe,{...r,ref:e,forceMount:t}):i.type==="auto"?R.jsx(XU,{...r,ref:e,forceMount:t}):i.type==="always"?R.jsx(EO,{...r,ref:e}):null});YU.displayName=Lc;var Woe=A.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=La(Lc,n.__scopeScrollArea),[s,o]=A.useState(!1);return A.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const f=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),R.jsx(ks,{present:t||s,children:R.jsx(XU,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Goe=A.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=La(Lc,n.__scopeScrollArea),s=n.orientation==="horizontal",o=gC(()=>c("SCROLL_END"),100),[a,c]=$oe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,i.scrollHideDelay,c]),A.useEffect(()=>{const f=i.viewport,d=s?"scrollLeft":"scrollTop";if(f){let m=f[d];const g=()=>{const b=f[d];m!==b&&(c("SCROLL"),o()),m=b};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[i.viewport,s,c,o]),R.jsx(ks,{present:t||a!=="hidden",children:R.jsx(EO,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:rt(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:rt(n.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),XU=A.forwardRef((n,e)=>{const t=La(Lc,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,o]=A.useState(!1),a=n.orientation==="horizontal",c=gC(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?f:d)}},10);return $y(t.viewport,c),$y(t.content,c),R.jsx(ks,{present:r||s,children:R.jsx(EO,{"data-state":s?"visible":"hidden",...i,ref:e})})}),EO=A.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=La(Lc,n.__scopeScrollArea),s=A.useRef(null),o=A.useRef(0),[a,c]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=tF(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function m(g,b){return Zoe(g,o.current,a,b)}return t==="horizontal"?R.jsx(Koe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,b=qL(g,a,i.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=m(g,i.dir))}}):t==="vertical"?R.jsx(Yoe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,b=qL(g,a);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=m(g))}}):null}),Koe=A.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=La(Lc,n.__scopeScrollArea),[o,a]=A.useState(),c=A.useRef(null),f=qn(e,c,s.onScrollbarXChange);return A.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),R.jsx(JU,{"data-orientation":"horizontal",...i,ref:f,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mC(t)+"px",...n.style},onThumbPointerDown:d=>n.onThumbPointerDown(d.x),onDragScroll:d=>n.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(s.viewport){const g=s.viewport.scrollLeft+d.deltaX;n.onWheelScroll(g),rF(g,m)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:R_(o.paddingLeft),paddingEnd:R_(o.paddingRight)}})}})}),Yoe=A.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=La(Lc,n.__scopeScrollArea),[o,a]=A.useState(),c=A.useRef(null),f=qn(e,c,s.onScrollbarYChange);return A.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),R.jsx(JU,{"data-orientation":"vertical",...i,ref:f,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mC(t)+"px",...n.style},onThumbPointerDown:d=>n.onThumbPointerDown(d.y),onDragScroll:d=>n.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(s.viewport){const g=s.viewport.scrollTop+d.deltaY;n.onWheelScroll(g),rF(g,m)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:R_(o.paddingTop),paddingEnd:R_(o.paddingBottom)}})}})}),[Xoe,QU]=qU(Lc),JU=A.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:d,onResize:m,...g}=n,b=La(Lc,t),[x,_]=A.useState(null),C=qn(e,V=>_(V)),k=A.useRef(null),N=A.useRef(""),z=b.viewport,P=r.content-r.viewport,H=Ji(d),U=Ji(c),O=gC(m,10);function D(V){if(k.current){const F=V.clientX-k.current.left,W=V.clientY-k.current.top;f({x:F,y:W})}}return A.useEffect(()=>{const V=F=>{const W=F.target;(x==null?void 0:x.contains(W))&&H(F,P)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[z,x,P,H]),A.useEffect(U,[r,U]),$y(x,O),$y(b.content,O),R.jsx(Xoe,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:Ji(s),onThumbPointerUp:Ji(o),onThumbPositionChange:U,onThumbPointerDown:Ji(a),children:R.jsx(xn.div,{...g,ref:C,style:{position:"absolute",...g.style},onPointerDown:rt(n.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),k.current=x.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),D(V))}),onPointerMove:rt(n.onPointerMove,D),onPointerUp:rt(n.onPointerUp,V=>{const F=V.target;F.hasPointerCapture(V.pointerId)&&F.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),k.current=null})})})}),A_="ScrollAreaThumb",ZU=A.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=QU(A_,n.__scopeScrollArea);return R.jsx(ks,{present:t||i.hasThumb,children:R.jsx(Qoe,{ref:e,...r})})}),Qoe=A.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=La(A_,t),o=QU(A_,t),{onThumbPositionChange:a}=o,c=qn(e,m=>o.onThumbChange(m)),f=A.useRef(void 0),d=gC(()=>{f.current&&(f.current(),f.current=void 0)},100);return A.useEffect(()=>{const m=s.viewport;if(m){const g=()=>{if(d(),!f.current){const b=eae(m,a);f.current=b,a()}};return a(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[s.viewport,d,a]),R.jsx(xn.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:rt(n.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),x=m.clientX-b.left,_=m.clientY-b.top;o.onThumbPointerDown({x,y:_})}),onPointerUp:rt(n.onPointerUp,o.onThumbPointerUp)})});ZU.displayName=A_;var _O="ScrollAreaCorner",eF=A.forwardRef((n,e)=>{const t=La(_O,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?R.jsx(Joe,{...n,ref:e}):null});eF.displayName=_O;var Joe=A.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=La(_O,t),[s,o]=A.useState(0),[a,c]=A.useState(0),f=!!(s&&a);return $y(i.scrollbarX,()=>{var m;const d=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),$y(i.scrollbarY,()=>{var m;const d=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),f?R.jsx(xn.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function R_(n){return n?parseInt(n,10):0}function tF(n,e){const t=n/e;return isNaN(t)?0:t}function mC(n){const e=tF(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Zoe(n,e,t,r="ltr"){const i=mC(t),s=i/2,o=e||s,a=i-o,c=t.scrollbar.paddingStart+o,f=t.scrollbar.size-t.scrollbar.paddingEnd-a,d=t.content-t.viewport,m=r==="ltr"?[0,d]:[d*-1,0];return nF([c,f],m)(n)}function qL(n,e,t="ltr"){const r=mC(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,c=t==="ltr"?[0,o]:[o*-1,0],f=Hoe(n,c);return nF([0,o],[0,a])(f)}function nF(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function rF(n,e){return n>0&&n<e}var eae=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,a=t.top!==s.top;(o||a)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function gC(n,e){const t=Ji(n),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function $y(n,e){const t=Ji(e);Da(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}var tae=WU,nae=KU,rae=eF;function ww({className:n,children:e,...t}){return R.jsxs(tae,{"data-slot":"scroll-area",className:Je("relative",n),...t,children:[R.jsx(nae,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_>div]:size-full",onScroll:t.onScroll,ref:t.refViewport,children:e}),R.jsx(iae,{}),R.jsx(rae,{})]})}function iae({className:n,orientation:e="vertical",...t}){return R.jsx(YU,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Je("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...t,children:R.jsx(ZU,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const TO=A.createContext({});function CO(n){const e=A.useRef(null);return e.current===null&&(e.current=n()),e.current}const AO=typeof window<"u",iF=AO?A.useLayoutEffect:A.useEffect,yC=A.createContext(null);function RO(n,e){n.indexOf(e)===-1&&n.push(e)}function kO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Wu=(n,e,t)=>t>e?e:t<n?n:t;let MO=()=>{};const Gu={},sF=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function oF(n){return typeof n=="object"&&n!==null}const aF=n=>/^0[^.\s]+$/u.test(n);function DO(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ra=n=>n,sae=(n,e)=>t=>e(n(t)),c1=(...n)=>n.reduce(sae),xw=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class IO{constructor(){this.subscriptions=[]}add(e){return RO(this.subscriptions,e),()=>kO(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xc=n=>n*1e3,Sc=n=>n/1e3;function lF(n,e){return e?n*(1e3/e):0}const cF=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,oae=1e-7,aae=12;function lae(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=cF(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>oae&&++a<aae);return o}function u1(n,e,t,r){if(n===e&&t===r)return Ra;const i=s=>lae(s,0,1,n,t);return s=>s===0||s===1?s:cF(i(s),e,r)}const uF=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,fF=n=>e=>1-n(1-e),dF=u1(.33,1.53,.69,.99),OO=fF(dF),hF=uF(OO),pF=n=>(n*=2)<1?.5*OO(n):.5*(2-Math.pow(2,-10*(n-1))),NO=n=>1-Math.sin(Math.acos(n)),mF=fF(NO),gF=uF(NO),cae=u1(.42,0,1,1),uae=u1(0,0,.58,1),yF=u1(.42,0,.58,1),fae=n=>Array.isArray(n)&&typeof n[0]!="number",vF=n=>Array.isArray(n)&&typeof n[0]=="number",dae={linear:Ra,easeIn:cae,easeInOut:yF,easeOut:uae,circIn:NO,circInOut:gF,circOut:mF,backIn:OO,backInOut:hF,backOut:dF,anticipate:pF},hae=n=>typeof n=="string",WL=n=>{if(vF(n)){MO(n.length===4);const[e,t,r,i]=n;return u1(e,t,r,i)}else if(hae(n))return dae[n];return n},jS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],GL={value:null};function pae(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function f(m){o.has(m)&&(d.schedule(m),n()),c++,m(a)}const d={schedule:(m,g=!1,b=!1)=>{const _=b&&i?t:r;return g&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(a=m,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(f),e&&GL.value&&GL.value.frameloop[e].push(c),c=0,t.clear(),i=!1,s&&(s=!1,d.process(m))}};return d}const mae=40;function bF(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=jS.reduce((z,P)=>(z[P]=pae(s,e?P:void 0),z),{}),{setup:a,read:c,resolveKeyframes:f,preUpdate:d,update:m,preRender:g,render:b,postRender:x}=o,_=()=>{const z=Gu.useManualTiming?i.timestamp:performance.now();t=!1,Gu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(z-i.timestamp,mae),1)),i.timestamp=z,i.isProcessing=!0,a.process(i),c.process(i),f.process(i),d.process(i),m.process(i),g.process(i),b.process(i),x.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(_))},C=()=>{t=!0,r=!0,i.isProcessing||n(_)};return{schedule:jS.reduce((z,P)=>{const H=o[P];return z[P]=(U,O=!1,D=!1)=>(t||C(),H.schedule(U,O,D)),z},{}),cancel:z=>{for(let P=0;P<jS.length;P++)o[jS[P]].cancel(z)},state:i,steps:o}}const{schedule:Ar,cancel:Bd,state:Ki,steps:TR}=bF(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ra,!0);let DE;function gae(){DE=void 0}const bo={now:()=>(DE===void 0&&bo.set(Ki.isProcessing||Gu.useManualTiming?Ki.timestamp:performance.now()),DE),set:n=>{DE=n,queueMicrotask(gae)}},wF=n=>e=>typeof e=="string"&&e.startsWith(n),PO=wF("--"),yae=wF("var(--"),LO=n=>yae(n)?vae.test(n.split("/*")[0].trim()):!1,vae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xv={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sw={...xv,transform:n=>Wu(0,1,n)},US={...xv,default:1},Lb=n=>Math.round(n*1e5)/1e5,VO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bae(n){return n==null}const wae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,BO=(n,e)=>t=>!!(typeof t=="string"&&wae.test(t)&&t.startsWith(n)||e&&!bae(t)&&Object.prototype.hasOwnProperty.call(t,e)),xF=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(VO);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xae=n=>Wu(0,255,n),CR={...xv,transform:n=>Math.round(xae(n))},Rp={test:BO("rgb","red"),parse:xF("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+CR.transform(n)+", "+CR.transform(e)+", "+CR.transform(t)+", "+Lb(Sw.transform(r))+")"};function Sae(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const OM={test:BO("#"),parse:Sae,transform:Rp.transform},f1=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Jf=f1("deg"),Ec=f1("%"),xt=f1("px"),Eae=f1("vh"),_ae=f1("vw"),KL={...Ec,parse:n=>Ec.parse(n)/100,transform:n=>Ec.transform(n*100)},uy={test:BO("hsl","hue"),parse:xF("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ec.transform(Lb(e))+", "+Ec.transform(Lb(t))+", "+Lb(Sw.transform(r))+")"},hi={test:n=>Rp.test(n)||OM.test(n)||uy.test(n),parse:n=>Rp.test(n)?Rp.parse(n):uy.test(n)?uy.parse(n):OM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Rp.transform(n):uy.transform(n),getAnimatableNone:n=>{const e=hi.parse(n);return e.alpha=0,hi.transform(e)}},Tae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Cae(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(VO))==null?void 0:e.length)||0)+(((t=n.match(Tae))==null?void 0:t.length)||0)>0}const SF="number",EF="color",Aae="var",Rae="var(",YL="${}",kae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ew(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(kae,c=>(hi.test(c)?(r.color.push(s),i.push(EF),t.push(hi.parse(c))):c.startsWith(Rae)?(r.var.push(s),i.push(Aae),t.push(c)):(r.number.push(s),i.push(SF),t.push(parseFloat(c))),++s,YL)).split(YL);return{values:t,split:a,indexes:r,types:i}}function _F(n){return Ew(n).values}function TF(n){const{split:e,types:t}=Ew(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===SF?s+=Lb(i[o]):a===EF?s+=hi.transform(i[o]):s+=i[o]}return s}}const Mae=n=>typeof n=="number"?0:hi.test(n)?hi.getAnimatableNone(n):n;function Dae(n){const e=_F(n);return TF(n)(e.map(Mae))}const zd={test:Cae,parse:_F,createTransformer:TF,getAnimatableNone:Dae};function AR(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Iae({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;i=AR(c,a,n+1/3),s=AR(c,a,n),o=AR(c,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function k_(n,e){return t=>t>0?e:n}const Cr=(n,e,t)=>n+(e-n)*t,RR=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Oae=[OM,Rp,uy],Nae=n=>Oae.find(e=>e.test(n));function XL(n){const e=Nae(n);if(!e)return!1;let t=e.parse(n);return e===uy&&(t=Iae(t)),t}const QL=(n,e)=>{const t=XL(n),r=XL(e);if(!t||!r)return k_(n,e);const i={...t};return s=>(i.red=RR(t.red,r.red,s),i.green=RR(t.green,r.green,s),i.blue=RR(t.blue,r.blue,s),i.alpha=Cr(t.alpha,r.alpha,s),Rp.transform(i))},NM=new Set(["none","hidden"]);function Pae(n,e){return NM.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Lae(n,e){return t=>Cr(n,e,t)}function zO(n){return typeof n=="number"?Lae:typeof n=="string"?LO(n)?k_:hi.test(n)?QL:zae:Array.isArray(n)?CF:typeof n=="object"?hi.test(n)?QL:Vae:k_}function CF(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>zO(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function Vae(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=zO(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function Bae(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],a=n.values[o]??0;t[i]=a,r[s]++}return t}const zae=(n,e)=>{const t=zd.createTransformer(e),r=Ew(n),i=Ew(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?NM.has(n)&&!i.values.length||NM.has(e)&&!r.values.length?Pae(n,e):c1(CF(Bae(r,i),i.values),t):k_(n,e)};function AF(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Cr(n,e,t):zO(n)(n,e)}const jae=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ar.update(e,t),stop:()=>Bd(e),now:()=>Ki.isProcessing?Ki.timestamp:bo.now()}},RF=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},M_=2e4;function jO(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<M_;)e+=t,r=n.next(e);return e>=M_?1/0:e}function Uae(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(jO(r),M_);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Sc(i)}}const Fae=5;function kF(n,e,t){const r=Math.max(e-Fae,0);return lF(t-n(r),e-r)}const Lr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kR=.001;function Hae({duration:n=Lr.duration,bounce:e=Lr.bounce,velocity:t=Lr.velocity,mass:r=Lr.mass}){let i,s,o=1-e;o=Wu(Lr.minDamping,Lr.maxDamping,o),n=Wu(Lr.minDuration,Lr.maxDuration,Sc(n)),o<1?(i=f=>{const d=f*o,m=d*n,g=d-t,b=PM(f,o),x=Math.exp(-m);return kR-g/b*x},s=f=>{const m=f*o*n,g=m*t+t,b=Math.pow(o,2)*Math.pow(f,2)*n,x=Math.exp(-m),_=PM(Math.pow(f,2),o);return(-i(f)+kR>0?-1:1)*((g-b)*x)/_}):(i=f=>{const d=Math.exp(-f*n),m=(f-t)*n+1;return-kR+d*m},s=f=>{const d=Math.exp(-f*n),m=(t-f)*(n*n);return d*m});const a=5/n,c=qae(i,s,a);if(n=xc(n),isNaN(c))return{stiffness:Lr.stiffness,damping:Lr.damping,duration:n};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:n}}}const $ae=12;function qae(n,e,t){let r=t;for(let i=1;i<$ae;i++)r=r-n(r)/e(r);return r}function PM(n,e){return n*Math.sqrt(1-e*e)}const Wae=["duration","bounce"],Gae=["stiffness","damping","mass"];function JL(n,e){return e.some(t=>n[t]!==void 0)}function Kae(n){let e={velocity:Lr.velocity,stiffness:Lr.stiffness,damping:Lr.damping,mass:Lr.mass,isResolvedFromDuration:!1,...n};if(!JL(n,Gae)&&JL(n,Wae))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Wu(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Lr.mass,stiffness:i,damping:s}}else{const t=Hae(n);e={...e,...t,mass:Lr.mass},e.isResolvedFromDuration=!0}return e}function D_(n=Lr.visualDuration,e=Lr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:f,mass:d,duration:m,velocity:g,isResolvedFromDuration:b}=Kae({...t,velocity:-Sc(t.velocity||0)}),x=g||0,_=f/(2*Math.sqrt(c*d)),C=o-s,k=Sc(Math.sqrt(c/d)),N=Math.abs(C)<5;r||(r=N?Lr.restSpeed.granular:Lr.restSpeed.default),i||(i=N?Lr.restDelta.granular:Lr.restDelta.default);let z;if(_<1){const H=PM(k,_);z=U=>{const O=Math.exp(-_*k*U);return o-O*((x+_*k*C)/H*Math.sin(H*U)+C*Math.cos(H*U))}}else if(_===1)z=H=>o-Math.exp(-k*H)*(C+(x+k*C)*H);else{const H=k*Math.sqrt(_*_-1);z=U=>{const O=Math.exp(-_*k*U),D=Math.min(H*U,300);return o-O*((x+_*k*C)*Math.sinh(D)+H*C*Math.cosh(D))/H}}const P={calculatedDuration:b&&m||null,next:H=>{const U=z(H);if(b)a.done=H>=m;else{let O=H===0?x:0;_<1&&(O=H===0?xc(x):kF(z,H,U));const D=Math.abs(O)<=r,V=Math.abs(o-U)<=i;a.done=D&&V}return a.value=a.done?o:U,a},toString:()=>{const H=Math.min(jO(P),M_),U=RF(O=>P.next(H*O).value,H,30);return H+"ms "+U},toTransition:()=>{}};return P}D_.applyToOptions=n=>{const e=Uae(n,100,D_);return n.ease=e.ease,n.duration=xc(e.duration),n.type="keyframes",n};function LM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:f=.5,restSpeed:d}){const m=n[0],g={done:!1,value:m},b=D=>a!==void 0&&D<a||c!==void 0&&D>c,x=D=>a===void 0?c:c===void 0||Math.abs(a-D)<Math.abs(c-D)?a:c;let _=t*e;const C=m+_,k=o===void 0?C:o(C);k!==C&&(_=k-m);const N=D=>-_*Math.exp(-D/r),z=D=>k+N(D),P=D=>{const V=N(D),F=z(D);g.done=Math.abs(V)<=f,g.value=g.done?k:F};let H,U;const O=D=>{b(g.value)&&(H=D,U=D_({keyframes:[g.value,x(g.value)],velocity:kF(z,D,g.value),damping:i,stiffness:s,restDelta:f,restSpeed:d}))};return O(0),{calculatedDuration:null,next:D=>{let V=!1;return!U&&H===void 0&&(V=!0,P(D),O(D)),H!==void 0&&D>=H?U.next(D-H):(!V&&P(D),g)}}}function Yae(n,e,t){const r=[],i=t||Gu.mix||AF,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ra:e;a=c1(c,a)}r.push(a)}return r}function Xae(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(MO(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=Yae(e,r,i),c=a.length,f=d=>{if(o&&d<n[0])return e[0];let m=0;if(c>1)for(;m<n.length-2&&!(d<n[m+1]);m++);const g=xw(n[m],n[m+1],d);return a[m](g)};return t?d=>f(Wu(n[0],n[s-1],d)):f}function Qae(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=xw(0,e,r);n.push(Cr(t,1,i))}}function Jae(n){const e=[0];return Qae(e,n.length-1),e}function Zae(n,e){return n.map(t=>t*e)}function ele(n,e){return n.map(()=>e||yF).splice(0,n.length-1)}function Vb({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=fae(r)?r.map(WL):WL(r),s={done:!1,value:e[0]},o=Zae(t&&t.length===e.length?t:Jae(e),n),a=Xae(o,e,{ease:Array.isArray(i)?i:ele(e,i)});return{calculatedDuration:n,next:c=>(s.value=a(c),s.done=c>=n,s)}}const tle=n=>n!==null;function UO(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(tle),a=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const nle={decay:LM,inertia:LM,tween:Vb,keyframes:Vb,spring:D_};function MF(n){typeof n.type=="string"&&(n.type=nle[n.type])}class FO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const rle=n=>n/100;class HO extends FO{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==bo.now()&&this.tick(bo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MF(e);const{type:t=Vb,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=t||Vb;c!==Vb&&typeof a[0]!="number"&&(this.mixKeyframes=c1(rle,AF(a[0],a[1])),a=[0,100]);const f=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=jO(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:d,repeat:m,repeatType:g,repeatDelay:b,type:x,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let z=this.currentTime,P=r;if(m){const D=Math.min(this.currentTime,i)/a;let V=Math.floor(D),F=D%1;!F&&D>=1&&(F=1),F===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(g==="reverse"?(F=1-F,b&&(F-=b/a)):g==="mirror"&&(P=o)),z=Wu(0,1,F)*a}const H=N?{done:!1,value:d[0]}:P.next(z);s&&(H.value=s(H.value));let{done:U}=H;!N&&c!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return O&&x!==LM&&(H.value=UO(d,this.options,C,this.speed)),_&&_(H.value),O&&this.finish(),H}then(e,t){return this.finished.then(e,t)}get duration(){return Sc(this.calculatedDuration)}get time(){return Sc(this.currentTime)}set time(e){var t;e=xc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bo.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Sc(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=jae,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function ile(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const kp=n=>n*180/Math.PI,VM=n=>{const e=kp(Math.atan2(n[1],n[0]));return BM(e)},sle={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:VM,rotateZ:VM,skewX:n=>kp(Math.atan(n[1])),skewY:n=>kp(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},BM=n=>(n=n%360,n<0&&(n+=360),n),ZL=VM,eV=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),tV=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ole={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eV,scaleY:tV,scale:n=>(eV(n)+tV(n))/2,rotateX:n=>BM(kp(Math.atan2(n[6],n[5]))),rotateY:n=>BM(kp(Math.atan2(-n[2],n[0]))),rotateZ:ZL,rotate:ZL,skewX:n=>kp(Math.atan(n[4])),skewY:n=>kp(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function zM(n){return n.includes("scale")?1:0}function jM(n,e){if(!n||n==="none")return zM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=ole,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sle,i=a}if(!i)return zM(e);const s=r[e],o=i[1].split(",").map(lle);return typeof s=="function"?s(o):o[s]}const ale=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return jM(t,e)};function lle(n){return parseFloat(n.trim())}const Sv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ev=new Set(Sv),nV=n=>n===xv||n===xt,cle=new Set(["x","y","z"]),ule=Sv.filter(n=>!cle.has(n));function fle(n){const e=[];return ule.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Bp={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>jM(e,"x"),y:(n,{transform:e})=>jM(e,"y")};Bp.translateX=Bp.x;Bp.translateY=Bp.y;const zp=new Set;let UM=!1,FM=!1,HM=!1;function DF(){if(FM){const n=Array.from(zp).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=fle(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}FM=!1,UM=!1,zp.forEach(n=>n.complete(HM)),zp.clear()}function IF(){zp.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(FM=!0)})}function dle(){HM=!0,IF(),DF(),HM=!1}class $O{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zp.add(this),UM||(UM=!0,Ar.read(IF),Ar.resolveKeyframes(DF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const a=r.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}ile(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zp.delete(this)}cancel(){this.state==="scheduled"&&(zp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hle=n=>n.startsWith("--");function ple(n,e,t){hle(e)?n.style.setProperty(e,t):n.style[e]=t}const mle=DO(()=>window.ScrollTimeline!==void 0),gle={};function yle(n,e){const t=DO(n);return()=>gle[e]??t()}const OF=yle(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yb=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,rV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yb([0,.65,.55,1]),circOut:yb([.55,0,1,.45]),backIn:yb([.31,.01,.66,-.59]),backOut:yb([.33,1.53,.69,.99])};function NF(n,e){if(n)return typeof n=="function"?OF()?RF(n,e):"ease-out":vF(n)?yb(n):Array.isArray(n)?n.map(t=>NF(t,e)||rV.easeOut):rV[n]}function vle(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},f=void 0){const d={[e]:t};c&&(d.offset=c);const m=NF(a,i);Array.isArray(m)&&(d.easing=m);const g={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),n.animate(d,g)}function PF(n){return typeof n=="function"&&"applyToOptions"in n}function ble({type:n,...e}){return PF(n)&&OF()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wle extends FO{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,MO(typeof e.type!="string");const f=ble(e);this.animation=vle(t,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=UO(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):ple(t,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Sc(Number(e))}get time(){return Sc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mle()?(this.animation.timeline=e,Ra):t(this)}}const LF={anticipate:pF,backInOut:hF,circInOut:gF};function xle(n){return n in LF}function Sle(n){typeof n.ease=="string"&&xle(n.ease)&&(n.ease=LF[n.ease])}const iV=10;class Ele extends wle{constructor(e){Sle(e),MF(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new HO({...o,autoplay:!1}),c=xc(this.finishedTime??this.time);t.setWithVelocity(a.sample(c-iV).value,a.sample(c).value,iV),a.stop()}}const sV=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zd.test(n)||n==="0")&&!n.startsWith("url("));function _le(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Tle(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=sV(i,e),a=sV(s,e);return!o||!a?!1:_le(n)||(t==="spring"||PF(t))&&r}function qO(n){return oF(n)&&"offsetHeight"in n}const Cle=new Set(["opacity","clipPath","filter","transform"]),Ale=DO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rle(n){var f;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!qO((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:a,transformTemplate:c}=e.owner.getProps();return Ale()&&t&&Cle.has(t)&&(t!=="transform"||!c)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const kle=40;class Mle extends FO{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:f,element:d,...m}){var x;super(),this.stop=()=>{var _,C;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=bo.now();const g={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:f,element:d,...m},b=(d==null?void 0:d.KeyframeResolver)||$O;this.keyframeResolver=new b(a,(_,C,k)=>this.onKeyframesResolved(_,C,g,!k),c,f,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:f,onUpdate:d}=r;this.resolvedAt=bo.now(),Tle(e,s,o,a)||((Gu.instantAnimations||!c)&&(d==null||d(UO(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kle?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},b=!f&&Rle(g)?new Ele({...g,element:g.motionValue.owner.current}):new HO(g);b.finished.then(()=>this.notifyFinished()).catch(Ra),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dle()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Dle=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ile(n){const e=Dle.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function VF(n,e,t=1){const[r,i]=Ile(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sF(o)?parseFloat(o):o}return LO(i)?VF(i,e,t+1):i}function WO(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const BF=new Set(["width","height","top","left","right","bottom",...Sv]),Ole={test:n=>n==="auto",parse:n=>n},zF=n=>e=>e.test(n),jF=[xv,xt,Ec,Jf,_ae,Eae,Ole],oV=n=>jF.find(zF(n));function Nle(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aF(n):!0}const Ple=new Set(["brightness","contrast","saturate","opacity"]);function Lle(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(VO)||[];if(!r)return n;const i=t.replace(r,"");let s=Ple.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Vle=/\b([a-z-]*)\(.*?\)/gu,$M={...zd,getAnimatableNone:n=>{const e=n.match(Vle);return e?e.map(Lle).join(" "):n}},aV={...xv,transform:Math.round},Ble={rotate:Jf,rotateX:Jf,rotateY:Jf,rotateZ:Jf,scale:US,scaleX:US,scaleY:US,scaleZ:US,skew:Jf,skewX:Jf,skewY:Jf,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:Sw,originX:KL,originY:KL,originZ:xt},GO={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt,...Ble,zIndex:aV,fillOpacity:Sw,strokeOpacity:Sw,numOctaves:aV},zle={...GO,color:hi,backgroundColor:hi,outlineColor:hi,fill:hi,stroke:hi,borderColor:hi,borderTopColor:hi,borderRightColor:hi,borderBottomColor:hi,borderLeftColor:hi,filter:$M,WebkitFilter:$M},UF=n=>zle[n];function FF(n,e){let t=UF(n);return t!==$M&&(t=zd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const jle=new Set(["auto","none","0"]);function Ule(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!jle.has(s)&&Ew(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=FF(t,i)}class Fle extends $O{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),LO(f))){const d=VF(f,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!BF.has(r)||e.length!==2)return;const[i,s]=e,o=oV(i),a=oV(s);if(o!==a)if(nV(o)&&nV(a))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Bp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Nle(e[i]))&&r.push(i);r.length&&Ule(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Bp[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function Hle(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const HF=(n,e)=>e&&typeof n=="number"?e.transform(n):n,lV=30,$le=n=>!isNaN(parseFloat(n));class qle{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=bo.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=bo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$le(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new IO);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ar.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lV)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,lV);return lF(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qy(n,e){return new qle(n,e)}const{schedule:KO}=bF(queueMicrotask,!1),hl={x:!1,y:!1};function $F(){return hl.x||hl.y}function Wle(n){return n==="x"||n==="y"?hl[n]?null:(hl[n]=!0,()=>{hl[n]=!1}):hl.x||hl.y?null:(hl.x=hl.y=!0,()=>{hl.x=hl.y=!1})}function qF(n,e){const t=Hle(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function cV(n){return!(n.pointerType==="touch"||$F())}function Gle(n,e,t={}){const[r,i,s]=qF(n,t),o=a=>{if(!cV(a))return;const{target:c}=a,f=e(c,a);if(typeof f!="function"||!c)return;const d=m=>{cV(m)&&(f(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const WF=(n,e)=>e?n===e?!0:WF(n,e.parentElement):!1,YO=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Kle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yle(n){return Kle.has(n.tagName)||n.tabIndex!==-1}const IE=new WeakSet;function uV(n){return e=>{e.key==="Enter"&&n(e)}}function MR(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Xle=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=uV(()=>{if(IE.has(t))return;MR(t,"down");const i=uV(()=>{MR(t,"up")}),s=()=>MR(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function fV(n){return YO(n)&&!$F()}function Qle(n,e,t={}){const[r,i,s]=qF(n,t),o=a=>{const c=a.currentTarget;if(!fV(a))return;IE.add(c);const f=e(c,a),d=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),IE.has(c)&&IE.delete(c),fV(b)&&typeof f=="function"&&f(b,{success:x})},m=b=>{d(b,c===window||c===document||t.useGlobalTarget||WF(c,b.target))},g=b=>{d(b,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),qO(a)&&(a.addEventListener("focus",f=>Xle(f,i)),!Yle(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function GF(n){return oF(n)&&"ownerSVGElement"in n}function Jle(n){return GF(n)&&n.tagName==="svg"}const Ts=n=>!!(n&&n.getVelocity),Zle=[...jF,hi,zd],ece=n=>Zle.find(zF(n)),XO=A.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class tce extends A.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=qO(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nce({children:n,isPresent:e,anchorX:t}){const r=A.useId(),i=A.useRef(null),s=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(XO);return A.useInsertionEffect(()=>{const{width:a,height:c,top:f,left:d,right:m}=s.current;if(e||!i.current||!a||!c)return;const g=t==="left"?`left: ${d}`:`right: ${m}`;i.current.dataset.motionPopId=r;const b=document.createElement("style");return o&&(b.nonce=o),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[e]),R.jsx(tce,{isPresent:e,childRef:i,sizeRef:s,children:A.cloneElement(n,{ref:i})})}const rce=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const c=CO(ice),f=A.useId();let d=!0,m=A.useMemo(()=>(d=!1,{id:f,initial:e,isPresent:t,custom:i,onExitComplete:g=>{c.set(g,!0);for(const b of c.values())if(!b)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[t,c,r]);return s&&d&&(m={...m}),A.useMemo(()=>{c.forEach((g,b)=>c.set(b,!1))},[t]),A.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),o==="popLayout"&&(n=R.jsx(nce,{isPresent:t,anchorX:a,children:n})),R.jsx(yC.Provider,{value:m,children:n})};function ice(){return new Map}function KF(n=!0){const e=A.useContext(yC);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(n)return i(s)},[n]);const o=A.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const FS=n=>n.key||"";function dV(n){const e=[];return A.Children.forEach(n,t=>{A.isValidElement(t)&&e.push(t)}),e}const sce=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[c,f]=KF(o),d=A.useMemo(()=>dV(n),[n]),m=o&&!c?[]:d.map(FS),g=A.useRef(!0),b=A.useRef(d),x=CO(()=>new Map),[_,C]=A.useState(d),[k,N]=A.useState(d);iF(()=>{g.current=!1,b.current=d;for(let H=0;H<k.length;H++){const U=FS(k[H]);m.includes(U)?x.delete(U):x.get(U)!==!0&&x.set(U,!1)}},[k,m.length,m.join("-")]);const z=[];if(d!==_){let H=[...d];for(let U=0;U<k.length;U++){const O=k[U],D=FS(O);m.includes(D)||(H.splice(U,0,O),z.push(O))}return s==="wait"&&z.length&&(H=z),N(dV(H)),C(d),null}const{forceRender:P}=A.useContext(TO);return R.jsx(R.Fragment,{children:k.map(H=>{const U=FS(H),O=o&&!c?!1:d===k||m.includes(U),D=()=>{if(x.has(U))x.set(U,!0);else return;let V=!0;x.forEach(F=>{F||(V=!1)}),V&&(P==null||P(),N(b.current),o&&(f==null||f()),r&&r())};return R.jsx(rce,{isPresent:O,initial:!g.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:O?void 0:D,anchorX:a,children:H},U)})})},YF=A.createContext({strict:!1}),hV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wy={};for(const n in hV)Wy[n]={isEnabled:e=>hV[n].some(t=>!!e[t])};function oce(n){for(const e in n)Wy[e]={...Wy[e],...n[e]}}const ace=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function I_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||ace.has(n)}let XF=n=>!I_(n);function lce(n){typeof n=="function"&&(XF=e=>e.startsWith("on")?!I_(e):n(e))}try{lce(require("@emotion/is-prop-valid").default)}catch{}function cce(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(XF(i)||t===!0&&I_(i)||!e&&!I_(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function uce(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const vC=A.createContext({});function bC(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function _w(n){return typeof n=="string"||Array.isArray(n)}const QO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JO=["initial",...QO];function wC(n){return bC(n.animate)||JO.some(e=>_w(n[e]))}function QF(n){return!!(wC(n)||n.variants)}function fce(n,e){if(wC(n)){const{initial:t,animate:r}=n;return{initial:t===!1||_w(t)?t:void 0,animate:_w(r)?r:void 0}}return n.inherit!==!1?e:{}}function dce(n){const{initial:e,animate:t}=fce(n,A.useContext(vC));return A.useMemo(()=>({initial:e,animate:t}),[pV(e),pV(t)])}function pV(n){return Array.isArray(n)?n.join(" "):n}const hce=Symbol.for("motionComponentSymbol");function fy(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pce(n,e,t){return A.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):fy(t)&&(t.current=r))},[e])}const ZO=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mce="framerAppearId",JF="data-"+ZO(mce),ZF=A.createContext({});function gce(n,e,t,r,i){var _,C;const{visualElement:s}=A.useContext(vC),o=A.useContext(YF),a=A.useContext(yC),c=A.useContext(XO).reducedMotion,f=A.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,m=A.useContext(ZF);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&yce(f.current,t,i,m);const g=A.useRef(!1);A.useInsertionEffect(()=>{d&&g.current&&d.update(t,a)});const b=t[JF],x=A.useRef(!!b&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,b))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,b)));return iF(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),KO.render(d.render),x.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,b)}),x.current=!1))}),d}function yce(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:e9(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&fy(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:f})}function e9(n){if(n)return n.options.allowProjection!==!1?n.projection:e9(n.parent)}function vce({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&oce(n);function s(a,c){let f;const d={...A.useContext(XO),...a,layoutId:bce(a)},{isStatic:m}=d,g=dce(a),b=r(a,m);if(!m&&AO){wce();const x=xce(d);f=x.MeasureLayout,g.visualElement=gce(i,b,d,e,x.ProjectionNode)}return R.jsxs(vC.Provider,{value:g,children:[f&&g.visualElement?R.jsx(f,{visualElement:g.visualElement,...d}):null,t(i,a,pce(b,g.visualElement,c),b,m,g.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=A.forwardRef(s);return o[hce]=i,o}function bce({layoutId:n}){const e=A.useContext(TO).id;return e&&n!==void 0?e+"-"+n:n}function wce(n,e){A.useContext(YF).strict}function xce(n){const{drag:e,layout:t}=Wy;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Tw={};function Sce(n){for(const e in n)Tw[e]=n[e],PO(e)&&(Tw[e].isCSSVariable=!0)}function t9(n,{layout:e,layoutId:t}){return Ev.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Tw[n]||n==="opacity")}const Ece={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_ce=Sv.length;function Tce(n,e,t){let r="",i=!0;for(let s=0;s<_ce;s++){const o=Sv[s],a=n[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||t){const f=HF(a,GO[o]);if(!c){i=!1;const d=Ece[o]||o;r+=`${d}(${f}) `}t&&(e[o]=f)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function e2(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const c in e){const f=e[c];if(Ev.has(c)){o=!0;continue}else if(PO(c)){i[c]=f;continue}else{const d=HF(f,GO[c]);c.startsWith("origin")?(a=!0,s[c]=d):r[c]=d}}if(e.transform||(o||t?r.transform=Tce(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:f="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${f} ${d}`}}const t2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n9(n,e,t){for(const r in e)!Ts(e[r])&&!t9(r,t)&&(n[r]=e[r])}function Cce({transformTemplate:n},e){return A.useMemo(()=>{const t=t2();return e2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Ace(n,e){const t=n.style||{},r={};return n9(r,t,n),Object.assign(r,Cce(n,e)),r}function Rce(n,e){const t={},r=Ace(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const kce={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mce={offset:"strokeDashoffset",array:"strokeDasharray"};function Dce(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?kce:Mce;n[s.offset]=xt.transform(-r);const o=xt.transform(e),a=xt.transform(t);n[s.array]=`${o} ${a}`}function r9(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,f,d){if(e2(n,a,f),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:g}=n;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),i!==void 0&&Dce(m,i,s,o,!1)}const i9=()=>({...t2(),attrs:{}}),s9=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Ice(n,e,t,r){const i=A.useMemo(()=>{const s=i9();return r9(s,e,s9(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};n9(s,n.style,n),i.style={...s,...i.style}}return i}const Oce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function n2(n){return typeof n!="string"||n.includes("-")?!1:!!(Oce.indexOf(n)>-1||/[A-Z]/u.test(n))}function Nce(n=!1){return(t,r,i,{latestValues:s},o)=>{const c=(n2(t)?Ice:Rce)(r,s,o,t),f=cce(r,typeof t=="string",n),d=t!==A.Fragment?{...f,...c,ref:i}:{},{children:m}=r,g=A.useMemo(()=>Ts(m)?m.get():m,[m]);return A.createElement(t,{...d,children:g})}}function mV(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function r2(n,e,t,r){if(typeof e=="function"){const[i,s]=mV(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=mV(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function OE(n){return Ts(n)?n.get():n}function Pce({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:Lce(t,r,i,n),renderState:e()}}const o9=n=>(e,t)=>{const r=A.useContext(vC),i=A.useContext(yC),s=()=>Pce(n,e,r,i);return t?s():CO(s)};function Lce(n,e,t,r){const i={},s=r(n,{});for(const g in s)i[g]=OE(s[g]);let{initial:o,animate:a}=n;const c=wC(n),f=QF(n);e&&f&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const m=d?a:o;if(m&&typeof m!="boolean"&&!bC(m)){const g=Array.isArray(m)?m:[m];for(let b=0;b<g.length;b++){const x=r2(n,g[b]);if(x){const{transitionEnd:_,transition:C,...k}=x;for(const N in k){let z=k[N];if(Array.isArray(z)){const P=d?z.length-1:0;z=z[P]}z!==null&&(i[N]=z)}for(const N in _)i[N]=_[N]}}}return i}function i2(n,e,t){var s;const{style:r}=n,i={};for(const o in r)(Ts(r[o])||e.style&&Ts(e.style[o])||t9(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Vce={useVisualState:o9({scrapeMotionValuesFromProps:i2,createRenderState:t2})};function a9(n,e,t){const r=i2(n,e,t);for(const i in n)if(Ts(n[i])||Ts(e[i])){const s=Sv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const Bce={useVisualState:o9({scrapeMotionValuesFromProps:a9,createRenderState:i9})};function zce(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...n2(r)?Bce:Vce,preloadedFeatures:n,useRender:Nce(i),createVisualElement:e,Component:r};return vce(o)}}function Cw(n,e,t){const r=n.getProps();return r2(r,e,t!==void 0?t:r.custom,n)}const qM=n=>Array.isArray(n);function jce(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,qy(t))}function Uce(n){return qM(n)?n[n.length-1]||0:n}function Fce(n,e){const t=Cw(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=Uce(s[o]);jce(n,o,a)}}function Hce(n){return!!(Ts(n)&&n.add)}function WM(n,e){const t=n.getValue("willChange");if(Hce(t))return t.add(e);if(!t&&Gu.WillChange){const r=new Gu.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function l9(n){return n.props[JF]}const $ce=n=>n!==null;function qce(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter($ce),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Wce={type:"spring",stiffness:500,damping:25,restSpeed:10},Gce=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Kce={type:"keyframes",duration:.8},Yce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xce=(n,{keyframes:e})=>e.length>2?Kce:Ev.has(n)?n.startsWith("scale")?Gce(e[1]):Wce:Yce;function Qce({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const s2=(n,e,t,r={},i,s)=>o=>{const a=WO(r,n)||{},c=a.delay||r.delay||0;let{elapsed:f=0}=r;f=f-xc(c);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-f,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};Qce(a)||Object.assign(d,Xce(n,d)),d.duration&&(d.duration=xc(d.duration)),d.repeatDelay&&(d.repeatDelay=xc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(m=!0)),(Gu.instantAnimations||Gu.skipAnimations)&&(m=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,m&&!s&&e.get()!==void 0){const g=qce(d.keyframes,a);if(g!==void 0){Ar.update(()=>{d.onUpdate(g),d.onComplete()});return}}return a.isSync?new HO(d):new Mle(d)};function Jce({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function c9(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const c=[],f=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const m=n.getValue(d,n.latestValues[d]??null),g=a[d];if(g===void 0||f&&Jce(f,d))continue;const b={delay:t,...WO(s||{},d)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===x&&!b.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const k=l9(n);if(k){const N=window.MotionHandoffAnimation(k,d,Ar);N!==null&&(b.startTime=N,_=!0)}}WM(n,d),m.start(s2(d,m,g,n.shouldReduceMotion&&BF.has(d)?{type:!1}:b,n,_));const C=m.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{Ar.update(()=>{o&&Fce(n,o)})}),c}function GM(n,e,t={}){var c;const r=Cw(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(c9(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:g}=i;return Zce(n,e,d+f,m,g,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[f,d]=a==="beforeChildren"?[s,o]:[o,s];return f().then(()=>d())}else return Promise.all([s(),o(t.delay)])}function Zce(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,c=i===1?(f=0)=>f*r:(f=0)=>a-f*r;return Array.from(n.variantChildren).sort(eue).forEach((f,d)=>{f.notify("AnimationStart",e),o.push(GM(f,e,{...s,delay:t+c(d)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function eue(n,e){return n.sortNodePosition(e)}function tue(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>GM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=GM(n,e,t);else{const i=typeof e=="function"?Cw(n,e,t.custom):e;r=Promise.all(c9(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function u9(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const nue=JO.length;function f9(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?f9(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<nue;t++){const r=JO[t],i=n.props[r];(_w(i)||i===!1)&&(e[r]=i)}return e}const rue=[...QO].reverse(),iue=QO.length;function sue(n){return e=>Promise.all(e.map(({animation:t,options:r})=>tue(n,t,r)))}function oue(n){let e=sue(n),t=gV(),r=!0;const i=c=>(f,d)=>{var g;const m=Cw(n,d,c==="exit"?(g=n.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:b,transitionEnd:x,..._}=m;f={...f,..._,...x}}return f};function s(c){e=c(n)}function o(c){const{props:f}=n,d=f9(n.parent)||{},m=[],g=new Set;let b={},x=1/0;for(let C=0;C<iue;C++){const k=rue[C],N=t[k],z=f[k]!==void 0?f[k]:d[k],P=_w(z),H=k===c?N.isActive:null;H===!1&&(x=C);let U=z===d[k]&&z!==f[k]&&P;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),N.protectedKeys={...b},!N.isActive&&H===null||!z&&!N.prevProp||bC(z)||typeof z=="boolean")continue;const O=aue(N.prevProp,z);let D=O||k===c&&N.isActive&&!U&&P||C>x&&P,V=!1;const F=Array.isArray(z)?z:[z];let W=F.reduce(i(k),{});H===!1&&(W={});const{prevResolvedValues:X={}}=N,G={...X,...W},Te=se=>{D=!0,g.has(se)&&(V=!0,g.delete(se)),N.needsAnimating[se]=!0;const te=n.getValue(se);te&&(te.liveStyle=!1)};for(const se in G){const te=W[se],we=X[se];if(b.hasOwnProperty(se))continue;let Q=!1;qM(te)&&qM(we)?Q=!u9(te,we):Q=te!==we,Q?te!=null?Te(se):g.add(se):te!==void 0&&g.has(se)?Te(se):N.protectedKeys[se]=!0}N.prevProp=z,N.prevResolvedValues=W,N.isActive&&(b={...b,...W}),r&&n.blockInitialAnimation&&(D=!1),D&&(!(U&&O)||V)&&m.push(...F.map(se=>({animation:se,options:{type:k}})))}if(g.size){const C={};if(typeof f.initial!="boolean"){const k=Cw(n,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(C.transition=k.transition)}g.forEach(k=>{const N=n.getBaseTarget(k),z=n.getValue(k);z&&(z.liveStyle=!0),C[k]=N??null}),m.push({animation:C})}let _=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(m):Promise.resolve()}function a(c,f){var m;if(t[c].isActive===f)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(c,f)}),t[c].isActive=f;const d=o(c);for(const g in t)t[g].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=gV(),r=!0}}}function aue(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!u9(e,n):!1}function mp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gV(){return{animate:mp(!0),whileInView:mp(),whileHover:mp(),whileTap:mp(),whileDrag:mp(),whileFocus:mp(),exit:mp()}}class qd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lue extends qd{constructor(e){super(e),e.animationState||(e.animationState=oue(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bC(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let cue=0;class uue extends qd{constructor(){super(...arguments),this.id=cue++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fue={animation:{Feature:lue},exit:{Feature:uue}};function Aw(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function d1(n){return{point:{x:n.pageX,y:n.pageY}}}const due=n=>e=>YO(e)&&n(e,d1(e));function Bb(n,e,t,r){return Aw(n,e,due(t),r)}function d9({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function hue({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function pue(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const h9=1e-4,mue=1-h9,gue=1+h9,p9=.01,yue=0-p9,vue=0+p9;function qs(n){return n.max-n.min}function bue(n,e,t){return Math.abs(n-e)<=t}function yV(n,e,t,r=.5){n.origin=r,n.originPoint=Cr(e.min,e.max,n.origin),n.scale=qs(t)/qs(e),n.translate=Cr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=mue&&n.scale<=gue||isNaN(n.scale))&&(n.scale=1),(n.translate>=yue&&n.translate<=vue||isNaN(n.translate))&&(n.translate=0)}function zb(n,e,t,r){yV(n.x,e.x,t.x,r?r.originX:void 0),yV(n.y,e.y,t.y,r?r.originY:void 0)}function vV(n,e,t){n.min=t.min+e.min,n.max=n.min+qs(e)}function wue(n,e,t){vV(n.x,e.x,t.x),vV(n.y,e.y,t.y)}function bV(n,e,t){n.min=e.min-t.min,n.max=n.min+qs(e)}function jb(n,e,t){bV(n.x,e.x,t.x),bV(n.y,e.y,t.y)}const wV=()=>({translate:0,scale:1,origin:0,originPoint:0}),dy=()=>({x:wV(),y:wV()}),xV=()=>({min:0,max:0}),Qr=()=>({x:xV(),y:xV()});function Ea(n){return[n("x"),n("y")]}function DR(n){return n===void 0||n===1}function KM({scale:n,scaleX:e,scaleY:t}){return!DR(n)||!DR(e)||!DR(t)}function xp(n){return KM(n)||m9(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function m9(n){return SV(n.x)||SV(n.y)}function SV(n){return n&&n!=="0%"}function O_(n,e,t){const r=n-t,i=e*r;return t+i}function EV(n,e,t,r,i){return i!==void 0&&(n=O_(n,i,r)),O_(n,t,r)+e}function YM(n,e=0,t=1,r,i){n.min=EV(n.min,e,t,r,i),n.max=EV(n.max,e,t,r,i)}function g9(n,{x:e,y:t}){YM(n.x,e.translate,e.scale,e.originPoint),YM(n.y,t.translate,t.scale,t.originPoint)}const _V=.999999999999,TV=1.0000000000001;function xue(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&py(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,g9(n,o)),r&&xp(s.latestValues)&&py(n,s.latestValues))}e.x<TV&&e.x>_V&&(e.x=1),e.y<TV&&e.y>_V&&(e.y=1)}function hy(n,e){n.min=n.min+e,n.max=n.max+e}function CV(n,e,t,r,i=.5){const s=Cr(n.min,n.max,i);YM(n,e,t,s,r)}function py(n,e){CV(n.x,e.x,e.scaleX,e.scale,e.originX),CV(n.y,e.y,e.scaleY,e.scale,e.originY)}function y9(n,e){return d9(pue(n.getBoundingClientRect(),e))}function Sue(n,e,t){const r=y9(n,t),{scroll:i}=e;return i&&(hy(r.x,i.offset.x),hy(r.y,i.offset.y)),r}const v9=({current:n})=>n?n.ownerDocument.defaultView:null,AV=(n,e)=>Math.abs(n-e);function Eue(n,e){const t=AV(n.x,e.x),r=AV(n.y,e.y);return Math.sqrt(t**2+r**2)}class b9{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=OR(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,b=Eue(m.offset,{x:0,y:0})>=3;if(!g&&!b)return;const{point:x}=m,{timestamp:_}=Ki;this.history.push({...x,timestamp:_});const{onStart:C,onMove:k}=this.handlers;g||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=IR(g,this.transformPagePoint),Ar.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=OR(m.type==="pointercancel"?this.lastMoveEventInfo:IR(g,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,C),x&&x(m,C)},!YO(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=d1(e),a=IR(o,this.transformPagePoint),{point:c}=a,{timestamp:f}=Ki;this.history=[{...c,timestamp:f}];const{onSessionStart:d}=t;d&&d(e,OR(a,this.history)),this.removeListeners=c1(Bb(this.contextWindow,"pointermove",this.handlePointerMove),Bb(this.contextWindow,"pointerup",this.handlePointerUp),Bb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bd(this.updatePoint)}}function IR(n,e){return e?{point:e(n.point)}:n}function RV(n,e){return{x:n.x-e.x,y:n.y-e.y}}function OR({point:n},e){return{point:n,delta:RV(n,w9(e)),offset:RV(n,_ue(e)),velocity:Tue(e,.1)}}function _ue(n){return n[0]}function w9(n){return n[n.length-1]}function Tue(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=w9(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>xc(e)));)t--;if(!r)return{x:0,y:0};const s=Sc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Cue(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Cr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Cr(t,n,r.max):Math.min(n,t)),n}function kV(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Aue(n,{top:e,left:t,bottom:r,right:i}){return{x:kV(n.x,t,i),y:kV(n.y,e,r)}}function MV(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Rue(n,e){return{x:MV(n.x,e.x),y:MV(n.y,e.y)}}function kue(n,e){let t=.5;const r=qs(n),i=qs(e);return i>r?t=xw(e.min,e.max-r,n.min):r>i&&(t=xw(n.min,n.max-i,e.min)),Wu(0,1,t)}function Mue(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const XM=.35;function Due(n=XM){return n===!1?n=0:n===!0&&(n=XM),{x:DV(n,"left","right"),y:DV(n,"top","bottom")}}function DV(n,e,t){return{min:IV(n,e),max:IV(n,t)}}function IV(n,e){return typeof n=="number"?n:n[e]||0}const Iue=new WeakMap;class Oue{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(d1(d).point)},s=(d,m)=>{const{drag:g,dragPropagation:b,onDragStart:x}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wle(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ea(C=>{let k=this.getAxisMotionValue(C).get()||0;if(Ec.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const z=N.layout.layoutBox[C];z&&(k=qs(z)*(parseFloat(k)/100))}}this.originPoint[C]=k}),x&&Ar.postRender(()=>x(d,m)),WM(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,m)=>{const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:x,onDrag:_}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:C}=m;if(b&&this.currentDirection===null){this.currentDirection=Nue(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),_&&_(d,m)},a=(d,m)=>this.stop(d,m),c=()=>Ea(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new b9(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:v9(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ar.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!HS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Cue(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&fy(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Aue(r.layoutBox,e):this.constraints=!1,this.elastic=Due(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ea(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Mue(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fy(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Sue(r,i.root,this.visualElement.getTransformPagePoint());let o=Rue(i.layout.layoutBox,s);if(t){const a=t(hue(o));this.hasMutatedConstraints=!!a,a&&(o=d9(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},f=Ea(d=>{if(!HS(d,t,this.currentDirection))return;let m=c&&c[d]||{};o&&(m={min:0,max:0});const g=i?200:1e6,b=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(d,x)});return Promise.all(f).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return WM(this.visualElement,e),r.start(s2(e,r,0,t,this.visualElement,!1))}stopAnimation(){Ea(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ea(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ea(t=>{const{drag:r}=this.getProps();if(!HS(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Cr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!fy(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ea(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=kue({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ea(o=>{if(!HS(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:f}=this.constraints[o];a.set(Cr(c,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;Iue.set(this.visualElement,this);const e=this.visualElement.current,t=Bb(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();fy(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ar.read(r);const o=Aw(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ea(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=XM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function HS(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Nue(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Pue extends qd{constructor(e){super(e),this.removeGroupControls=Ra,this.removeListeners=Ra,this.controls=new Oue(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ra}unmount(){this.removeGroupControls(),this.removeListeners()}}const OV=n=>(e,t)=>{n&&Ar.postRender(()=>n(e,t))};class Lue extends qd{constructor(){super(...arguments),this.removePointerDownListener=Ra}onPointerDown(e){this.session=new b9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OV(e),onStart:OV(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ar.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bb(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const NE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NV(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const eb={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xt.test(n))n=parseFloat(n);else return n;const t=NV(n,e.target.x),r=NV(n,e.target.y);return`${t}% ${r}%`}},Vue={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=zd.parse(n);if(i.length>5)return r;const s=zd.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const f=Cr(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),s(i)}};class Bue extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Sce(zue),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),NE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ar.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),KO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function x9(n){const[e,t]=KF(),r=A.useContext(TO);return R.jsx(Bue,{...n,layoutGroup:r,switchLayoutGroup:A.useContext(ZF),isPresent:e,safeToRemove:t})}const zue={borderRadius:{...eb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eb,borderTopRightRadius:eb,borderBottomLeftRadius:eb,borderBottomRightRadius:eb,boxShadow:Vue};function jue(n,e,t){const r=Ts(n)?n:qy(n);return r.start(s2("",r,e,t)),r.animation}const Uue=(n,e)=>n.depth-e.depth;class Fue{constructor(){this.children=[],this.isDirty=!1}add(e){RO(this.children,e),this.isDirty=!0}remove(e){kO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Uue),this.isDirty=!1,this.children.forEach(e)}}function Hue(n,e){const t=bo.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Bd(r),n(s-e))};return Ar.setup(r,!0),()=>Bd(r)}const S9=["TopLeft","TopRight","BottomLeft","BottomRight"],$ue=S9.length,PV=n=>typeof n=="string"?parseFloat(n):n,LV=n=>typeof n=="number"||xt.test(n);function que(n,e,t,r,i,s){i?(n.opacity=Cr(0,t.opacity??1,Wue(r)),n.opacityExit=Cr(e.opacity??1,0,Gue(r))):s&&(n.opacity=Cr(e.opacity??1,t.opacity??1,r));for(let o=0;o<$ue;o++){const a=`border${S9[o]}Radius`;let c=VV(e,a),f=VV(t,a);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||LV(c)===LV(f)?(n[a]=Math.max(Cr(PV(c),PV(f),r),0),(Ec.test(f)||Ec.test(c))&&(n[a]+="%")):n[a]=f}(e.rotate||t.rotate)&&(n.rotate=Cr(e.rotate||0,t.rotate||0,r))}function VV(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Wue=E9(0,.5,mF),Gue=E9(.5,.95,Ra);function E9(n,e,t){return r=>r<n?0:r>e?1:t(xw(n,e,r))}function BV(n,e){n.min=e.min,n.max=e.max}function wa(n,e){BV(n.x,e.x),BV(n.y,e.y)}function zV(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function jV(n,e,t,r,i){return n-=e,n=O_(n,1/t,r),i!==void 0&&(n=O_(n,1/i,r)),n}function Kue(n,e=0,t=1,r=.5,i,s=n,o=n){if(Ec.test(e)&&(e=parseFloat(e),e=Cr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Cr(s.min,s.max,r);n===s&&(a-=e),n.min=jV(n.min,e,t,a,i),n.max=jV(n.max,e,t,a,i)}function UV(n,e,[t,r,i],s,o){Kue(n,e[t],e[r],e[i],e.scale,s,o)}const Yue=["x","scaleX","originX"],Xue=["y","scaleY","originY"];function FV(n,e,t,r){UV(n.x,e,Yue,t?t.x:void 0,r?r.x:void 0),UV(n.y,e,Xue,t?t.y:void 0,r?r.y:void 0)}function HV(n){return n.translate===0&&n.scale===1}function _9(n){return HV(n.x)&&HV(n.y)}function $V(n,e){return n.min===e.min&&n.max===e.max}function Que(n,e){return $V(n.x,e.x)&&$V(n.y,e.y)}function qV(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function T9(n,e){return qV(n.x,e.x)&&qV(n.y,e.y)}function WV(n){return qs(n.x)/qs(n.y)}function GV(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Jue{constructor(){this.members=[]}add(e){RO(this.members,e),e.scheduleRender()}remove(e){if(kO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zue(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:d,rotateX:m,rotateY:g,skewX:b,skewY:x}=t;f&&(r=`perspective(${f}px) ${r}`),d&&(r+=`rotate(${d}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=n.x.scale*e.x,c=n.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const NR=["","X","Y","Z"],efe={visibility:"hidden"},tfe=1e3;let nfe=0;function PR(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function C9(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=l9(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ar,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&C9(r)}function A9({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=nfe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sfe),this.nodes.forEach(ufe),this.nodes.forEach(ffe),this.nodes.forEach(ofe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fue)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new IO),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=GF(o)&&!Jle(o),this.instance=o;const{layoutId:a,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),n){let d;const m=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Hue(m,250),NE.hasAnimatedSinceResize&&(NE.hasAnimatedSinceResize=!1,this.nodes.forEach(YV))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&f&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||gfe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!T9(this.targetLayout,b),N=!m&&g;if(this.options.layoutRoot||this.resumeFrom||N||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...WO(x,"layout"),onPlay:_,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(d,N)}else m||YV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dfe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KV);return}this.isUpdating||this.nodes.forEach(lfe),this.isUpdating=!1,this.nodes.forEach(cfe),this.nodes.forEach(rfe),this.nodes.forEach(ife),this.clearAllSnapshots();const a=bo.now();Ki.delta=Wu(0,1e3/60,a-Ki.timestamp),Ki.timestamp=a,Ki.isProcessing=!0,TR.update.process(Ki),TR.preRender.process(Ki),TR.render.process(Ki),Ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(afe),this.sharedNodes.forEach(hfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qs(this.snapshot.measuredBox.x)&&!qs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!_9(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;o&&this.instance&&(a||xp(this.latestValues)||d)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),yfe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return Qr();const a=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(vfe))){const{scroll:d}=this.root;d&&(hy(a.x,d.offset.x),hy(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=Qr();if(wa(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&wa(a,o),hy(a.x,m.offset.x),hy(a.y,m.offset.y))}return a}applyTransform(o,a=!1){const c=Qr();wa(c,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&py(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xp(d.latestValues)&&py(c,d.latestValues)}return xp(this.latestValues)&&py(c,this.latestValues),c}removeTransform(o){const a=Qr();wa(a,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!xp(f.latestValues))continue;KM(f.latestValues)&&f.updateSnapshot();const d=Qr(),m=f.measurePageBox();wa(d,m),FV(a,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return xp(this.latestValues)&&FV(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=Ki.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),jb(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qr(),this.targetWithTransforms=Qr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wue(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wa(this.target,this.layout.layoutBox),g9(this.target,this.targetDelta)):wa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),jb(this.relativeTargetOrigin,this.target,b.target),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||KM(this.parent.latestValues)||m9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ki.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;wa(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;xue(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qr());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zV(this.prevProjectionDelta.x,this.projectionDelta.x),zV(this.prevProjectionDelta.y,this.projectionDelta.y)),zb(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!GV(this.projectionDelta.x,this.prevProjectionDelta.x)||!GV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dy(),this.projectionDelta=dy(),this.projectionDeltaWithTransform=dy()}setAnimationOrigin(o,a=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},m=dy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Qr(),b=c?c.source:void 0,x=this.layout?this.layout.source:void 0,_=b!==x,C=this.getStack(),k=!C||C.members.length<=1,N=!!(_&&!k&&this.options.crossfade===!0&&!this.path.some(mfe));this.animationProgress=0;let z;this.mixTargetDelta=P=>{const H=P/1e3;XV(m.x,o.x,H),XV(m.y,o.y,H),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jb(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pfe(this.relativeTarget,this.relativeTargetOrigin,g,H),z&&Que(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Qr()),wa(z,this.relativeTarget)),_&&(this.animationValues=d,que(d,f,this.latestValues,H,N,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,f;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ar.update(()=>{NE.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qy(0)),this.currentAnimation=jue(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tfe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:f,latestValues:d}=o;if(!(!a||!c||!f)){if(this!==o&&this.layout&&f&&R9(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Qr();const m=qs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=qs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}wa(a,c),py(a,d),zb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Jue),this.sharedNodes.get(o).add(a);const f=a.options.initialPromotionConfig;a.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const f={};c.z&&PR("z",o,f,this.animationValues);for(let d=0;d<NR.length;d++)PR(`rotate${NR[d]}`,o,f,this.animationValues),PR(`skew${NR[d]}`,o,f,this.animationValues);o.render();for(const d in f)o.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return efe;const a={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=OE(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=OE(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!xp(this.latestValues)&&(b.transform=c?c({},""):"none",this.hasProjected=!1),b}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),a.transform=Zue(this.projectionDeltaWithTransform,this.treeScale,d),c&&(a.transform=c(d,a.transform));const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?a.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in Tw){if(d[b]===void 0)continue;const{correct:x,applyTo:_,isCSSVariable:C}=Tw[b],k=a.transform==="none"?d[b]:x(d[b],f);if(_){const N=_.length;for(let z=0;z<N;z++)a[_[z]]=k}else C?this.options.visualElement.renderState.vars[b]=k:a[b]=k}return this.options.layoutId&&(a.pointerEvents=f===this?OE(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(KV),this.root.sharedNodes.clear()}}}function rfe(n){n.updateLayout()}function ife(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?Ea(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],b=qs(g);g.min=r[m].min,g.max=g.min+b}):R9(s,e.layoutBox,r)&&Ea(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],b=qs(r[m]);g.max=g.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+b)});const a=dy();zb(a,r,e.layoutBox);const c=dy();o?zb(c,n.applyTransform(i,!0),e.measuredBox):zb(c,r,e.layoutBox);const f=!_9(a);let d=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:b}=m;if(g&&b){const x=Qr();jb(x,e.layoutBox,g.layoutBox);const _=Qr();jb(_,r,b.layoutBox),T9(x,_)||(d=!0),m.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=x,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function sfe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ofe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function afe(n){n.clearSnapshot()}function KV(n){n.clearMeasurements()}function lfe(n){n.isLayoutDirty=!1}function cfe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function YV(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ufe(n){n.resolveTargetDelta()}function ffe(n){n.calcProjection()}function dfe(n){n.resetSkewAndRotation()}function hfe(n){n.removeLeadSnapshot()}function XV(n,e,t){n.translate=Cr(e.translate,0,t),n.scale=Cr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function QV(n,e,t,r){n.min=Cr(e.min,t.min,r),n.max=Cr(e.max,t.max,r)}function pfe(n,e,t,r){QV(n.x,e.x,t.x,r),QV(n.y,e.y,t.y,r)}function mfe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gfe={duration:.45,ease:[.4,0,.1,1]},JV=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ZV=JV("applewebkit/")&&!JV("chrome/")?Math.round:Ra;function e4(n){n.min=ZV(n.min),n.max=ZV(n.max)}function yfe(n){e4(n.x),e4(n.y)}function R9(n,e,t){return n==="position"||n==="preserve-aspect"&&!bue(WV(e),WV(t),.2)}function vfe(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const bfe=A9({attachResizeListener:(n,e)=>Aw(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LR={current:void 0},k9=A9({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!LR.current){const n=new bfe({});n.mount(window),n.setOptions({layoutScroll:!0}),LR.current=n}return LR.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),wfe={pan:{Feature:Lue},drag:{Feature:Pue,ProjectionNode:k9,MeasureLayout:x9}};function t4(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Ar.postRender(()=>s(e,d1(e)))}class xfe extends qd{mount(){const{current:e}=this.node;e&&(this.unmount=Gle(e,(t,r)=>(t4(this.node,r,"Start"),i=>t4(this.node,i,"End"))))}unmount(){}}class Sfe extends qd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=c1(Aw(this.node.current,"focus",()=>this.onFocus()),Aw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n4(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Ar.postRender(()=>s(e,d1(e)))}class Efe extends qd{mount(){const{current:e}=this.node;e&&(this.unmount=Qle(e,(t,r)=>(n4(this.node,r,"Start"),(i,{success:s})=>n4(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const QM=new WeakMap,VR=new WeakMap,_fe=n=>{const e=QM.get(n.target);e&&e(n)},Tfe=n=>{n.forEach(_fe)};function Cfe({root:n,...e}){const t=n||document;VR.has(t)||VR.set(t,{});const r=VR.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Tfe,{root:n,...e})),r[i]}function Afe(n,e,t){const r=Cfe(e);return QM.set(n,t),r.observe(n),()=>{QM.delete(n),r.unobserve(n)}}const Rfe={some:0,all:1};class kfe extends qd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Rfe[i]},a=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),g=f?d:m;g&&g(c)};return Afe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Mfe(e,t))&&this.startObserver()}unmount(){}}function Mfe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Dfe={inView:{Feature:kfe},tap:{Feature:Efe},focus:{Feature:Sfe},hover:{Feature:xfe}},Ife={layout:{ProjectionNode:k9,MeasureLayout:x9}},JM={current:null},M9={current:!1};function Ofe(){if(M9.current=!0,!!AO)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>JM.current=n.matches;n.addListener(e),e()}else JM.current=!1}const Nfe=new WeakMap;function Pfe(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Ts(i))n.addValue(r,i);else if(Ts(s))n.addValue(r,qy(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,qy(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const r4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lfe{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$O,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=bo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ar.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=wC(t),this.isVariantNode=QF(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in m){const b=m[g];c[g]!==void 0&&Ts(b)&&b.set(c[g],!1)}}mount(e){this.current=e,Nfe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),M9.current||Ofe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:JM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bd(this.notifyUpdate),Bd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ev.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ar.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wy){const t=Wy[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<r4.length;r++){const i=r4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Pfe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=qy(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sF(r)||aF(r))?r=parseFloat(r):!ece(r)&&zd.test(t)&&(r=FF(e,t)),this.setBaseTarget(e,Ts(r)?r.get():r)),Ts(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=r2(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ts(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new IO),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class D9 extends Lfe{constructor(){super(...arguments),this.KeyframeResolver=Fle}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ts(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function I9(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}function Vfe(n){return window.getComputedStyle(n)}class Bfe extends D9{constructor(){super(...arguments),this.type="html",this.renderInstance=I9}readValueFromInstance(e,t){var r;if(Ev.has(t))return(r=this.projection)!=null&&r.isProjecting?zM(t):ale(e,t);{const i=Vfe(e),s=(PO(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return y9(e,t)}build(e,t,r){e2(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return i2(e,t,r)}}const O9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zfe(n,e,t,r){I9(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(O9.has(i)?i:ZO(i),e.attrs[i])}class jfe extends D9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qr}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ev.has(t)){const r=UF(t);return r&&r.default||0}return t=O9.has(t)?t:ZO(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return a9(e,t,r)}build(e,t,r){r9(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){zfe(e,t,r,i)}mount(e){this.isSVGTag=s9(e.tagName),super.mount(e)}}const Ufe=(n,e)=>n2(n)?new jfe(e):new Bfe(e,{allowProjection:n!==A.Fragment}),Ffe=zce({...fue,...Dfe,...wfe,...Ife},Ufe),od=uce(Ffe);function Hfe({data:n,onNodeClick:e,onNodeExpand:t,defaultExpandedIds:r=[],showLines:i=!0,showIcons:s=!0,selectable:o=!0,multiSelect:a=!1,selectedIds:c=[],onSelectionChange:f,indent:d=20,animateExpand:m=!0,actions:g}){const[b,x]=A.useState(new Set(r)),[_,C]=A.useState(c),k=c!==void 0&&f!==void 0,N=k?c:_,z=A.useCallback(U=>{x(O=>{const D=new Set(O),V=D.has(U);return V?D.delete(U):D.add(U),t==null||t(U,!V),D})},[t]),P=A.useCallback((U,O=!1)=>{if(!o)return;let D;a&&O?D=N.includes(U)?N.filter(V=>V!==U):[...N,U]:D=N.includes(U)?[]:[U],k?f==null||f(D):C(D)},[o,a,N,k,f]),H=(U,O=0,D=!1,V=[])=>{var Ee;const F=(((Ee=U.children)==null?void 0:Ee.length)??0)>0,W=b.has(U.id),X=N.includes(U.id),G=[...V,D],Te=()=>F?W?R.jsx(Aq,{className:"h-4 w-4 translate-y-[-1px]"}):R.jsx(kq,{className:"h-4 w-4 translate-y-[-1px]"}):R.jsx(Tq,{className:"h-4 w-4 translate-y-[-1px]"});return R.jsxs("div",{className:"select-none",children:[R.jsxs(od.div,{className:Je("flex items-center py-1.5 px-3 cursor-pointer transition-all duration-200 relative group rounded-md mx-1","hover:bg-accent/50",X&&"bg-accent/80",o&&"hover:border-accent-foreground/10"),style:{paddingLeft:O*d+8},onClick:J=>{P(U.id,J.ctrlKey||J.metaKey),e==null||e(U)},whileTap:{scale:.98,transition:{duration:.1}},children:[i&&O>0&&R.jsxs("div",{className:"absolute left-0 top-0 bottom-0 pointer-events-none",children:[G.map((J,se)=>R.jsx("div",{className:"absolute top-0 bottom-0 border-l border-black/20 dark:border-white/20",style:{left:se*d+15,display:se===G.length-1&&J?"none":"block"}},se)),R.jsx("div",{className:"absolute top-1/2 border-t border-border/40",style:{left:(O-1)*d+12,width:d-4,transform:"translateY(-1px)"}}),D&&R.jsx("div",{className:"absolute top-0 border-l border-border/40",style:{left:(O-1)*d+12,height:"50%"}})]}),R.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr_auto] items-center w-full",children:[R.jsx(od.div,{className:"flex items-center justify-center w-4 h-4 mr-2",animate:{rotate:F&&W?90:0},transition:{duration:.2,ease:"easeInOut"},whileHover:{scale:1.2},children:F&&R.jsx(GB,{className:"h-4 w-4 text-muted-foreground hover:text-foreground translate-y-[-1px]",onClick:J=>{J.stopPropagation(),J.preventDefault(),F&&z(U.id)}})}),R.jsx(od.div,{className:"flex items-center justify-center w-4 h-4 mr-2 text-muted-foreground",whileHover:{scale:1.1},transition:{duration:.15},children:s&&R.jsx(R.Fragment,{children:U.icon||Te()})}),R.jsx("span",{className:"text-sm font truncate flex-1",title:U.label,children:U.label}),R.jsx("div",{className:"node-actions",children:g&&g(U)})]})]}),R.jsx(sce,{children:F&&W&&R.jsx(od.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:m?.3:0,ease:"easeInOut"},className:"overflow-hidden",children:R.jsx(od.div,{initial:{y:-10},animate:{y:0},exit:{y:-10},transition:{duration:m?.2:0,delay:m?.1:0},children:U.children.map((J,se)=>H(J,O+1,se===U.children.length-1,G))})})})]},U.id)};return n?R.jsx(R.Fragment,{children:n.map((U,O)=>H(U,0,O===n.length-1))}):null}var BR={exports:{}},zR={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function $fe(){if(i4)return zR;i4=1;var n=av(),e=JB();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,a=n.useMemo,c=n.useDebugValue;return zR.useSyncExternalStoreWithSelector=function(f,d,m,g,b){var x=s(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=a(function(){function k(U){if(!N){if(N=!0,z=U,U=g(U),b!==void 0&&_.hasValue){var O=_.value;if(b(O,U))return P=O}return P=U}if(O=P,r(z,U))return O;var D=g(U);return b!==void 0&&b(O,D)?(z=U,O):(z=U,P=D)}var N=!1,z,P,H=m===void 0?null:m;return[function(){return k(d())},H===null?void 0:function(){return k(H())}]},[d,m,g,b]);var C=i(f,x[0],x[1]);return o(function(){_.hasValue=!0,_.value=C},[C]),c(C),C},zR}var s4;function qfe(){return s4||(s4=1,BR.exports=$fe()),BR.exports}var Wfe=qfe();const Ay=new WeakMap,PE=new WeakMap,N_={current:[]};let jR=!1;const $S=new Set,o4=new Map;function N9(n){const e=Array.from(n).sort((t,r)=>t instanceof Ry&&t.options.deps.includes(r)?1:r instanceof Ry&&r.options.deps.includes(t)?-1:0);for(const t of e){if(N_.current.includes(t))continue;N_.current.push(t),t.recompute();const r=PE.get(t);if(r)for(const i of r){const s=Ay.get(i);s&&N9(s)}}}function Gfe(n){n.listeners.forEach(e=>e({prevVal:n.prevState,currentVal:n.state}))}function Kfe(n){n.listeners.forEach(e=>e({prevVal:n.prevState,currentVal:n.state}))}function Yfe(n){if($S.add(n),!jR)try{for(jR=!0;$S.size>0;){const e=Array.from($S);$S.clear();for(const t of e){const r=o4.get(t)??t.prevState;t.prevState=r,Gfe(t)}for(const t of e){const r=Ay.get(t);r&&(N_.current.push(t),N9(r))}for(const t of e){const r=Ay.get(t);if(r)for(const i of r)Kfe(i)}}}finally{jR=!1,N_.current=[],o4.clear()}}function Xfe(n){return typeof n=="function"}class Gy{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,r,i;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):Xfe(e)?this.state=e(this.prevState):this.state=e,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),Yfe(this)}}class Ry{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const i of this.options.deps)t.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof Ry&&s.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,i;this.listeners.add(t);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,t,this);return()=>{this.listeners.delete(t),s==null||s()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof Ry)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof Gy){let r=Ay.get(t);r||(r=new Set,Ay.set(t,r)),r.add(this);let i=PE.get(this);i||(i=new Set,PE.set(this,i)),i.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof Ry)this.unregisterFromGraph(t.options.deps);else if(t instanceof Gy){const r=Ay.get(t);r&&r.delete(this);const i=PE.get(this);i&&i.delete(t)}}}function h1(n,e=t=>t){return Wfe.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,e,Qfe)}function Qfe(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,i]of n)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}const Ky=new Gy(null);new Gy({main:[],side:[]});const vb=new Gy(null),my=new Gy(null);function Jfe(){const n=h1(Ky,r=>r),e=(r,i="main")=>{const s={id:r.id,label:r.label||"Untitled",type:"note"};wt.eventBus.dispatch(wt.enum.eventBus.openTab,{position:i,data:s})},t=A.useMemo(()=>{if(!(n!=null&&n.struct))return{};if(Object.keys(n.struct).length===0)return R.jsx("span",{className:"text-muted-foreground text-sm p-1",children:"No notebooks found"});const r=structuredClone(n.struct),i=o=>Object.values(o).map(a=>{const c={...a};return c.items&&typeof c.items=="object"&&(c.children=i(c.items)),c}),s=i(r);return wt.recursive(s,o=>{if(n.notes[o.id]){for(const a in n.notes[o.id])a!=="id"&&(o[a]=n.notes[o.id][a]);o.label=o.title||"Untitled"}return o}),R.jsx(Hfe,{data:s,onNodeClick:e,showLines:!1,actions:o=>R.jsx("div",{className:"flex items-center gap-1.5 pl-2",children:R.jsxs(Op,{children:[R.jsx(Np,{children:R.jsx(od.div,{whileHover:{scale:1.2},children:R.jsx(XD,{className:"w-4 h-4 text-muted-foreground cursor-pointer hover:text-foreground",onClick:a=>{a.stopPropagation(),a.preventDefault()}})})}),R.jsxs(Pp,{className:"w-48",children:[R.jsxs(cw,{onClick:()=>{wt.notebooks.createNewNotebook(o)},children:[R.jsx(YB,{className:"w-4 h-4 translate-y-[-1px]"}),"New Sub Notebook"]}),R.jsxs(cw,{onClick:()=>{e(o,"side")},children:[R.jsx(SW,{className:"w-4 h-4 translate-y-[-1px]"}),"Open side by side"]})]})]})})})},[n]);return R.jsx(R.Fragment,{children:t})}class Zfe{constructor(){vt(this,"db");vt(this,"user");vt(this,"collections",wt.enum.collection);vt(this,"init",({user:e})=>{this.user=e});vt(this,"create",async(e,t,r)=>{try{const i=SR(this.db,e,t||wt.generateId());return await Ose(i,r),!0}catch(i){return console.error("Error adding document: ",i),!1}});vt(this,"update",async(e,t,r)=>{try{const i=SR(this.db,e,t);return await Nse(i,r),!0}catch(i){return console.error("Error updating document: ",i),!1}});vt(this,"getById",async(e,t)=>{const r=SR(this.db,e,t),i=await Dse(r);return i.exists()?i.data():null});vt(this,"notebooks",{getByUserId:async()=>{let e=await this.getById(this.collections.userNotebooks,this.user.uid);return e||(e=await this.notebooks.init()),e},init:async()=>{const e={struct:{},notes:{}};return await this.create(this.collections.userNotebooks,this.user.uid,e)?e:null},update:async e=>await this.update(this.collections.userNotebooks,this.user.uid,e),updateNote:async(e,t)=>await this.update(this.collections.userNotebooks,this.user.uid,{[`notes.${e}`]:t})});vt(this,"note",{create:async(e,t)=>await this.create(this.collections.notes,e,t),getById:async e=>await this.getById(this.collections.notes,e),update:async(e,t)=>await this.update(this.collections.notes,e,t)});this.db=Pb.fireStoreDb}}class ede{static createService(e){switch(e){case"firebase":return new Zfe;default:throw new Error(`Unknown auth service type: ${e}`)}}}const jd=ede.createService("firebase");var UR={exports:{}};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function a4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(t),!0).forEach(function(r){tde(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a4(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function LE(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?LE=function(e){return typeof e}:LE=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(n)}function tde(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ia(){return Ia=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ia.apply(this,arguments)}function nde(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function rde(n,e){if(n==null)return{};var t=nde(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ide(n){return sde(n)||ode(n)||ade(n)||lde()}function sde(n){if(Array.isArray(n))return ZM(n)}function ode(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ade(n,e){if(n){if(typeof n=="string")return ZM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZM(n,e)}}function ZM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cde="1.15.6";function Lu(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Qu=Lu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p1=Lu(/Edge/i),l4=Lu(/firefox/i),Ub=Lu(/safari/i)&&!Lu(/chrome/i)&&!Lu(/android/i),o2=Lu(/iP(ad|od|hone)/i),P9=Lu(/chrome/i)&&Lu(/android/i),L9={capture:!1,passive:!1};function qt(n,e,t){n.addEventListener(e,t,!Qu&&L9)}function zt(n,e,t){n.removeEventListener(e,t,!Qu&&L9)}function P_(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function V9(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function go(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&P_(n,e):P_(n,e))||r&&n===t)return n;if(n===t)break}while(n=V9(n))}return null}var c4=/\s+/g;function Tr(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(c4," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(c4," ")}}function Ze(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function jp(n,e){var t="";if(typeof n=="string")t=n;else do{var r=Ze(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function B9(n,e,t){if(n){var r=n.getElementsByTagName(e),i=0,s=r.length;if(t)for(;i<s;i++)t(r[i],i);return r}return[]}function _c(){var n=document.scrollingElement;return n||document.documentElement}function hr(n,e,t,r,i){if(!(!n.getBoundingClientRect&&n!==window)){var s,o,a,c,f,d,m;if(n!==window&&n.parentNode&&n!==_c()?(s=n.getBoundingClientRect(),o=s.top,a=s.left,c=s.bottom,f=s.right,d=s.height,m=s.width):(o=0,a=0,c=window.innerHeight,f=window.innerWidth,d=window.innerHeight,m=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!Qu))do if(i&&i.getBoundingClientRect&&(Ze(i,"transform")!=="none"||t&&Ze(i,"position")!=="static")){var g=i.getBoundingClientRect();o-=g.top+parseInt(Ze(i,"border-top-width")),a-=g.left+parseInt(Ze(i,"border-left-width")),c=o+s.height,f=a+s.width;break}while(i=i.parentNode);if(r&&n!==window){var b=jp(i||n),x=b&&b.a,_=b&&b.d;b&&(o/=_,a/=x,m/=x,d/=_,c=o+d,f=a+m)}return{top:o,left:a,bottom:c,right:f,width:m,height:d}}}function u4(n,e,t){for(var r=pd(n,!0),i=hr(n)[e];r;){var s=hr(r)[t],o=void 0;if(o=i>=s,!o)return r;if(r===_c())break;r=pd(r,!1)}return!1}function Yy(n,e,t,r){for(var i=0,s=0,o=n.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==bt.ghost&&(r||o[s]!==bt.dragged)&&go(o[s],t.draggable,n,!1)){if(i===e)return o[s];i++}s++}return null}function a2(n,e){for(var t=n.lastElementChild;t&&(t===bt.ghost||Ze(t,"display")==="none"||e&&!P_(t,e));)t=t.previousElementSibling;return t||null}function Vr(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==bt.clone&&(!e||P_(n,e))&&t++;return t}function f4(n){var e=0,t=0,r=_c();if(n)do{var i=jp(n),s=i.a,o=i.d;e+=n.scrollLeft*s,t+=n.scrollTop*o}while(n!==r&&(n=n.parentNode));return[e,t]}function ude(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function pd(n,e){if(!n||!n.getBoundingClientRect)return _c();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=Ze(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return _c();if(r||e)return t;r=!0}}while(t=t.parentNode);return _c()}function fde(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function FR(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Fb;function z9(n,e){return function(){if(!Fb){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),Fb=setTimeout(function(){Fb=void 0},e)}}}function dde(){clearTimeout(Fb),Fb=void 0}function j9(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function l2(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function d4(n,e){Ze(n,"position","absolute"),Ze(n,"top",e.top),Ze(n,"left",e.left),Ze(n,"width",e.width),Ze(n,"height",e.height)}function HR(n){Ze(n,"position",""),Ze(n,"top",""),Ze(n,"left",""),Ze(n,"width",""),Ze(n,"height","")}function U9(n,e,t){var r={};return Array.from(n.children).forEach(function(i){var s,o,a,c;if(!(!go(i,e.draggable,n,!1)||i.animated||i===t)){var f=hr(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,f.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,f.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,f.right),r.bottom=Math.max((c=r.bottom)!==null&&c!==void 0?c:-1/0,f.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var es="Sortable"+new Date().getTime();function hde(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Ze(i,"display")==="none"||i===bt.ghost)){n.push({target:i,rect:hr(i)});var s=Mc({},n[n.length-1].rect);if(i.thisAnimationDuration){var o=jp(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(ude(n,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;n.forEach(function(a){var c=0,f=a.target,d=f.fromRect,m=hr(f),g=f.prevFromRect,b=f.prevToRect,x=a.rect,_=jp(f,!0);_&&(m.top-=_.f,m.left-=_.e),f.toRect=m,f.thisAnimationDuration&&FR(g,m)&&!FR(d,m)&&(x.top-m.top)/(x.left-m.left)===(d.top-m.top)/(d.left-m.left)&&(c=mde(x,g,b,i.options)),FR(m,d)||(f.prevFromRect=d,f.prevToRect=m,c||(c=i.options.animation),i.animate(f,x,m,c)),c&&(s=!0,o=Math.max(o,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),n=[]},animate:function(r,i,s,o){if(o){Ze(r,"transition",""),Ze(r,"transform","");var a=jp(this.el),c=a&&a.a,f=a&&a.d,d=(i.left-s.left)/(c||1),m=(i.top-s.top)/(f||1);r.animatingX=!!d,r.animatingY=!!m,Ze(r,"transform","translate3d("+d+"px,"+m+"px,0)"),this.forRepaintDummy=pde(r),Ze(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Ze(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Ze(r,"transition",""),Ze(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function pde(n){return n.offsetWidth}function mde(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var Gg=[],$R={initializeByDefault:!0},m1={mount:function(e){for(var t in $R)$R.hasOwnProperty(t)&&!(t in e)&&(e[t]=$R[t]);Gg.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Gg.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Gg.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][s]&&t[o.pluginName][s](Mc({sortable:t},r)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Mc({sortable:t},r)))})},initializePlugins:function(e,t,r,i){Gg.forEach(function(a){var c=a.pluginName;if(!(!e.options[c]&&!a.initializeByDefault)){var f=new a(e,t,e.options);f.sortable=e,f.options=e.options,e[c]=f,Ia(r,f.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,t){var r={};return Gg.forEach(function(i){typeof i.eventProperties=="function"&&Ia(r,i.eventProperties.call(t[i.pluginName],e))}),r},modifyOption:function(e,t,r){var i;return Gg.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[t]=="function"&&(i=s.optionListeners[t].call(e[s.pluginName],r))}),i}};function bb(n){var e=n.sortable,t=n.rootEl,r=n.name,i=n.targetEl,s=n.cloneEl,o=n.toEl,a=n.fromEl,c=n.oldIndex,f=n.newIndex,d=n.oldDraggableIndex,m=n.newDraggableIndex,g=n.originalEvent,b=n.putSortable,x=n.extraEventProperties;if(e=e||t&&t[es],!!e){var _,C=e.options,k="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Qu&&!p1?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=o||t,_.from=a||t,_.item=i||t,_.clone=s,_.oldIndex=c,_.newIndex=f,_.oldDraggableIndex=d,_.newDraggableIndex=m,_.originalEvent=g,_.pullMode=b?b.lastPutMode:void 0;var N=Mc(Mc({},x),m1.getEventProperties(r,e));for(var z in N)_[z]=N[z];t&&t.dispatchEvent(_),C[k]&&C[k].call(e,_)}}var gde=["evt"],fo=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=rde(r,gde);m1.pluginEvent.bind(bt)(e,t,Mc({dragEl:je,parentEl:Pr,ghostEl:kt,rootEl:br,nextEl:Sp,lastDownEl:VE,cloneEl:_r,cloneHidden:ad,dragStarted:wb,putSortable:Wi,activeSortable:bt.active,originalEvent:i,oldIndex:gy,oldDraggableIndex:Hb,newIndex:Ho,newDraggableIndex:ed,hideGhostForTarget:q9,unhideGhostForTarget:W9,cloneNowHidden:function(){ad=!0},cloneNowShown:function(){ad=!1},dispatchSortableEvent:function(a){$s({sortable:t,name:a,originalEvent:i})}},s))};function $s(n){bb(Mc({putSortable:Wi,cloneEl:_r,targetEl:je,rootEl:br,oldIndex:gy,oldDraggableIndex:Hb,newIndex:Ho,newDraggableIndex:ed},n))}var je,Pr,kt,br,Sp,VE,_r,ad,gy,Ho,Hb,ed,qS,Wi,ry=!1,L_=!1,V_=[],gp,fl,qR,WR,h4,p4,wb,Kg,$b,qb=!1,WS=!1,BE,xs,GR=[],eD=!1,B_=[],xC=typeof document<"u",GS=o2,m4=p1||Qu?"cssFloat":"float",yde=xC&&!P9&&!o2&&"draggable"in document.createElement("div"),F9=function(){if(xC){if(Qu)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),H9=function(e,t){var r=Ze(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=Yy(e,0,t),o=Yy(e,1,t),a=s&&Ze(s),c=o&&Ze(o),f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+hr(s).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+hr(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var m=a.float==="left"?"left":"right";return o&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||f>=i&&r[m4]==="none"||o&&r[m4]==="none"&&f+d>i)?"vertical":"horizontal"},vde=function(e,t,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?t.left:t.top,c=r?t.right:t.bottom,f=r?t.width:t.height;return i===a||s===c||i+o/2===a+f/2},bde=function(e,t){var r;return V_.some(function(i){var s=i[es].options.emptyInsertThreshold;if(!(!s||a2(i))){var o=hr(i),a=e>=o.left-s&&e<=o.right+s,c=t>=o.top-s&&t<=o.bottom+s;if(a&&c)return r=i}}),r},$9=function(e){function t(s,o){return function(a,c,f,d){var m=a.options.group.name&&c.options.group.name&&a.options.group.name===c.options.group.name;if(s==null&&(o||m))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return t(s(a,c,f,d),o)(a,c,f,d);var g=(o?a:c).options.group.name;return s===!0||typeof s=="string"&&s===g||s.join&&s.indexOf(g)>-1}}var r={},i=e.group;(!i||LE(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=t(i.pull,!0),r.checkPut=t(i.put),r.revertClone=i.revertClone,e.group=r},q9=function(){!F9&&kt&&Ze(kt,"display","none")},W9=function(){!F9&&kt&&Ze(kt,"display","")};xC&&!P9&&document.addEventListener("click",function(n){if(L_)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),L_=!1,!1},!0);var yp=function(e){if(je){e=e.touches?e.touches[0]:e;var t=bde(e.clientX,e.clientY);if(t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[es]._onDragOver(r)}}},wde=function(e){je&&je.parentNode[es]._isOutsideThisEl(e.target)};function bt(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Ia({},e),n[es]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return H9(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:bt.supportPointer!==!1&&"PointerEvent"in window&&(!Ub||o2),emptyInsertThreshold:5};m1.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);$9(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:yde,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?qt(n,"pointerdown",this._onTapStart):(qt(n,"mousedown",this._onTapStart),qt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(qt(n,"dragover",this),qt(n,"dragenter",this)),V_.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ia(this,hde())}bt.prototype={constructor:bt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Kg=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,je):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(a||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,d=i.filter;if(Rde(r),!je&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Ub&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=go(c,i.draggable,r,!1),!(c&&c.animated)&&VE!==c)){if(gy=Vr(c),Hb=Vr(c,i.draggable),typeof d=="function"){if(d.call(this,e,c,this)){$s({sortable:t,rootEl:f,name:"filter",targetEl:c,toEl:r,fromEl:r}),fo("filter",t,{evt:e}),s&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(m){if(m=go(f,m.trim(),r,!1),m)return $s({sortable:t,rootEl:m,name:"filter",targetEl:c,fromEl:r,toEl:r}),fo("filter",t,{evt:e}),!0}),d)){s&&e.preventDefault();return}i.handle&&!go(f,i.handle,r,!1)||this._prepareDragStart(e,a,c)}}},_prepareDragStart:function(e,t,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,c;if(r&&!je&&r.parentNode===s){var f=hr(r);if(br=s,je=r,Pr=je.parentNode,Sp=je.nextSibling,VE=r,qS=o.group,bt.dragged=je,gp={target:je,clientX:(t||e).clientX,clientY:(t||e).clientY},h4=gp.clientX-f.left,p4=gp.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,je.style["will-change"]="all",c=function(){if(fo("delayEnded",i,{evt:e}),bt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!l4&&i.nativeDraggable&&(je.draggable=!0),i._triggerDragStart(e,t),$s({sortable:i,name:"choose",originalEvent:e}),Tr(je,o.chosenClass,!0)},o.ignore.split(",").forEach(function(d){B9(je,d.trim(),KR)}),qt(a,"dragover",yp),qt(a,"mousemove",yp),qt(a,"touchmove",yp),o.supportPointer?(qt(a,"pointerup",i._onDrop),!this.nativeDraggable&&qt(a,"pointercancel",i._onDrop)):(qt(a,"mouseup",i._onDrop),qt(a,"touchend",i._onDrop),qt(a,"touchcancel",i._onDrop)),l4&&this.nativeDraggable&&(this.options.touchStartThreshold=4,je.draggable=!0),fo("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(p1||Qu))){if(bt.eventCanceled){this._onDrop();return}o.supportPointer?(qt(a,"pointerup",i._disableDelayedDrag),qt(a,"pointercancel",i._disableDelayedDrag)):(qt(a,"mouseup",i._disableDelayedDrag),qt(a,"touchend",i._disableDelayedDrag),qt(a,"touchcancel",i._disableDelayedDrag)),qt(a,"mousemove",i._delayedDragTouchMoveHandler),qt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&qt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,o.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){je&&KR(je),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;zt(e,"mouseup",this._disableDelayedDrag),zt(e,"touchend",this._disableDelayedDrag),zt(e,"touchcancel",this._disableDelayedDrag),zt(e,"pointerup",this._disableDelayedDrag),zt(e,"pointercancel",this._disableDelayedDrag),zt(e,"mousemove",this._delayedDragTouchMoveHandler),zt(e,"touchmove",this._delayedDragTouchMoveHandler),zt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?qt(document,"pointermove",this._onTouchMove):t?qt(document,"touchmove",this._onTouchMove):qt(document,"mousemove",this._onTouchMove):(qt(je,"dragend",this),qt(br,"dragstart",this._onDragStart));try{document.selection?zE(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ry=!1,br&&je){fo("dragStarted",this,{evt:t}),this.nativeDraggable&&qt(document,"dragover",wde);var r=this.options;!e&&Tr(je,r.dragClass,!1),Tr(je,r.ghostClass,!0),bt.active=this,e&&this._appendGhost(),$s({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(fl){this._lastX=fl.clientX,this._lastY=fl.clientY,q9();for(var e=document.elementFromPoint(fl.clientX,fl.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(fl.clientX,fl.clientY),e!==t);)t=e;if(je.parentNode[es]._isOutsideThisEl(e),t)do{if(t[es]){var r=void 0;if(r=t[es]._onDragOver({clientX:fl.clientX,clientY:fl.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=V9(t));W9()}},_onTouchMove:function(e){if(gp){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=kt&&jp(kt,!0),a=kt&&o&&o.a,c=kt&&o&&o.d,f=GS&&xs&&f4(xs),d=(s.clientX-gp.clientX+i.x)/(a||1)+(f?f[0]-GR[0]:0)/(a||1),m=(s.clientY-gp.clientY+i.y)/(c||1)+(f?f[1]-GR[1]:0)/(c||1);if(!bt.active&&!ry){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(kt){o?(o.e+=d-(qR||0),o.f+=m-(WR||0)):o={a:1,b:0,c:0,d:1,e:d,f:m};var g="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Ze(kt,"webkitTransform",g),Ze(kt,"mozTransform",g),Ze(kt,"msTransform",g),Ze(kt,"transform",g),qR=d,WR=m,fl=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!kt){var e=this.options.fallbackOnBody?document.body:br,t=hr(je,!0,GS,!0,e),r=this.options;if(GS){for(xs=e;Ze(xs,"position")==="static"&&Ze(xs,"transform")==="none"&&xs!==document;)xs=xs.parentNode;xs!==document.body&&xs!==document.documentElement?(xs===document&&(xs=_c()),t.top+=xs.scrollTop,t.left+=xs.scrollLeft):xs=_c(),GR=f4(xs)}kt=je.cloneNode(!0),Tr(kt,r.ghostClass,!1),Tr(kt,r.fallbackClass,!0),Tr(kt,r.dragClass,!0),Ze(kt,"transition",""),Ze(kt,"transform",""),Ze(kt,"box-sizing","border-box"),Ze(kt,"margin",0),Ze(kt,"top",t.top),Ze(kt,"left",t.left),Ze(kt,"width",t.width),Ze(kt,"height",t.height),Ze(kt,"opacity","0.8"),Ze(kt,"position",GS?"absolute":"fixed"),Ze(kt,"zIndex","100000"),Ze(kt,"pointerEvents","none"),bt.ghost=kt,e.appendChild(kt),Ze(kt,"transform-origin",h4/parseInt(kt.style.width)*100+"% "+p4/parseInt(kt.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,i=e.dataTransfer,s=r.options;if(fo("dragStart",this,{evt:e}),bt.eventCanceled){this._onDrop();return}fo("setupClone",this),bt.eventCanceled||(_r=l2(je),_r.removeAttribute("id"),_r.draggable=!1,_r.style["will-change"]="",this._hideClone(),Tr(_r,this.options.chosenClass,!1),bt.clone=_r),r.cloneId=zE(function(){fo("clone",r),!bt.eventCanceled&&(r.options.removeCloneOnHide||br.insertBefore(_r,je),r._hideClone(),$s({sortable:r,name:"clone"}))}),!t&&Tr(je,s.dragClass,!0),t?(L_=!0,r._loopId=setInterval(r._emulateDragOver,50)):(zt(document,"mouseup",r._onDrop),zt(document,"touchend",r._onDrop),zt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,je)),qt(document,"drop",r),Ze(je,"transform","translateZ(0)")),ry=!0,r._dragStartId=zE(r._dragStarted.bind(r,t,e)),qt(document,"selectstart",r),wb=!0,window.getSelection().removeAllRanges(),Ub&&Ze(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,i,s,o,a=this.options,c=a.group,f=bt.active,d=qS===c,m=a.sort,g=Wi||f,b,x=this,_=!1;if(eD)return;function C(te,we){fo(te,x,Mc({evt:e,isOwner:d,axis:b?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:m,fromSortable:g,target:r,completed:N,onMove:function(ae,ve){return KS(br,t,je,i,ae,hr(ae),e,ve)},changed:z},we))}function k(){C("dragOverAnimationCapture"),x.captureAnimationState(),x!==g&&g.captureAnimationState()}function N(te){return C("dragOverCompleted",{insertion:te}),te&&(d?f._hideClone():f._showClone(x),x!==g&&(Tr(je,Wi?Wi.options.ghostClass:f.options.ghostClass,!1),Tr(je,a.ghostClass,!0)),Wi!==x&&x!==bt.active?Wi=x:x===bt.active&&Wi&&(Wi=null),g===x&&(x._ignoreWhileAnimating=r),x.animateAll(function(){C("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(r===je&&!je.animated||r===t&&!r.animated)&&(Kg=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(je.parentNode[es]._isOutsideThisEl(e.target),!te&&yp(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function z(){Ho=Vr(je),ed=Vr(je,a.draggable),$s({sortable:x,name:"change",toEl:t,newIndex:Ho,newDraggableIndex:ed,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=go(r,a.draggable,t,!0),C("dragOver"),bt.eventCanceled)return _;if(je.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||x._ignoreWhileAnimating===r)return N(!1);if(L_=!1,f&&!a.disabled&&(d?m||(o=Pr!==br):Wi===this||(this.lastPutMode=qS.checkPull(this,f,je,e))&&c.checkPut(this,f,je,e))){if(b=this._getDirection(e,r)==="vertical",i=hr(je),C("dragOverValid"),bt.eventCanceled)return _;if(o)return Pr=br,k(),this._hideClone(),C("revert"),bt.eventCanceled||(Sp?br.insertBefore(je,Sp):br.appendChild(je)),N(!0);var P=a2(t,a.draggable);if(!P||_de(e,b,this)&&!P.animated){if(P===je)return N(!1);if(P&&t===e.target&&(r=P),r&&(s=hr(r)),KS(br,t,je,i,r,s,e,!!r)!==!1)return k(),P&&P.nextSibling?t.insertBefore(je,P.nextSibling):t.appendChild(je),Pr=t,z(),N(!0)}else if(P&&Ede(e,b,this)){var H=Yy(t,0,a,!0);if(H===je)return N(!1);if(r=H,s=hr(r),KS(br,t,je,i,r,s,e,!1)!==!1)return k(),t.insertBefore(je,H),Pr=t,z(),N(!0)}else if(r.parentNode===t){s=hr(r);var U=0,O,D=je.parentNode!==t,V=!vde(je.animated&&je.toRect||i,r.animated&&r.toRect||s,b),F=b?"top":"left",W=u4(r,"top","top")||u4(je,"top","top"),X=W?W.scrollTop:void 0;Kg!==r&&(O=s[F],qb=!1,WS=!V&&a.invertSwap||D),U=Tde(e,r,s,b,V?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,WS,Kg===r);var G;if(U!==0){var Te=Vr(je);do Te-=U,G=Pr.children[Te];while(G&&(Ze(G,"display")==="none"||G===kt))}if(U===0||G===r)return N(!1);Kg=r,$b=U;var Ee=r.nextElementSibling,J=!1;J=U===1;var se=KS(br,t,je,i,r,s,e,J);if(se!==!1)return(se===1||se===-1)&&(J=se===1),eD=!0,setTimeout(Sde,30),k(),J&&!Ee?t.appendChild(je):r.parentNode.insertBefore(je,J?Ee:r),W&&j9(W,0,X-W.scrollTop),Pr=je.parentNode,O!==void 0&&!WS&&(BE=Math.abs(O-hr(r)[F])),z(),N(!0)}if(t.contains(je))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){zt(document,"mousemove",this._onTouchMove),zt(document,"touchmove",this._onTouchMove),zt(document,"pointermove",this._onTouchMove),zt(document,"dragover",yp),zt(document,"mousemove",yp),zt(document,"touchmove",yp)},_offUpEvents:function(){var e=this.el.ownerDocument;zt(e,"mouseup",this._onDrop),zt(e,"touchend",this._onDrop),zt(e,"pointerup",this._onDrop),zt(e,"pointercancel",this._onDrop),zt(e,"touchcancel",this._onDrop),zt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(Ho=Vr(je),ed=Vr(je,r.draggable),fo("drop",this,{evt:e}),Pr=je&&je.parentNode,Ho=Vr(je),ed=Vr(je,r.draggable),bt.eventCanceled){this._nulling();return}ry=!1,WS=!1,qb=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),tD(this.cloneId),tD(this._dragStartId),this.nativeDraggable&&(zt(document,"drop",this),zt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ub&&Ze(document.body,"user-select",""),Ze(je,"transform",""),e&&(wb&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),kt&&kt.parentNode&&kt.parentNode.removeChild(kt),(br===Pr||Wi&&Wi.lastPutMode!=="clone")&&_r&&_r.parentNode&&_r.parentNode.removeChild(_r),je&&(this.nativeDraggable&&zt(je,"dragend",this),KR(je),je.style["will-change"]="",wb&&!ry&&Tr(je,Wi?Wi.options.ghostClass:this.options.ghostClass,!1),Tr(je,this.options.chosenClass,!1),$s({sortable:this,name:"unchoose",toEl:Pr,newIndex:null,newDraggableIndex:null,originalEvent:e}),br!==Pr?(Ho>=0&&($s({rootEl:Pr,name:"add",toEl:Pr,fromEl:br,originalEvent:e}),$s({sortable:this,name:"remove",toEl:Pr,originalEvent:e}),$s({rootEl:Pr,name:"sort",toEl:Pr,fromEl:br,originalEvent:e}),$s({sortable:this,name:"sort",toEl:Pr,originalEvent:e})),Wi&&Wi.save()):Ho!==gy&&Ho>=0&&($s({sortable:this,name:"update",toEl:Pr,originalEvent:e}),$s({sortable:this,name:"sort",toEl:Pr,originalEvent:e})),bt.active&&((Ho==null||Ho===-1)&&(Ho=gy,ed=Hb),$s({sortable:this,name:"end",toEl:Pr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){fo("nulling",this),br=je=Pr=kt=Sp=_r=VE=ad=gp=fl=wb=Ho=ed=gy=Hb=Kg=$b=Wi=qS=bt.dragged=bt.ghost=bt.clone=bt.active=null,B_.forEach(function(e){e.checked=!0}),B_.length=qR=WR=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":je&&(this._onDragOver(e),xde(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)t=r[i],go(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Ade(t));return e},sort:function(e,t){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];go(a,this.options.draggable,i,!1)&&(r[s]=a)},this),t&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return go(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var i=m1.modifyOption(this,e,t);typeof i<"u"?r[e]=i:r[e]=t,e==="group"&&$9(r)},destroy:function(){fo("destroy",this);var e=this.el;e[es]=null,zt(e,"mousedown",this._onTapStart),zt(e,"touchstart",this._onTapStart),zt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(zt(e,"dragover",this),zt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),V_.splice(V_.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ad){if(fo("hideClone",this),bt.eventCanceled)return;Ze(_r,"display","none"),this.options.removeCloneOnHide&&_r.parentNode&&_r.parentNode.removeChild(_r),ad=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ad){if(fo("showClone",this),bt.eventCanceled)return;je.parentNode==br&&!this.options.group.revertClone?br.insertBefore(_r,je):Sp?br.insertBefore(_r,Sp):br.appendChild(_r),this.options.group.revertClone&&this.animate(je,_r),Ze(_r,"display",""),ad=!1}}};function xde(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function KS(n,e,t,r,i,s,o,a){var c,f=n[es],d=f.options.onMove,m;return window.CustomEvent&&!Qu&&!p1?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=t,c.draggedRect=r,c.related=i||e,c.relatedRect=s||hr(e),c.willInsertAfter=a,c.originalEvent=o,n.dispatchEvent(c),d&&(m=d.call(f,c,o)),m}function KR(n){n.draggable=!1}function Sde(){eD=!1}function Ede(n,e,t){var r=hr(Yy(t.el,0,t.options,!0)),i=U9(t.el,t.options,kt),s=10;return e?n.clientX<i.left-s||n.clientY<r.top&&n.clientX<r.right:n.clientY<i.top-s||n.clientY<r.bottom&&n.clientX<r.left}function _de(n,e,t){var r=hr(a2(t.el,t.options.draggable)),i=U9(t.el,t.options,kt),s=10;return e?n.clientX>i.right+s||n.clientY>r.bottom&&n.clientX>r.left:n.clientY>i.bottom+s||n.clientX>r.right&&n.clientY>r.top}function Tde(n,e,t,r,i,s,o,a){var c=r?n.clientY:n.clientX,f=r?t.height:t.width,d=r?t.top:t.left,m=r?t.bottom:t.right,g=!1;if(!o){if(a&&BE<f*i){if(!qb&&($b===1?c>d+f*s/2:c<m-f*s/2)&&(qb=!0),qb)g=!0;else if($b===1?c<d+BE:c>m-BE)return-$b}else if(c>d+f*(1-i)/2&&c<m-f*(1-i)/2)return Cde(e)}return g=g||o,g&&(c<d+f*s/2||c>m-f*s/2)?c>d+f/2?1:-1:0}function Cde(n){return Vr(je)<Vr(n)?1:-1}function Ade(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function Rde(n){B_.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&B_.push(r)}}function zE(n){return setTimeout(n,0)}function tD(n){return clearTimeout(n)}xC&&qt(document,"touchmove",function(n){(bt.active||ry)&&n.cancelable&&n.preventDefault()});bt.utils={on:qt,off:zt,css:Ze,find:B9,is:function(e,t){return!!go(e,t,e,!1)},extend:fde,throttle:z9,closest:go,toggleClass:Tr,clone:l2,index:Vr,nextTick:zE,cancelNextTick:tD,detectDirection:H9,getChild:Yy,expando:es};bt.get=function(n){return n[es]};bt.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(bt.utils=Mc(Mc({},bt.utils),r.utils)),m1.mount(r)})};bt.create=function(n,e){return new bt(n,e)};bt.version=cde;var di=[],xb,nD,rD=!1,YR,XR,z_,Sb;function kde(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?qt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?qt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?qt(document,"touchmove",this._handleFallbackAutoScroll):qt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?zt(document,"dragover",this._handleAutoScroll):(zt(document,"pointermove",this._handleFallbackAutoScroll),zt(document,"touchmove",this._handleFallbackAutoScroll),zt(document,"mousemove",this._handleFallbackAutoScroll)),g4(),jE(),dde()},nulling:function(){z_=nD=xb=rD=Sb=YR=XR=null,di.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var i=this,s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(s,o);if(z_=t,r||this.options.forceAutoScrollFallback||p1||Qu||Ub){QR(t,this.options,a,r);var c=pd(a,!0);rD&&(!Sb||s!==YR||o!==XR)&&(Sb&&g4(),Sb=setInterval(function(){var f=pd(document.elementFromPoint(s,o),!0);f!==c&&(c=f,jE()),QR(t,i.options,f,r)},10),YR=s,XR=o)}else{if(!this.options.bubbleScroll||pd(a,!0)===_c()){jE();return}QR(t,this.options,pd(a,!1),!1)}}},Ia(n,{pluginName:"scroll",initializeByDefault:!0})}function jE(){di.forEach(function(n){clearInterval(n.pid)}),di=[]}function g4(){clearInterval(Sb)}var QR=z9(function(n,e,t,r){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,c=_c(),f=!1,d;nD!==t&&(nD=t,jE(),xb=e.scroll,d=e.scrollFn,xb===!0&&(xb=pd(t,!0)));var m=0,g=xb;do{var b=g,x=hr(b),_=x.top,C=x.bottom,k=x.left,N=x.right,z=x.width,P=x.height,H=void 0,U=void 0,O=b.scrollWidth,D=b.scrollHeight,V=Ze(b),F=b.scrollLeft,W=b.scrollTop;b===c?(H=z<O&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),U=P<D&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(H=z<O&&(V.overflowX==="auto"||V.overflowX==="scroll"),U=P<D&&(V.overflowY==="auto"||V.overflowY==="scroll"));var X=H&&(Math.abs(N-i)<=o&&F+z<O)-(Math.abs(k-i)<=o&&!!F),G=U&&(Math.abs(C-s)<=o&&W+P<D)-(Math.abs(_-s)<=o&&!!W);if(!di[m])for(var Te=0;Te<=m;Te++)di[Te]||(di[Te]={});(di[m].vx!=X||di[m].vy!=G||di[m].el!==b)&&(di[m].el=b,di[m].vx=X,di[m].vy=G,clearInterval(di[m].pid),(X!=0||G!=0)&&(f=!0,di[m].pid=setInterval((function(){r&&this.layer===0&&bt.active._onTouchMove(z_);var Ee=di[this.layer].vy?di[this.layer].vy*a:0,J=di[this.layer].vx?di[this.layer].vx*a:0;typeof d=="function"&&d.call(bt.dragged.parentNode[es],J,Ee,n,z_,di[this.layer].el)!=="continue"||j9(di[this.layer].el,J,Ee)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&g!==c&&(g=pd(g,!1)));rD=f}},30),G9=function(e){var t=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var f=r||s;a();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(d.clientX,d.clientY);c(),f&&!f.el.contains(m)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function c2(){}c2.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Yy(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:G9};Ia(c2,{pluginName:"revertOnSpill"});function u2(){}u2.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:G9};Ia(u2,{pluginName:"removeOnSpill"});var xa;function Mde(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(t){var r=t.dragEl;xa=r},dragOverValid:function(t){var r=t.completed,i=t.target,s=t.onMove,o=t.activeSortable,a=t.changed,c=t.cancel;if(o.options.swap){var f=this.sortable.el,d=this.options;if(i&&i!==f){var m=xa;s(i)!==!1?(Tr(i,d.swapClass,!0),xa=i):xa=null,m&&m!==xa&&Tr(m,d.swapClass,!1)}a(),r(!0),c()}},drop:function(t){var r=t.activeSortable,i=t.putSortable,s=t.dragEl,o=i||this.sortable,a=this.options;xa&&Tr(xa,a.swapClass,!1),xa&&(a.swap||i&&i.options.swap)&&s!==xa&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),Dde(s,xa),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){xa=null}},Ia(n,{pluginName:"swap",eventProperties:function(){return{swapItem:xa}}})}function Dde(n,e){var t=n.parentNode,r=e.parentNode,i,s;!t||!r||t.isEqualNode(e)||r.isEqualNode(n)||(i=Vr(n),s=Vr(e),t.isEqualNode(r)&&i<s&&s++,t.insertBefore(e,t.children[i]),r.insertBefore(n,r.children[s]))}var Rt=[],Fo=[],tb,dl,nb=!1,ho=!1,Yg=!1,lr,rb,YS;function Ide(){function n(e){for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?qt(document,"pointerup",this._deselectMultiDrag):(qt(document,"mouseup",this._deselectMultiDrag),qt(document,"touchend",this._deselectMultiDrag))),qt(document,"keydown",this._checkKeyDown),qt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(i,s){var o="";Rt.length&&dl===e?Rt.forEach(function(a,c){o+=(c?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var r=t.dragEl;lr=r},delayEnded:function(){this.isMultiDrag=~Rt.indexOf(lr)},setupClone:function(t){var r=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var s=0;s<Rt.length;s++)Fo.push(l2(Rt[s])),Fo[s].sortableIndex=Rt[s].sortableIndex,Fo[s].draggable=!1,Fo[s].style["will-change"]="",Tr(Fo[s],this.options.selectedClass,!1),Rt[s]===lr&&Tr(Fo[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(t){var r=t.sortable,i=t.rootEl,s=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Rt.length&&dl===r&&(y4(!0,i),s("clone"),o()))},showClone:function(t){var r=t.cloneNowShown,i=t.rootEl,s=t.cancel;this.isMultiDrag&&(y4(!1,i),Fo.forEach(function(o){Ze(o,"display","")}),r(),YS=!1,s())},hideClone:function(t){var r=this;t.sortable;var i=t.cloneNowHidden,s=t.cancel;this.isMultiDrag&&(Fo.forEach(function(o){Ze(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),YS=!0,s())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&dl&&dl.multiDrag._deselectMultiDrag(),Rt.forEach(function(r){r.sortableIndex=Vr(r)}),Rt=Rt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Yg=!0},dragStarted:function(t){var r=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Rt.forEach(function(o){o!==lr&&Ze(o,"position","absolute")});var s=hr(lr,!1,!0,!0);Rt.forEach(function(o){o!==lr&&d4(o,s)}),ho=!0,nb=!0}i.animateAll(function(){ho=!1,nb=!1,r.options.animation&&Rt.forEach(function(o){HR(o)}),r.options.sort&&XS()})}},dragOver:function(t){var r=t.target,i=t.completed,s=t.cancel;ho&&~Rt.indexOf(r)&&(i(!1),s())},revert:function(t){var r=t.fromSortable,i=t.rootEl,s=t.sortable,o=t.dragRect;Rt.length>1&&(Rt.forEach(function(a){s.addAnimationState({target:a,rect:ho?hr(a):o}),HR(a),a.fromRect=o,r.removeAnimationState(a)}),ho=!1,Ode(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var r=t.sortable,i=t.isOwner,s=t.insertion,o=t.activeSortable,a=t.parentEl,c=t.putSortable,f=this.options;if(s){if(i&&o._hideClone(),nb=!1,f.animation&&Rt.length>1&&(ho||!i&&!o.options.sort&&!c)){var d=hr(lr,!1,!0,!0);Rt.forEach(function(g){g!==lr&&(d4(g,d),a.appendChild(g))}),ho=!0}if(!i)if(ho||XS(),Rt.length>1){var m=YS;o._showClone(r),o.options.animation&&!YS&&m&&Fo.forEach(function(g){o.addAnimationState({target:g,rect:rb}),g.fromRect=rb,g.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(t){var r=t.dragRect,i=t.isOwner,s=t.activeSortable;if(Rt.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){rb=Ia({},r);var o=jp(lr,!0);rb.top-=o.f,rb.left-=o.e}},dragOverAnimationComplete:function(){ho&&(ho=!1,XS())},drop:function(t){var r=t.originalEvent,i=t.rootEl,s=t.parentEl,o=t.sortable,a=t.dispatchSortableEvent,c=t.oldIndex,f=t.putSortable,d=f||this.sortable;if(r){var m=this.options,g=s.children;if(!Yg)if(m.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Tr(lr,m.selectedClass,!~Rt.indexOf(lr)),~Rt.indexOf(lr))Rt.splice(Rt.indexOf(lr),1),tb=null,bb({sortable:o,rootEl:i,name:"deselect",targetEl:lr,originalEvent:r});else{if(Rt.push(lr),bb({sortable:o,rootEl:i,name:"select",targetEl:lr,originalEvent:r}),r.shiftKey&&tb&&o.el.contains(tb)){var b=Vr(tb),x=Vr(lr);~b&&~x&&b!==x&&function(){var N,z;x>b?(z=b,N=x):(z=x,N=b+1);for(var P=m.filter;z<N;z++)if(!~Rt.indexOf(g[z])&&go(g[z],m.draggable,s,!1)){var H=P&&(typeof P=="function"?P.call(o,r,g[z],o):P.split(",").some(function(U){return go(g[z],U.trim(),s,!1)}));H||(Tr(g[z],m.selectedClass,!0),Rt.push(g[z]),bb({sortable:o,rootEl:i,name:"select",targetEl:g[z],originalEvent:r}))}}()}else tb=lr;dl=d}if(Yg&&this.isMultiDrag){if(ho=!1,(s[es].options.sort||s!==i)&&Rt.length>1){var _=hr(lr),C=Vr(lr,":not(."+this.options.selectedClass+")");if(!nb&&m.animation&&(lr.thisAnimationDuration=null),d.captureAnimationState(),!nb&&(m.animation&&(lr.fromRect=_,Rt.forEach(function(N){if(N.thisAnimationDuration=null,N!==lr){var z=ho?hr(N):_;N.fromRect=z,d.addAnimationState({target:N,rect:z})}})),XS(),Rt.forEach(function(N){g[C]?s.insertBefore(N,g[C]):s.appendChild(N),C++}),c===Vr(lr))){var k=!1;Rt.forEach(function(N){if(N.sortableIndex!==Vr(N)){k=!0;return}}),k&&(a("update"),a("sort"))}Rt.forEach(function(N){HR(N)}),d.animateAll()}dl=d}(i===s||f&&f.lastPutMode!=="clone")&&Fo.forEach(function(N){N.parentNode&&N.parentNode.removeChild(N)})}},nullingGlobal:function(){this.isMultiDrag=Yg=!1,Fo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),zt(document,"pointerup",this._deselectMultiDrag),zt(document,"mouseup",this._deselectMultiDrag),zt(document,"touchend",this._deselectMultiDrag),zt(document,"keydown",this._checkKeyDown),zt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(typeof Yg<"u"&&Yg)&&dl===this.sortable&&!(t&&go(t.target,this.options.draggable,this.sortable.el,!1))&&!(t&&t.button!==0))for(;Rt.length;){var r=Rt[0];Tr(r,this.options.selectedClass,!1),Rt.shift(),bb({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ia(n,{pluginName:"multiDrag",utils:{select:function(t){var r=t.parentNode[es];!r||!r.options.multiDrag||~Rt.indexOf(t)||(dl&&dl!==r&&(dl.multiDrag._deselectMultiDrag(),dl=r),Tr(t,r.options.selectedClass,!0),Rt.push(t))},deselect:function(t){var r=t.parentNode[es],i=Rt.indexOf(t);!r||!r.options.multiDrag||!~i||(Tr(t,r.options.selectedClass,!1),Rt.splice(i,1))}},eventProperties:function(){var t=this,r=[],i=[];return Rt.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;ho&&s!==lr?o=-1:ho?o=Vr(s,":not(."+t.options.selectedClass+")"):o=Vr(s),i.push({multiDragElement:s,index:o})}),{items:ide(Rt),clones:[].concat(Fo),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(t){return t=t.toLowerCase(),t==="ctrl"?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Ode(n,e){Rt.forEach(function(t,r){var i=e.children[t.sortableIndex+(n?Number(r):0)];i?e.insertBefore(t,i):e.appendChild(t)})}function y4(n,e){Fo.forEach(function(t,r){var i=e.children[t.sortableIndex+(n?Number(r):0)];i?e.insertBefore(t,i):e.appendChild(t)})}function XS(){Rt.forEach(function(n){n!==lr&&n.parentNode&&n.parentNode.removeChild(n)})}bt.mount(new kde);bt.mount(u2,c2);const Nde=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Ide,Sortable:bt,Swap:Mde,default:bt},Symbol.toStringTag,{value:"Module"})),Pde=UB(Nde);var JR={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var v4;function Lde(){return v4||(v4=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var c in s)e.call(s,c)&&s[c]&&r.push(c);else r.push(s.toString())}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(JR)),JR.exports}var Vde="Invariant failed";function Bde(n,e){if(!n)throw new Error(Vde)}const zde=Object.freeze(Object.defineProperty({__proto__:null,default:Bde},Symbol.toStringTag,{value:"Module"})),jde=UB(zde);var b4;function Ude(){return b4||(b4=1,function(n){var e=Pde,t=Lde(),r=av(),i=jde;function s(U){return U&&U.__esModule?U.default:U}function o(U,O,D,V){Object.defineProperty(U,O,{get:D,set:V,enumerable:!0,configurable:!0})}function a(U,O){return Object.keys(O).forEach(function(D){D==="default"||D==="__esModule"||U.hasOwnProperty(D)||Object.defineProperty(U,D,{enumerable:!0,get:function(){return O[D]}})}),U}o(n.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),o(n.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),o(n.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),o(n.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),o(n.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),o(n.exports,"Options",()=>$882b6d93070905b3$re_export$Options),o(n.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),o(n.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),o(n.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),o(n.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),o(n.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),o(n.exports,"ReactSortable",()=>P);function c(U){U.parentElement!==null&&U.parentElement.removeChild(U)}function f(U,O,D){const V=U.children[D]||null;U.insertBefore(O,V)}function d(U){U.forEach(O=>c(O.element))}function m(U){U.forEach(O=>{f(O.parentElement,O.element,O.oldIndex)})}function g(U,O){const D=C(U),V={parentElement:U.from};let F=[];switch(D){case"normal":F=[{element:U.item,newIndex:U.newIndex,oldIndex:U.oldIndex,parentElement:U.from}];break;case"swap":const G={element:U.item,oldIndex:U.oldIndex,newIndex:U.newIndex,...V},Te={element:U.swapItem,oldIndex:U.newIndex,newIndex:U.oldIndex,...V};F=[G,Te];break;case"multidrag":F=U.oldIndicies.map((Ee,J)=>({element:Ee.multiDragElement,oldIndex:Ee.index,newIndex:U.newIndicies[J].index,...V}));break}return k(F,O)}function b(U,O){const D=x(U,O);return _(U,D)}function x(U,O){const D=[...O];return U.concat().reverse().forEach(V=>D.splice(V.oldIndex,1)),D}function _(U,O,D,V){const F=[...O];return U.forEach(W=>{const X=V&&D&&V(W.item,D);F.splice(W.newIndex,0,X||W.item)}),F}function C(U){return U.oldIndicies&&U.oldIndicies.length>0?"multidrag":U.swapItem?"swap":"normal"}function k(U,O){return U.map(V=>({...V,item:O[V.oldIndex]})).sort((V,F)=>V.oldIndex-F.oldIndex)}function N(U){const{list:O,setList:D,children:V,tag:F,style:W,className:X,clone:G,onAdd:Te,onChange:Ee,onChoose:J,onClone:se,onEnd:te,onFilter:we,onRemove:Q,onSort:ae,onStart:ve,onUnchoose:ne,onUpdate:ge,onMove:Re,onSpill:ye,onSelect:Ae,onDeselect:Le,...He}=U;return He}const z={dragging:null};class P extends r.Component{constructor(O){super(O),this.ref=(0,r.createRef)();const D=[...O.list].map(V=>Object.assign(V,{chosen:!1,selected:!1}));O.setList(D,this.sortable,z),s(i)(!O.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const O=this.makeOptions();s(e).create(this.ref.current,O)}componentDidUpdate(O){O.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:O,style:D,className:V,id:F}=this.props,W={style:D,className:V,id:F},X=!O||O===null?"div":O;return(0,r.createElement)(X,{ref:this.ref,...W},this.getChildren())}getChildren(){const{children:O,dataIdAttr:D,selectedClass:V="sortable-selected",chosenClass:F="sortable-chosen",dragClass:W="sortable-drag",fallbackClass:X="sortable-falback",ghostClass:G="sortable-ghost",swapClass:Te="sortable-swap-highlight",filter:Ee="sortable-filter",list:J}=this.props;if(!O||O==null)return null;const se=D||"data-id";return r.Children.map(O,(te,we)=>{if(te===void 0)return;const Q=J[we]||{},{className:ae}=te.props,ve=typeof Ee=="string"&&{[Ee.replace(".","")]:!!Q.filtered},ne=s(t)(ae,{[V]:Q.selected,[F]:Q.chosen,...ve});return(0,r.cloneElement)(te,{[se]:te.key,className:ne})})}get sortable(){const O=this.ref.current;if(O===null)return null;const D=Object.keys(O).find(V=>V.includes("Sortable"));return D?O[D]:null}makeOptions(){const O=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],D=["onChange","onClone","onFilter","onSort"],V=N(this.props);return O.forEach(W=>V[W]=this.prepareOnHandlerPropAndDOM(W)),D.forEach(W=>V[W]=this.prepareOnHandlerProp(W)),{...V,onMove:(W,X)=>{const{onMove:G}=this.props,Te=W.willInsertAfter||-1;if(!G)return Te;const Ee=G(W,X,this.sortable,z);return typeof Ee>"u"?!1:Ee}}}prepareOnHandlerPropAndDOM(O){return D=>{this.callOnHandlerProp(D,O),this[O](D)}}prepareOnHandlerProp(O){return D=>{this.callOnHandlerProp(D,O)}}callOnHandlerProp(O,D){const V=this.props[D];V&&V(O,this.sortable,z)}onAdd(O){const{list:D,setList:V,clone:F}=this.props,W=[...z.dragging.props.list],X=g(O,W);d(X);const G=_(X,D,O,F).map(Te=>Object.assign(Te,{selected:!1}));V(G,this.sortable,z)}onRemove(O){const{list:D,setList:V}=this.props,F=C(O),W=g(O,D);m(W);let X=[...D];if(O.pullMode!=="clone")X=x(W,X);else{let G=W;switch(F){case"multidrag":G=W.map((Te,Ee)=>({...Te,element:O.clones[Ee]}));break;case"normal":G=W.map(Te=>({...Te,element:O.clone}));break;case"swap":default:s(i)(!0,`mode "${F}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${F}" plugin`)}d(G),W.forEach(Te=>{const Ee=Te.oldIndex,J=this.props.clone(Te.item,O);X.splice(Ee,1,J)})}X=X.map(G=>Object.assign(G,{selected:!1})),V(X,this.sortable,z)}onUpdate(O){const{list:D,setList:V}=this.props,F=g(O,D);d(F),m(F);const W=b(F,D);return V(W,this.sortable,z)}onStart(){z.dragging=this}onEnd(){z.dragging=null}onChoose(O){const{list:D,setList:V}=this.props,F=D.map((W,X)=>{let G=W;return X===O.oldIndex&&(G=Object.assign(W,{chosen:!0})),G});V(F,this.sortable,z)}onUnchoose(O){const{list:D,setList:V}=this.props,F=D.map((W,X)=>{let G=W;return X===O.oldIndex&&(G=Object.assign(G,{chosen:!1})),G});V(F,this.sortable,z)}onSpill(O){const{removeOnSpill:D,revertOnSpill:V}=this.props;D&&!V&&c(O.item)}onSelect(O){const{list:D,setList:V}=this.props,F=D.map(W=>Object.assign(W,{selected:!1}));O.newIndicies.forEach(W=>{const X=W.index;if(X===-1){console.log(`"${O.type}" had indice of "${W.index}", which is probably -1 and doesn't usually happen here.`),console.log(O);return}F[X].selected=!0}),V(F,this.sortable,z)}onDeselect(O){const{list:D,setList:V}=this.props,F=D.map(W=>Object.assign(W,{selected:!1}));O.newIndicies.forEach(W=>{const X=W.index;X!==-1&&(F[X].selected=!0)}),V(F,this.sortable,z)}}vt(P,"defaultProps",{clone:O=>O});var H={};a(n.exports,H)}(UR)),UR.exports}var Fde=Ude();function Hde(){const[n,e]=A.useState({main:[],side:[]});A.useEffect(()=>{const c=new AbortController,f=c.signal;return wt.eventBus.on(wt.enum.eventBus.openTab,t,{signal:f}),()=>{c.abort()}},[]);const t=({detail:{position:c,data:f}})=>{if(!f||!f.id){wt.toast.error("Tab data is not valid or missing ID");return}const d=(m,g)=>(m=m.map(b=>({...b,active:!1})),m.push({...g,active:!0}),m);e(m=>{const g={...m};let b=g.main.find(x=>x.id===f.id);return b?(g.main=g.main.map(x=>({...x,active:x.id===f.id})),vb.setState(f),g):(b=g.side.find(x=>x.id===f.id),b?(g.side=g.side.map(x=>({...x,active:x.id===f.id})),my.setState(f),g):(c==="side"?(my.setState(f),g.side=d(g.side,f)):(vb.setState(f),g.main=d(g.main,f)),g))})},r=(c,f)=>{e(d=>{const m={...d},g=m[c],b=g.findIndex(x=>x.id===f.id);if(g.splice(b,1),f.active&&g.length>0){let x=0;b>0&&(x=b-1),x>=g.length&&(x=g.length-1),g.forEach(k=>k.active=!1);const _=g[x];_.active=!0;const C={id:_.id,label:_.label||"Untitled",type:_.type};c==="main"?vb.setState(C):my.setState(C)}return m})},i=(c,f)=>{c==="main"?vb.setState(f):my.setState(f)},s=(c,f)=>{e(d=>{const g={...d}[f].find(x=>x.active);let b=c.filter(x=>x.active);if(b.length===0?c.length>0&&(c[0].active=!0):b.length>1&&g&&c.forEach(x=>x.active=x.id===g.id),c.length>0&&(b=c.find(x=>x.active),b&&b.id!==(g==null?void 0:g.id))){const x={id:b.id,label:b.label||"Untitled",type:b.type||"note"};i(f,x)}return{...d,[f]:c}})},o=(c,f)=>R.jsx(GT,{className:Je("list-none mx-1 rounded-md",(f==null?void 0:f.active)&&"bg-accent/80 hover:bg-accent/50 text-sidebar-foreground cursor-pointer"),children:R.jsxs(Sy,{className:"py-1.5 px-3 flex items-center justify-between !bg-transparent",onClick:d=>{d.stopPropagation(),d.preventDefault();const m={id:f.id,label:f.label||"Untitled",type:f.type||"note"};i(c,m),e(g=>{const b={...g};return b[c]=b[c].map(x=>({...x,active:x.id===f.id})),b})},children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(KB,{className:"tab-order-handle w-4 h-4 text-muted-foreground hover:text-foreground cursor-grab translate-y-[-1px]"}),R.jsx("span",{className:"text-sidebar-foreground",children:f==null?void 0:f.label})]}),R.jsx("div",{className:"flex items-center gap-1",children:R.jsx(QD,{className:"w-4 h-4 text-muted-foreground hover:text-foreground cursor-pointer",onClick:d=>{d.stopPropagation(),d.preventDefault(),r(c,f)}})})]})},f==null?void 0:f.id),a=c=>n[c].length>0&&R.jsxs(bj,{className:"px-0",children:[R.jsx(dP,{asChild:!0,children:R.jsx(dP,{children:c==="main"?n.side.length===0?"Opening":"Right side":"Left side"})}),R.jsx(wj,{children:R.jsx(Fde.ReactSortable,{group:"tabs-controller-group",handle:".tab-order-handle",animation:500,list:n[c],setList:f=>s(f,c),children:n[c].map(f=>o(c,f))})})]});return R.jsxs(R.Fragment,{children:[a("main"),a("side")]})}function $de(){const n=h1(Ky,i=>i),{user:e}=A.useContext(Hy.Context);A.useEffect(()=>{const i=new AbortController,{signal:s}=i;return wt.eventBus.on(wt.enum.eventBus.createNewNotebook,t,{signal:s}),()=>{i.abort()}},[]);const t=({detail:i})=>{r(i)},r=async i=>{const s=wt.generateId(),o=structuredClone(n);if(!o){wt.toast.error("User notes not found");return}let a="",c=0;const f={id:s},d={};if(i?o.struct=wt.recursive(o.struct,(g,b,x,_)=>(b?g.path=`${b.path}.items.${_}`:g.path=_,g.id===i.id&&(g.items||(g.items={}),c=Object.keys(g.items).length,a=`${g.path}.items.${c}`,g.items[c]=f,x==null||x()),g),{childrenProp:"items",childrenType:"object"}):(c=Object.keys(o.struct).length,a=c,o.struct[c]=f),o.notes[s]=d,a==null||a===""){wt.toast.error("Parent note not found");return}const m=new Promise((g,b)=>{(async()=>{var x;try{const _={[`struct.${a}`]:f,[`notes.${s}`]:d};let C=await jd.notebooks.update(_);if(!C)throw new Error("Update user notes failed!");if(C=await jd.note.create(s,{uid:e.uid,data:null}),!C)throw new Error("Create note failed!");if(i!=null&&i.id){const k=document.querySelector(`[data-sidebar-menu-item="${i==null?void 0:i.id}"] .collapse-icon`);k&&((x=k.dataset)==null?void 0:x.state)==="closed"&&k.click()}Ky.setState(o),g(!0)}catch(_){console.error("Error creating note: ",_),b(_)}})()});wt.toast.promise(m,{loading:"Creating note...",success:"Note created successfully!",error:"Failed to create note."})};return R.jsxs(R.Fragment,{children:[R.jsx(Foe,{title:"Notebooks",actions:R.jsxs(bd,{variant:"outline",size:"sm",onClick:()=>r(),children:[R.jsx(YB,{}),"New Notebook"]})}),R.jsx(vj,{children:R.jsx(ww,{className:"h-full",children:R.jsxs("div",{className:"py-2 px-1",children:[R.jsx(Jfe,{}),R.jsx(Hde,{})]})})})]})}function qde(){const[n,e]=A.useState(),[t,r]=A.useState([]),i=A.useRef(null);A.useEffect(()=>(s(),()=>{clearInterval(i.current)}),[]);const s=()=>{i.current=setInterval(()=>{console.log("checking for save"),o()},wt.autoSaveInterval)},o=()=>{const f=structuredClone(wt.needSavedNoteData||{}),d=[];Object.keys(f).forEach(m=>{f[m].saved||d.push({id:m,update:{data:f[m].data},time:f[m].time})}),d.length&&(e("saving"),a(d))},a=async f=>{console.log("perform save",f);const d=[],m=f.map(async g=>new Promise(b=>{jd.note.update(g.id,g.update).then(x=>{x?(wt.needSavedNoteData[g.id].saved=!0,b(!0)):(d.push(`Error saving note ${g.id}`),b(!1))}).catch(x=>{d.push(`Error saving note ${g.id}: ${x.message}`),b(!1)})}));await Promise.all(m),d.length?(r(g=>[...g,...d]),console.error(d)):setTimeout(()=>{e("saved")},300)},c=()=>{switch(n){case"saving":return R.jsx(od.div,{animate:{scale:1},initial:{scale:0},transition:{duration:.3,ease:"easeInOut"},children:R.jsxs(Sy,{tooltip:{children:"Saving",hidden:!1},className:"px-2.5 md:px-2",children:[R.jsx(pW,{className:"text-muted-foreground"}),R.jsx("span",{children:"Saving..."})]})});case"saved":return R.jsx(od.div,{animate:{scale:0},initial:{scale:1},transition:{duration:.3,ease:"easeInOut",delay:2,onComplete:()=>e(null)},children:R.jsxs(Sy,{tooltip:{children:"Saved",hidden:!1},className:"px-2.5 md:px-2",children:[R.jsx(WB,{className:"text-muted-foreground"}),R.jsx("span",{children:"Saved"})]})});default:return null}};return n?R.jsxs(GT,{children:[c(),t.length>0&&R.jsxs(Sy,{tooltip:{children:"Saving",hidden:!1},className:"px-2.5 md:px-2",children:[R.jsx(Sq,{className:"text-red-500"}),R.jsx("span",{children:"Errors"})]})]}):null}function Wde(){return R.jsx(RI,{children:R.jsx(qde,{})})}const Gde=[{key:"notebooks",title:"Notebooks",icon:rW,isActive:!0},{title:"Settings",key:"settings",icon:gW,isActive:!1}];function Kde({...n}){const{toggleSidebar:e}=WT(),t=r=>{switch(r.key){case"notebooks":e();break;case"settings":wt.eventBus.dispatch(wt.enum.eventBus.openSettings,{});break}};return R.jsxs(uR,{collapsible:"icon",className:"overflow-hidden *:data-[sidebar=sidebar]:flex-row",...n,children:[R.jsxs(uR,{collapsible:"none",className:"w-[calc(var(--sidebar-width-icon)+1px)]! border-r",children:[R.jsx(yj,{children:R.jsx(Uoe,{})}),R.jsx(vj,{children:R.jsx(bj,{children:R.jsx(wj,{className:"px-1.5 md:px-0",children:R.jsx(RI,{children:Gde.map(r=>R.jsx(GT,{children:R.jsxs(Sy,{tooltip:{children:r.title,hidden:!1},onClick:()=>{t(r)},className:"px-2.5 md:px-2 cursor-pointer",children:[R.jsx(r.icon,{}),R.jsx("span",{children:r.title})]})},r.title))})})})}),R.jsx(MJ,{children:R.jsx(Wde,{})})]}),R.jsx(uR,{collapsible:"none",className:"hidden flex-1 md:flex",children:R.jsx($de,{})})]})}const Yde=({className:n,...e})=>R.jsx(Qq,{className:Je("animate-spin",n),size:18,...e}),Xde=({className:n,...e})=>R.jsx(ZE,{className:Je("animate-spin",n),...e}),Qde=({className:n,...e})=>R.jsx(Yq,{className:Je("animate-spin",n),...e}),Jde=({className:n,size:e=24,...t})=>R.jsxs("div",{className:"relative",style:{width:e,height:e},children:[R.jsx("div",{className:"absolute inset-0 rotate-180",children:R.jsx(ZE,{className:Je("animate-spin",n,"text-foreground opacity-20"),size:e,...t})}),R.jsx(ZE,{className:Je("relative animate-spin",n),size:e,...t})]}),Zde=({size:n=24,...e})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",...e,children:[R.jsx("title",{children:"Loading..."}),R.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:R.jsx("animate",{id:"ellipsis1",begin:"0;ellipsis3.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),R.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:R.jsx("animate",{begin:"ellipsis1.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),R.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:R.jsx("animate",{id:"ellipsis3",begin:"ellipsis1.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]}),ehe=({size:n=24,...e})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 44 44",stroke:"currentColor",...e,children:[R.jsx("title",{children:"Loading..."}),R.jsxs("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2",children:[R.jsxs("circle",{cx:"22",cy:"22",r:"1",children:[R.jsx("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),R.jsx("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]}),R.jsxs("circle",{cx:"22",cy:"22",r:"1",children:[R.jsx("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),R.jsx("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]})]})]}),the=({size:n=24,...e})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",...e,children:[R.jsx("title",{children:"Loading..."}),R.jsx("style",{children:`
      .spinner-bar {
        animation: spinner-bars-animation .8s linear infinite;
        animation-delay: -.8s;
      }
      .spinner-bars-2 {
        animation-delay: -.65s;
      }
      .spinner-bars-3 {
        animation-delay: -0.5s;
      }
      @keyframes spinner-bars-animation {
        0% {
          y: 1px;
          height: 22px;
        }
        93.75% {
          y: 5px;
          height: 14px;
          opacity: 0.2;
        }
      }
    `}),R.jsx("rect",{className:"spinner-bar",x:"1",y:"1",width:"6",height:"22",fill:"currentColor"}),R.jsx("rect",{className:"spinner-bar spinner-bars-2",x:"9",y:"1",width:"6",height:"22",fill:"currentColor"}),R.jsx("rect",{className:"spinner-bar spinner-bars-3",x:"17",y:"1",width:"6",height:"22",fill:"currentColor"})]}),nhe=({size:n=24,...e})=>R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",...e,children:[R.jsx("title",{children:"Loading..."}),R.jsx("path",{fill:"none",stroke:"currentColor",strokeWidth:"10",strokeDasharray:"205.271142578125 51.317785644531256",d:"M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z",strokeLinecap:"round",style:{transform:"scale(0.8)",transformOrigin:"50px 50px"},children:R.jsx("animate",{attributeName:"stroke-dashoffset",repeatCount:"indefinite",dur:"2s",keyTimes:"0;1",values:"0;256.58892822265625"})})]}),K9=({variant:n,...e})=>{switch(n){case"circle":return R.jsx(Xde,{...e});case"pinwheel":return R.jsx(Qde,{...e});case"circle-filled":return R.jsx(Jde,{...e});case"ellipsis":return R.jsx(Zde,{...e});case"ring":return R.jsx(ehe,{...e});case"bars":return R.jsx(the,{...e});case"infinite":return R.jsx(nhe,{...e});default:return R.jsx(Yde,{...e})}};var rhe=(n,e,t,r,i,s,o,a)=>{let c=document.documentElement,f=["light","dark"];function d(b){(Array.isArray(n)?n:[n]).forEach(x=>{let _=x==="class",C=_&&s?i.map(k=>s[k]||k):i;_?(c.classList.remove(...C),c.classList.add(s&&s[b]?s[b]:b)):c.setAttribute(x,b)}),m(b)}function m(b){a&&f.includes(b)&&(c.style.colorScheme=b)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let b=localStorage.getItem(e)||t,x=o&&b==="system"?g():b;d(x)}catch{}},ihe=A.createContext(void 0),she={setTheme:n=>{},themes:[]},ohe=()=>{var n;return(n=A.useContext(ihe))!=null?n:she};A.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:c,scriptProps:f})=>{let d=JSON.stringify([t,e,s,n,a,o,r,i]).slice(1,-1);return A.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${rhe.toString()})(${d})`}})});const ahe=({...n})=>{const{theme:e="system"}=ohe();return R.jsx(Doe,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function lhe(n){const e=A.useRef({value:n,previous:n});return A.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var SC="Switch",[che,U_e]=El(SC),[uhe,fhe]=che(SC),Y9=A.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:c="on",onCheckedChange:f,form:d,...m}=n,[g,b]=A.useState(null),x=qn(e,z=>b(z)),_=A.useRef(!1),C=g?d||!!g.closest("form"):!0,[k,N]=uv({prop:i,defaultProp:s??!1,onChange:f,caller:SC});return R.jsxs(uhe,{scope:t,checked:k,disabled:a,children:[R.jsx(xn.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":Z9(k),"data-disabled":a?"":void 0,disabled:a,value:c,...m,ref:x,onClick:rt(n.onClick,z=>{N(P=>!P),C&&(_.current=z.isPropagationStopped(),_.current||z.stopPropagation())})}),C&&R.jsx(J9,{control:g,bubbles:!_.current,name:r,value:c,checked:k,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Y9.displayName=SC;var X9="SwitchThumb",Q9=A.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=fhe(X9,t);return R.jsx(xn.span,{"data-state":Z9(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Q9.displayName=X9;var dhe="SwitchBubbleInput",J9=A.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},s)=>{const o=A.useRef(null),a=qn(o,s),c=lhe(t),f=I5(e);return A.useEffect(()=>{const d=o.current;if(!d)return;const m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==t&&b){const x=new Event("click",{bubbles:r});b.call(d,t),d.dispatchEvent(x)}},[c,t,r]),R.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:a,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J9.displayName=dhe;function Z9(n){return n?"checked":"unchecked"}var hhe=Y9,phe=Q9;function mhe({className:n,...e}){return R.jsx(hhe,{"data-slot":"switch",className:Je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:R.jsx(phe,{"data-slot":"switch-thumb",className:Je("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function ghe({note:n,onSettingChange:e}){const[t,r]=A.useState({fullWidth:(n==null?void 0:n.fullWidth)||!1}),i=async o=>{r({...t,fullWidth:o}),e("fullWidth",o)},s=o=>{o.preventDefault(),o.stopPropagation()};return R.jsx("div",{className:"flex item-center gap-1 pr-4",children:R.jsxs(Op,{children:[R.jsx(Np,{asChild:!0,children:R.jsx(bd,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{},children:R.jsx(XD,{})})}),R.jsx(Pp,{className:"w-56 mr-4 mt-1 rounded-lg",children:R.jsxs(cw,{onClick:s,children:[R.jsx(NW,{}),"Full width",R.jsx(DQ,{className:"opacity-100",children:R.jsx(mhe,{checked:t.fullWidth,onCheckedChange:i})})]})})]})})}var ib={},w4;function yhe(){if(w4)return ib;w4=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.parse=o,ib.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,b){const x=new s,_=g.length;if(_<2)return x;const C=(b==null?void 0:b.decode)||d;let k=0;do{const N=g.indexOf("=",k);if(N===-1)break;const z=g.indexOf(";",k),P=z===-1?_:z;if(N>P){k=g.lastIndexOf(";",N-1)+1;continue}const H=a(g,k,N),U=c(g,N,H),O=g.slice(H,U);if(x[O]===void 0){let D=a(g,N+1,P),V=c(g,P,D);const F=C(g.slice(D,V));x[O]=F}k=P+1}while(k<_);return x}function a(g,b,x){do{const _=g.charCodeAt(b);if(_!==32&&_!==9)return b}while(++b<x);return x}function c(g,b,x){for(;b>x;){const _=g.charCodeAt(--b);if(_!==32&&_!==9)return b+1}return x}function f(g,b,x){const _=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const C=_(b);if(!e.test(C))throw new TypeError(`argument val is invalid: ${b}`);let k=g+"="+C;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return i.call(g)==="[object Date]"}return ib}yhe();var x4="popstate";function vhe(n={}){function e(i,s){let{pathname:o="/",search:a="",hash:c=""}=mm(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),iD("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");a=f===-1?c:c.slice(0,f)}return a+"#"+(typeof s=="string"?s:Rw(s))}function r(i,s){Oa(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return whe(e,t,r,n)}function wr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Oa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bhe(){return Math.random().toString(36).substring(2,10)}function S4(n,e){return{usr:n.state,key:n.key,idx:e}}function iD(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mm(e):e,state:t,key:e&&e.key||r||bhe()}}function Rw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function whe(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,f=d();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function d(){return(o.state||{idx:null}).idx}function m(){a="POP";let C=d(),k=C==null?null:C-f;f=C,c&&c({action:a,location:_.location,delta:k})}function g(C,k){a="PUSH";let N=iD(_.location,C,k);t&&t(N,C),f=d()+1;let z=S4(N,f),P=_.createHref(N);try{o.pushState(z,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(P)}s&&c&&c({action:a,location:_.location,delta:1})}function b(C,k){a="REPLACE";let N=iD(_.location,C,k);t&&t(N,C),f=d();let z=S4(N,f),P=_.createHref(N);o.replaceState(z,"",P),s&&c&&c({action:a,location:_.location,delta:0})}function x(C){return xhe(C)}let _={get action(){return a},get location(){return n(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(x4,m),c=C,()=>{i.removeEventListener(x4,m),c=null}},createHref(C){return e(i,C)},createURL:x,encodeLocation(C){let k=x(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:b,go(C){return o.go(C)}};return _}function xhe(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Rw(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function eH(n,e,t="/"){return She(n,e,t,!1)}function She(n,e,t,r){let i=typeof e=="string"?mm(e):e,s=Ku(i.pathname||"/",t);if(s==null)return null;let o=tH(n);Ehe(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let f=Nhe(s);a=Ihe(o[c],f,r)}return a}function tH(n,e=[],t=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(wr(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=Vu([r,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(wr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),tH(s.children,e,d,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:Mhe(f,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of nH(s.path))i(s,o,c)}),e}function nH(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=nH(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function Ehe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Dhe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var _he=/^:[\w-]+$/,The=3,Che=2,Ahe=1,Rhe=10,khe=-2,E4=n=>n==="*";function Mhe(n,e){let t=n.split("/"),r=t.length;return t.some(E4)&&(r+=khe),e&&(r+=Che),t.filter(i=>!E4(i)).reduce((i,s)=>i+(_he.test(s)?The:s===""?Ahe:Rhe),r)}function Dhe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Ihe(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],f=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=j_({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),g=c.route;if(!m&&f&&t&&!r[r.length-1].route.index&&(m=j_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Vu([s,m.pathname]),pathnameBase:Bhe(Vu([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Vu([s,m.pathnameBase]))}return o}function j_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Ohe(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let x=a[g]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[g];return m&&!b?f[d]=void 0:f[d]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function Ohe(n,e=!1,t=!0){Oa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Nhe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ku(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Phe(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?mm(n):n;return{pathname:t?t.startsWith("/")?t:Lhe(t,e):e,search:zhe(r),hash:jhe(i)}}function Lhe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ZR(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vhe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f2(n){let e=Vhe(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function d2(n,e,t,r=!1){let i;typeof n=="string"?i=mm(n):(i={...n},wr(!i.pathname||!i.pathname.includes("?"),ZR("?","pathname","search",i)),wr(!i.pathname||!i.pathname.includes("#"),ZR("#","pathname","hash",i)),wr(!i.search||!i.search.includes("#"),ZR("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}a=m>=0?e[m]:"/"}let c=Phe(i,a),f=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var Vu=n=>n.join("/").replace(/\/\/+/g,"/"),Bhe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zhe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jhe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Uhe(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rH=["POST","PUT","PATCH","DELETE"];new Set(rH);var Fhe=["GET",...rH];new Set(Fhe);var _v=A.createContext(null);_v.displayName="DataRouter";var EC=A.createContext(null);EC.displayName="DataRouterState";var iH=A.createContext({isTransitioning:!1});iH.displayName="ViewTransition";var Hhe=A.createContext(new Map);Hhe.displayName="Fetchers";var $he=A.createContext(null);$he.displayName="Await";var Tl=A.createContext(null);Tl.displayName="Navigation";var g1=A.createContext(null);g1.displayName="Location";var Cl=A.createContext({outlet:null,matches:[],isDataRoute:!1});Cl.displayName="Route";var h2=A.createContext(null);h2.displayName="RouteError";function qhe(n,{relative:e}={}){wr(Tv(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(Tl),{hash:i,pathname:s,search:o}=y1(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Vu([t,s])),r.createHref({pathname:a,search:o,hash:i})}function Tv(){return A.useContext(g1)!=null}function Wd(){return wr(Tv(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(g1).location}var sH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oH(n){A.useContext(Tl).static||A.useLayoutEffect(n)}function aH(){let{isDataRoute:n}=A.useContext(Cl);return n?spe():Whe()}function Whe(){wr(Tv(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(_v),{basename:e,navigator:t}=A.useContext(Tl),{matches:r}=A.useContext(Cl),{pathname:i}=Wd(),s=JSON.stringify(f2(r)),o=A.useRef(!1);return oH(()=>{o.current=!0}),A.useCallback((c,f={})=>{if(Oa(o.current,sH),!o.current)return;if(typeof c=="number"){t.go(c);return}let d=d2(c,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Vu([e,d.pathname])),(f.replace?t.replace:t.push)(d,f.state,f)},[e,t,s,i,n])}A.createContext(null);function Ghe(){let{matches:n}=A.useContext(Cl),e=n[n.length-1];return e?e.params:{}}function y1(n,{relative:e}={}){let{matches:t}=A.useContext(Cl),{pathname:r}=Wd(),i=JSON.stringify(f2(t));return A.useMemo(()=>d2(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Khe(n,e){return lH(n,e)}function lH(n,e,t,r){var k;wr(Tv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Tl),{matches:s}=A.useContext(Cl),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",d=o&&o.route;{let N=d&&d.path||"";cH(c,!d||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Wd(),g;if(e){let N=typeof e=="string"?mm(e):e;wr(f==="/"||((k=N.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=m;let b=g.pathname||"/",x=b;if(f!=="/"){let N=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=eH(n,{pathname:x});Oa(d||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Oa(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Zhe(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:Vu([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Vu([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,t,r);return e&&C?A.createElement(g1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function Yhe(){let n=ipe(),e=Uhe(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:i},t):null,o)}var Xhe=A.createElement(Yhe,null),Qhe=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(Cl.Provider,{value:this.props.routeContext},A.createElement(h2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jhe({routeContext:n,match:e,children:t}){let r=A.useContext(_v);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Cl.Provider,{value:n},t)}function Zhe(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);wr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(t)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(a=c),f.route.id){let{loaderData:d,errors:m}=t,g=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,f,d)=>{let m,g=!1,b=null,x=null;t&&(m=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||Xhe,o&&(a<0&&d===0?(cH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):a===d&&(g=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,d+1)),C=()=>{let k;return m?k=b:g?k=x:f.route.Component?k=A.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=c,A.createElement(Jhe,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?A.createElement(Qhe,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function p2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function epe(n){let e=A.useContext(_v);return wr(e,p2(n)),e}function tpe(n){let e=A.useContext(EC);return wr(e,p2(n)),e}function npe(n){let e=A.useContext(Cl);return wr(e,p2(n)),e}function m2(n){let e=npe(n),t=e.matches[e.matches.length-1];return wr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rpe(){return m2("useRouteId")}function ipe(){var r;let n=A.useContext(h2),e=tpe("useRouteError"),t=m2("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function spe(){let{router:n}=epe("useNavigate"),e=m2("useNavigate"),t=A.useRef(!1);return oH(()=>{t.current=!0}),A.useCallback(async(i,s={})=>{Oa(t.current,sH),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var _4={};function cH(n,e,t){!e&&!_4[n]&&(_4[n]=!0,Oa(!1,t))}A.memo(ope);function ope({routes:n,future:e,state:t}){return lH(n,void 0,t,e)}function g2({to:n,replace:e,state:t,relative:r}){wr(Tv(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Tl);Oa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Cl),{pathname:o}=Wd(),a=aH(),c=d2(n,f2(s),o,r==="path"),f=JSON.stringify(c);return A.useEffect(()=>{a(JSON.parse(f),{replace:e,state:t,relative:r})},[a,f,r,e,t]),null}function UE(n){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ape({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){wr(!Tv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=mm(t));let{pathname:c="/",search:f="",hash:d="",state:m=null,key:g="default"}=t,b=A.useMemo(()=>{let x=Ku(c,o);return x==null?null:{location:{pathname:x,search:f,hash:d,state:m,key:g},navigationType:r}},[o,c,f,d,m,g,r]);return Oa(b!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:A.createElement(Tl.Provider,{value:a},A.createElement(g1.Provider,{children:e,value:b}))}function lpe({children:n,location:e}){return Khe(sD(n),e)}function sD(n,e=[]){let t=[];return A.Children.forEach(n,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){t.push.apply(t,sD(r.props.children,s));return}wr(r.type===UE,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sD(r.props.children,s)),t.push(o)}),t}var FE="get",HE="application/x-www-form-urlencoded";function _C(n){return n!=null&&typeof n.tagName=="string"}function cpe(n){return _C(n)&&n.tagName.toLowerCase()==="button"}function upe(n){return _C(n)&&n.tagName.toLowerCase()==="form"}function fpe(n){return _C(n)&&n.tagName.toLowerCase()==="input"}function dpe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hpe(n,e){return n.button===0&&(!e||e==="_self")&&!dpe(n)}var QS=null;function ppe(){if(QS===null)try{new FormData(document.createElement("form"),0),QS=!1}catch{QS=!0}return QS}var mpe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ek(n){return n!=null&&!mpe.has(n)?(Oa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${HE}"`),null):n}function gpe(n,e){let t,r,i,s,o;if(upe(n)){let a=n.getAttribute("action");r=a?Ku(a,e):null,t=n.getAttribute("method")||FE,i=ek(n.getAttribute("enctype"))||HE,s=new FormData(n)}else if(cpe(n)||fpe(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(r=c?Ku(c,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||FE,i=ek(n.getAttribute("formenctype"))||ek(a.getAttribute("enctype"))||HE,s=new FormData(a,n),!ppe()){let{name:f,type:d,value:m}=n;if(d==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(_C(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=FE,r=null,i=HE,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function y2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ype(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vpe(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bpe(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await ype(s,t);return o.links?o.links():[]}return[]}));return Epe(r.flat(1).filter(vpe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T4(n,e,t,r,i,s){let o=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,a=(c,f)=>{var d;return t[f].pathname!==c.pathname||((d=t[f].route.path)==null?void 0:d.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>o(c,f)||a(c,f)):s==="data"?e.filter((c,f)=>{var m;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,f)||a(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function wpe(n,e,{includeHydrateFallback:t}={}){return xpe(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function xpe(n){return[...new Set(n)]}function Spe(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Epe(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Spe(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _pe=new Set([100,101,204,205]);function Tpe(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ku(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function uH(){let n=A.useContext(_v);return y2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Cpe(){let n=A.useContext(EC);return y2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var v2=A.createContext(void 0);v2.displayName="FrameworkContext";function fH(){let n=A.useContext(v2);return y2(n,"You must render this element inside a <HydratedRouter> element"),n}function Ape(n,e){let t=A.useContext(v2),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,g=A.useRef(null);A.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let _=k=>{k.forEach(N=>{o(N.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[n]),A.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let b=()=>{i(!0)},x=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:sb(a,b),onBlur:sb(c,x),onMouseEnter:sb(f,b),onMouseLeave:sb(d,x),onTouchStart:sb(m,b)}]:[!1,g,{}]}function sb(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Rpe({page:n,...e}){let{router:t}=uH(),r=A.useMemo(()=>eH(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(Mpe,{page:n,matches:r,...e}):null}function kpe(n){let{manifest:e,routeModules:t}=fH(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return bpe(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function Mpe({page:n,matches:e,...t}){let r=Wd(),{manifest:i,routeModules:s}=fH(),{basename:o}=uH(),{loaderData:a,matches:c}=Cpe(),f=A.useMemo(()=>T4(n,e,c,i,r,"data"),[n,e,c,i,r]),d=A.useMemo(()=>T4(n,e,c,i,r,"assets"),[n,e,c,i,r]),m=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,_=!1;if(e.forEach(k=>{var z;let N=i.routes[k.route.id];!N||!N.hasLoader||(!f.some(P=>P.route.id===k.route.id)&&k.route.id in a&&((z=s[k.route.id])!=null&&z.shouldRevalidate)||N.hasClientLoader?_=!0:x.add(k.route.id))}),x.size===0)return[];let C=Tpe(n,o);return _&&x.size>0&&C.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[o,a,r,i,f,e,n,s]),g=A.useMemo(()=>wpe(d,i),[d,i]),b=kpe(d);return A.createElement(A.Fragment,null,m.map(x=>A.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),g.map(x=>A.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:_})=>A.createElement("link",{key:x,..._})))}function Dpe(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dH&&(window.__reactRouterVersion="7.6.2")}catch{}function Ipe({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=vhe({window:t,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),a=A.useCallback(c=>{A.startTransition(()=>o(c))},[o]);return A.useLayoutEffect(()=>i.listen(a),[i,a]),A.createElement(ape,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var hH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pH=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:f,preventScrollReset:d,viewTransition:m,...g},b){let{basename:x}=A.useContext(Tl),_=typeof f=="string"&&hH.test(f),C,k=!1;if(typeof f=="string"&&_&&(C=f,dH))try{let V=new URL(window.location.href),F=f.startsWith("//")?new URL(V.protocol+f):new URL(f),W=Ku(F.pathname,x);F.origin===V.origin&&W!=null?f=W+F.search+F.hash:k=!0}catch{Oa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=qhe(f,{relative:i}),[z,P,H]=Ape(r,g),U=Lpe(f,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:m});function O(V){e&&e(V),V.defaultPrevented||U(V)}let D=A.createElement("a",{...g,...H,href:C||N,onClick:k||s?e:O,ref:Dpe(b,P),target:c,"data-discover":!_&&t==="render"?"true":void 0});return z&&!_?A.createElement(A.Fragment,null,D,A.createElement(Rpe,{page:N})):D});pH.displayName="Link";var Ope=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...f},d){let m=y1(o,{relative:f.relative}),g=Wd(),b=A.useContext(EC),{navigator:x,basename:_}=A.useContext(Tl),C=b!=null&&Upe(m)&&a===!0,k=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,N=g.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(N=N.toLowerCase(),z=z?z.toLowerCase():null,k=k.toLowerCase()),z&&_&&(z=Ku(z,_)||z);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let H=N===k||!i&&N.startsWith(k)&&N.charAt(P)==="/",U=z!=null&&(z===k||!i&&z.startsWith(k)&&z.charAt(k.length)==="/"),O={isActive:H,isPending:U,isTransitioning:C},D=H?e:void 0,V;typeof r=="function"?V=r(O):V=[r,H?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(O):s;return A.createElement(pH,{...f,"aria-current":D,className:V,ref:d,style:F,to:o,viewTransition:a},typeof c=="function"?c(O):c)});Ope.displayName="NavLink";var Npe=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=FE,action:a,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:m,...g},b)=>{let x=zpe(),_=jpe(a,{relative:f}),C=o.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&hH.test(a),N=z=>{if(c&&c(z),z.defaultPrevented)return;z.preventDefault();let P=z.nativeEvent.submitter,H=(P==null?void 0:P.getAttribute("formmethod"))||o;x(P||z.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:i,state:s,relative:f,preventScrollReset:d,viewTransition:m})};return A.createElement("form",{ref:b,method:C,action:_,onSubmit:r?c:N,...g,"data-discover":!k&&n==="render"?"true":void 0})});Npe.displayName="Form";function Ppe(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mH(n){let e=A.useContext(_v);return wr(e,Ppe(n)),e}function Lpe(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=aH(),c=Wd(),f=y1(n,{relative:s});return A.useCallback(d=>{if(hpe(d,e)){d.preventDefault();let m=t!==void 0?t:Rw(c)===Rw(f);a(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,f,t,r,e,n,i,s,o])}var Vpe=0,Bpe=()=>`__${String(++Vpe)}__`;function zpe(){let{router:n}=mH("useSubmit"),{basename:e}=A.useContext(Tl),t=rpe();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:f}=gpe(r,e);if(i.navigate===!1){let d=i.fetcherKey||Bpe();await n.fetch(d,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function jpe(n,{relative:e}={}){let{basename:t}=A.useContext(Tl),r=A.useContext(Cl);wr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...y1(n||".",{relative:e})},o=Wd();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(d=>d==="")){a.delete("index"),c.filter(m=>m).forEach(m=>a.append("index",m));let d=a.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Vu([t,s.pathname])),Rw(s)}function Upe(n,e={}){let t=A.useContext(iH);wr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mH("useViewTransitionState"),i=y1(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ku(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Ku(t.nextLocation.pathname,r)||t.nextLocation.pathname;return j_(i.pathname,o)!=null||j_(i.pathname,s)!=null}[..._pe];function Fpe({...n}){return R.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...n})}function Hpe({className:n,...e}){return R.jsx("ol",{"data-slot":"breadcrumb-list",className:Je("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",n),...e})}function JS({className:n,...e}){return R.jsx("li",{"data-slot":"breadcrumb-item",className:Je("inline-flex items-center gap-1.5",n),...e})}function tk({asChild:n,className:e,...t}){const r=n?IT:"a";return R.jsx(r,{"data-slot":"breadcrumb-link",className:Je("hover:text-foreground transition-colors",e),...t})}function $pe({className:n,...e}){return R.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:Je("text-foreground font-normal",n),...e})}function nk({children:n,className:e,...t}){return R.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:Je("[&>svg]:size-3.5",e),...t,children:n??R.jsx(GB,{})})}function qpe({className:n,...e}){return R.jsxs("span",{"data-slot":"breadcrumb-ellipsis",role:"presentation","aria-hidden":"true",className:Je("flex size-9 items-center justify-center",n),...e,children:[R.jsx(XD,{className:"size-4"}),R.jsx("span",{className:"sr-only",children:"More"})]})}function Wpe(){const[n,e]=A.useState(null),t=A.useRef(null);A.useEffect(()=>(r(),()=>{clearInterval(t.current)}),[]);const r=()=>{t.current=setInterval(()=>{console.log("checking for save"),i()},wt.autoSaveInterval)},i=()=>{const a=structuredClone(wt.needSavedNoteData||{}),c=[];Object.keys(a).forEach(f=>{a[f].saved||c.push({id:f,update:a[f].data,time:a[f].time})}),c.length&&(e("saving"),s(c))},s=async a=>{console.log("perform save",a);const c=[];c.length?(console.error(c),e("error")):(e("saved"),setTimeout(()=>{e(null)},5e3))};return n==="saving"?R.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[R.jsx(ZE,{className:"animate-spin size-4"}),"Saving"]}):n==="saved"?R.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[R.jsx(wq,{className:"size-4"}),"Saved"]}):n==="error"?R.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-2 text-[--tiptap-text-red]",children:[R.jsx(dW,{className:"size-4"}),"Error"]}):null}function Gpe(){return R.jsx("div",{id:"note-toolbar",className:"absolute left-0 top-[100%] w-full flex items-center justify-center z-10"})}function Kpe({note:n,onSettingChange:e}){const{noteId:t}=Ghe(),[r,i]=A.useState([]);A.useEffect(()=>(wt.eventBus.on("update-note-title",s),()=>{wt.eventBus.remove("update-note-title",s)}),[]),A.useEffect(()=>{(async()=>{const f=()=>{var m,g;return(g=(m=wt.sharedData.userNotes)==null?void 0:m.breadcrumbs)==null?void 0:g[t]};let d;if(t&&(d=f(),!d))for(let m=0;m<9&&(await wt.delay(300),d=f(),!d);m++);i(d||[])})()},[t]);const s=({noteId:c,title:f})=>{c===t&&i(d=>{const m=[...d];return m[m.length-1].title=f,m})},o=c=>`#${c}`,a=()=>(r==null?void 0:r.length)>0&&R.jsx(R.Fragment,{children:R.jsx(Fpe,{children:R.jsxs(Hpe,{children:[r.length>1&&R.jsxs(R.Fragment,{children:[R.jsx(JS,{children:R.jsx(tk,{href:o(r[0].url),children:r[0].title})}),R.jsx(nk,{})]}),r.length>3&&R.jsxs(R.Fragment,{children:[R.jsx(JS,{children:R.jsxs(Op,{children:[R.jsxs(Np,{className:"flex items-center gap-1",children:[R.jsx(qpe,{className:"h-4 w-4"}),R.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),R.jsx(Pp,{align:"start",children:r.map((c,f)=>f>0&&f<r.length-2&&R.jsx(cw,{children:R.jsx(tk,{href:o(c.url),children:c.title})},f))})]})}),R.jsx(nk,{})]}),r.length>2&&R.jsxs(R.Fragment,{children:[R.jsx(JS,{children:R.jsx(tk,{href:o(r[r.length-2].url),children:r[r.length-2].title})}),R.jsx(nk,{})]}),R.jsx(JS,{children:R.jsx($pe,{children:r[r.length-1].title})})]})})});return R.jsxs("header",{className:"flex h-12 shrink-0 items-center justify-between bg-background sticky top-0 z-10",children:[R.jsx("div",{className:"flex items-center gap-1 pl-4",children:a()}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx(Wpe,{}),R.jsx(ghe,{note:n,onSettingChange:e})]}),R.jsx(Gpe,{})]})}function Ype({note:n}){const[e,t]=A.useState(n==null?void 0:n.cover);return e?"Cover":R.jsx("div",{className:"h-16"})}function Xpe({note:n,noteId:e}){const t=A.useRef(null),r=h1(Ky,s=>s);A.useEffect(()=>{n&&(t.current.innerText=n.title||"Untitled")},[n]);const i=s=>{jd.notebooks.updateNote(e,{title:s}).then(o=>{var a;if(o){wt.cache.tab.update(e,{title:s});const c=structuredClone(r);(a=c==null?void 0:c.notes)!=null&&a[e]&&(c.notes[e].title=s,Ky.setState(c))}else wt.toast.error("Error updating user's notes title")}),jd.note.update(e,{title:s}).then(o=>{o||wt.toast.error("Error updating note title")})};return R.jsxs("div",{className:"[&_.note-header-action]:hover:opacity-50",children:[R.jsxs("div",{className:"note-header-action flex items-center opacity-0 transition-opacity duration-150 mb-2",children:[R.jsxs(bd,{variant:"ghost",size:"sm",children:[R.jsx(MW,{}),"Add tags"]}),R.jsxs(bd,{variant:"ghost",size:"sm",children:[R.jsx(vW,{}),"Add icon"]}),R.jsxs(bd,{variant:"ghost",size:"sm",children:[R.jsx(Bq,{}),"Add cover"]})]}),R.jsx("h1",{ref:t,contentEditable:!0,onInput:s=>wt.debounce(i,500,s.target.innerText),className:Je("mb-8 text-4xl font-bold outline-none cursor-text","before:empty:content-[attr(placeholder)]"),suppressContentEditableWarning:!0})]})}function Qpe(){return R.jsx("div",{className:"mb-48 mt-4 text-muted-foreground flex flex-col gap-2"})}function Gi(n){this.content=n}Gi.prototype={constructor:Gi,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new Gi(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Gi(t)},addToStart:function(n,e){return new Gi([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Gi(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new Gi(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Gi.from(n),n.size?new Gi(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Gi.from(n),n.size?new Gi(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Gi.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Gi.from=function(n){if(n instanceof Gi)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Gi(e)};function gH(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=gH(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function yH(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),c=o.nodeSize;if(o==a){t-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let f=0,d=Math.min(o.text.length,a.text.length);for(;f<d&&o.text[o.text.length-f-1]==a.text[a.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let f=yH(o.content,a.content,t-1,r-1);if(f)return f}t-=c,r-=c}}class Oe{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let c=this.content[o],f=a+c.nodeSize;if(f>e&&r(c,i+a,s||null,o)!==!1&&c.content.size){let d=a+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,t-d),r,i+d)}a=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,c)=>{let f=a.isText?a.text.slice(Math.max(e,c)-c,t-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&f||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Oe(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],c=o+a.nodeSize;c>e&&((o<e||c>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=c}return new Oe(r,i)}cutByIndex(e,t){return e==t?Oe.empty:e==0&&t==this.content.length?this:new Oe(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new Oe(i,s)}addToStart(e){return new Oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return gH(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return yH(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ZS(0,e);if(e==this.size)return ZS(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?ZS(r+1,o):ZS(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Oe.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Oe.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new Oe(t||e,r)}static from(e){if(!e)return Oe.empty;if(e instanceof Oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const rk={index:0,offset:0};function ZS(n,e){return rk.index=n,rk.offset=e,rk}function U_(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!U_(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!U_(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let er=class oD{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&U_(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return oD.none;if(e instanceof oD)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};er.none=[];class F_ extends Error{}class Ue{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=bH(this.content,e+this.openStart,t);return r&&new Ue(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Ue(vH(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Ue.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ue(Oe.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new Ue(e,r,i)}}Ue.empty=new Ue(Oe.empty,0,0);function vH(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(vH(s.content,e-i-1,t-i-1)))}function bH(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=bH(o.content,e-s-1,t);return a&&n.replaceChild(i,o.copy(a))}function Jpe(n,e,t){if(t.openStart>n.depth)throw new F_("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new F_("Inconsistent open depths");return wH(n,e,t,0)}function wH(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=wH(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return Fp(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Zpe(t,n);return Fp(s,SH(n,o,a,e,r))}else return Fp(s,H_(n,e,r))}function xH(n,e){if(!e.type.compatibleContent(n.type))throw new F_("Cannot join "+e.type.name+" onto "+n.type.name)}function aD(n,e,t){let r=n.node(t);return xH(r,e.node(t)),r}function Up(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Wb(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Up(n.nodeAfter,r),s++));for(let a=s;a<o;a++)Up(i.child(a),r);e&&e.depth==t&&e.textOffset&&Up(e.nodeBefore,r)}function Fp(n,e){return n.type.checkContent(e),n.copy(e)}function SH(n,e,t,r,i){let s=n.depth>i&&aD(n,e,i+1),o=r.depth>i&&aD(t,r,i+1),a=[];return Wb(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(xH(s,o),Up(Fp(s,SH(n,e,t,r,i+1)),a)):(s&&Up(Fp(s,H_(n,e,i+1)),a),Wb(e,t,i,a),o&&Up(Fp(o,H_(t,r,i+1)),a)),Wb(r,null,i,a),new Oe(a)}function H_(n,e,t){let r=[];if(Wb(null,n,t,r),n.depth>t){let i=aD(n,e,t+1);Up(Fp(i,H_(n,e,t+1)),r)}return Wb(e,null,t,r),new Oe(r)}function Zpe(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(Oe.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class kw{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return er.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new $_(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:c}=o.content.findIndex(s),f=s-c;if(r.push(o,a,i+c),!f||(o=o.child(a),o.isText))break;s=f-1,i+=c+1}return new kw(t,r,s)}static resolveCached(e,t){let r=C4.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else C4.set(e,r=new eme);let i=r.elts[r.i]=kw.resolve(e,t);return r.i=(r.i+1)%tme,i}}class eme{constructor(){this.elts=[],this.i=0}}const tme=12,C4=new WeakMap;class $_{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const nme=Object.create(null);let Td=class lD{constructor(e,t,r,i=er.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||Oe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&U_(this.attrs,t||e.defaultAttrs||nme)&&er.sameSet(this.marks,r||er.none)}copy(e=null){return e==this.content?this:new lD(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lD(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Ue.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),f=i.node(o).content.cut(i.pos-a,s.pos-a);return new Ue(f,i.depth-o,s.depth-o)}replace(e,t,r){return Jpe(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return kw.resolveCached(this,e)}resolveNoCache(e){return kw.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),EH(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Oe.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=er.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!er.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=Oe.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Td.prototype.text=void 0;class q_ extends Td{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):EH(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new q_(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new q_(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function EH(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class rm{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new rme(e,t);if(r.next==null)return rm.empty;let i=_H(r);r.next&&r.err("Unexpected trailing text");let s=ume(cme(i));return fme(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let c=o.matchFragment(e,r);if(c&&(!t||c.validEnd))return Oe.from(a.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:d,next:m}=o.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let g=s(m,a.concat(d));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}rm.empty=new rm(!0);class rme{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function _H(n){let e=[];do e.push(ime(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function ime(n){let e=[];do e.push(sme(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function sme(n){let e=lme(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=ome(n,e);else break;return e}function A4(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function ome(n,e){let t=A4(n),r=t;return n.eat(",")&&(n.next!="}"?r=A4(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function ame(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function lme(n){if(n.eat("(")){let e=_H(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=ame(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function cme(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,c){let f={term:c,to:a};return e[o].push(f),f}function i(o,a){o.forEach(c=>c.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((c,f)=>c.concat(s(f,a)),[]);if(o.type=="seq")for(let c=0;;c++){let f=s(o.exprs[c],a);if(c==o.exprs.length-1)return f;i(f,a=t())}else if(o.type=="star"){let c=t();return r(a,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=t();return i(s(o.expr,a),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let c=a;for(let f=0;f<o.min;f++){let d=t();i(s(o.expr,c),d),c=d}if(o.max==-1)i(s(o.expr,c),c);else for(let f=o.min;f<o.max;f++){let d=t();r(c,d),i(s(o.expr,c),d),c=d}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function TH(n,e){return e-n}function R4(n,e){let t=[];return r(e),t.sort(TH);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:c}=s[o];!a&&t.indexOf(c)==-1&&r(c)}}}function ume(n){let e=Object.create(null);return t(R4(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:c})=>{if(!a)return;let f;for(let d=0;d<i.length;d++)i[d][0]==a&&(f=i[d][1]);R4(n,c).forEach(d=>{f||i.push([a,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let s=e[r.join(",")]=new rm(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(TH);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function fme(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:f}=i.next[a];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CH(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function AH(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function RH(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function kH(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new hme(n,r,e[r]);return t}let k4=class MH{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=kH(e,r.attrs),this.defaultAttrs=CH(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==rm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:AH(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Td(this,this.computeAttrs(e),Oe.from(t),er.setFrom(r))}createChecked(e=null,t,r){return t=Oe.from(t),this.checkContent(t),new Td(this,this.computeAttrs(e),t,er.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Oe.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(Oe.empty,!0);return s?new Td(this,e,t.append(s),er.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){RH(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:er.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new MH(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function dme(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class hme{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?dme(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class TC{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=kH(e,i.attrs),this.excluded=null;let s=CH(this.attrs);this.instance=s?new er(this,s):null}create(e=null){return!e&&this.instance?this.instance:new er(this,AH(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new TC(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){RH(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class DH{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Gi.from(e.nodes),t.marks=Gi.from(e.marks||{}),this.nodes=k4.compile(this.spec.nodes,this),this.marks=TC.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=rm.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?M4(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:M4(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof k4){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new q_(r,r.defaultAttrs,e,er.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Td.fromJSON(this,e)}markFromJSON(e){return er.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function M4(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let c=n.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function pme(n){return n.tag!=null}function mme(n){return n.style!=null}class Cd{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(pme(i))this.tags.push(i);else if(mme(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new I4(this,t,!1);return r.addAll(e,er.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new I4(this,t,!0);return r.addAll(e,er.none,t.from,t.to),Ue.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(vme(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=O4(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=O4(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Cd(e,Cd.schemaRules(e)))}}const IH={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gme={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},OH={ol:!0,ul:!0},Mw=1,cD=2,Gb=4;function D4(n,e,t){return e!=null?(e?Mw:0)|(e==="full"?cD:0):n&&n.whitespace=="pre"?Mw|cD:t&~Gb}class eE{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=er.none,this.match=s||(o&Gb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Oe.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Mw)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=Oe.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IH.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class I4{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=D4(null,t.preserveWhitespace,0)|(r?Gb:0);i?s=new eE(i.type,i.attrs,er.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new eE(null,null,er.none,!0,null,o):s=new eE(e.schema.topNodeType,null,er.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&cD?"full":this.localPreserveWS||(i.options&Mw)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;OH.hasOwnProperty(o)&&this.parser.normalizeLists&&yme(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(c?c.ignore:gme.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,d=this.needsBlock;if(IH.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=c&&c.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),f&&this.sync(s),this.needsBlock=d}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,c,f,c.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(s,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(f=>!c.clearMark(f)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(o,t.attrs||null,r,t.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[t.mark];r=r.concat(c.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let c=this.nodes[o],f=c.findWrapping(e);if(f&&(!i||i.length>f.length+a)&&(i=f,s=c,!f.length))break;if(c.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=er.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):N4(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=D4(e,s,o.options);o.options&Gb&&o.content.length==0&&(a|=Gb);let c=er.none;return r=r.filter(f=>(o.type?o.type.allowsMarkType(f.type):N4(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new eE(e,t,c,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Mw)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let f=t[a];if(f==""){if(a==t.length-1||a==0)continue;for(;c>=s;c--)if(o(a-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!d||d.name!=f&&!d.isInGroup(f))return!1;c--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function yme(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&OH.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function vme(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function O4(n){let e={};for(let t in n)e[t]=n[t];return e}function N4(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let c=0;c<a.edgeCount;c++){let{type:f,next:d}=a.edge(c);if(f==e||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class gm{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=ik(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,c=0;for(;a<s.length&&c<o.marks.length;){let f=o.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(s[a][0])||f.type.spec.spanning===!1)break;a++,c++}for(;a<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let f=o.marks[c++],d=this.serializeMark(f,o.isInline,t);d&&(s.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=$E(ik(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&$E(ik(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return $E(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new gm(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=P4(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return P4(e.marks)}}function P4(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function ik(n){return n.document||window.document}const L4=new WeakMap;function bme(n){let e=L4.get(n);return e===void 0&&L4.set(n,e=wme(n)),e}function wme(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function $E(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=bme(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,c=t?n.createElementNS(t,i):n.createElement(i),f=e[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let m in f)if(f[m]!=null){let g=m.indexOf(" ");g>0?c.setAttributeNS(m.slice(0,g),m.slice(g+1),f[m]):c.setAttribute(m,f[m])}}for(let m=d;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:b,contentDOM:x}=$E(n,g,t,r);if(c.appendChild(b),x){if(a)throw new RangeError("Multiple content holes");a=x}}}return{dom:c,contentDOM:a}}const NH=65535,PH=Math.pow(2,16);function xme(n,e){return n+e*PH}function V4(n){return n&NH}function Sme(n){return(n-(n&NH))/PH}const LH=1,VH=2,qE=4,BH=8;class uD{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&BH)>0}get deletedBefore(){return(this.delInfo&(LH|qE))>0}get deletedAfter(){return(this.delInfo&(VH|qE))>0}get deletedAcross(){return(this.delInfo&qE)>0}}class Wo{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Wo.empty)return Wo.empty}recover(e){let t=0,r=V4(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Sme(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[a+s],d=this.ranges[a+o],m=c+f;if(e<=m){let g=f?e==c?-1:e==m?1:t:t,b=c+i+(g<0?0:d);if(r)return b;let x=e==(t<0?c:m)?null:xme(a/3,e-c),_=e==c?VH:e==m?LH:qE;return(t<0?e!=c:e!=m)&&(_|=BH),new uD(b,_,x)}i+=d-f}return r?e+i:new uD(e+i,0,null)}touches(e,t){let r=0,i=V4(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>e)break;let f=this.ranges[a+s],d=c+f;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+o]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),c=o+(this.inverted?0:s),f=this.ranges[i+t],d=this.ranges[i+r];e(a,a+f,c,c+d),s+=d-f}}invert(){return new Wo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Wo.empty:new Wo(e<0?[0,-e,0]:[0,0,e])}}Wo.empty=new Wo([]);class Dw{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Dw(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Dw;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new uD(e,i,null)}}const sk=Object.create(null);class Ms{getMap(){return Wo.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=sk[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in sk)throw new RangeError("Duplicate use of step JSON ID "+e);return sk[e]=t,t.prototype.jsonID=e,t}}class pi{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new pi(e,null)}static fail(e){return new pi(null,e)}static fromReplace(e,t,r,i){try{return pi.ok(e.replace(t,r,i))}catch(s){if(s instanceof F_)return pi.fail(s.message);throw s}}}function b2(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(b2(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return Oe.fromArray(r)}class md extends Ms{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ue(b2(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return pi.fromReplace(e,this.from,this.to,s)}invert(){return new mc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new md(t.pos,r.pos,this.mark)}merge(e){return e instanceof md&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new md(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new md(t.from,t.to,e.markFromJSON(t.mark))}}Ms.jsonID("addMark",md);class mc extends Ms{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Ue(b2(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return pi.fromReplace(e,this.from,this.to,r)}invert(){return new md(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new mc(t.pos,r.pos,this.mark)}merge(e){return e instanceof mc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new mc(t.from,t.to,e.markFromJSON(t.mark))}}Ms.jsonID("removeMark",mc);class gd extends Ms{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pi.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return pi.fromReplace(e,this.pos,this.pos+1,new Ue(Oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new gd(this.pos,t.marks[i]);return new gd(this.pos,this.mark)}}return new im(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new gd(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new gd(t.pos,e.markFromJSON(t.mark))}}Ms.jsonID("addNodeMark",gd);class im extends Ms{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pi.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return pi.fromReplace(e,this.pos,this.pos+1,new Ue(Oe.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new gd(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new im(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new im(t.pos,e.markFromJSON(t.mark))}}Ms.jsonID("removeNodeMark",im);class Di extends Ms{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&fD(e,this.from,this.to)?pi.fail("Structure replace would overwrite content"):pi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Wo([this.from,this.to-this.from,this.slice.size])}invert(e){return new Di(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Di(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Di)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Ue.empty:new Ue(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Di(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Ue.empty:new Ue(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Di(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Di(t.from,t.to,Ue.fromJSON(e,t.slice),!!t.structure)}}Ms.jsonID("replace",Di);class Oi extends Ms{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(fD(e,this.from,this.gapFrom)||fD(e,this.gapTo,this.to)))return pi.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return pi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?pi.fromReplace(e,this.from,this.to,r):pi.fail("Content does not fit in gap")}getMap(){return new Wo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Oi(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Oi(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Oi(t.from,t.to,t.gapFrom,t.gapTo,Ue.fromJSON(e,t.slice),t.insert,!!t.structure)}}Ms.jsonID("replaceAround",Oi);function fD(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Eme(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(c,f,d)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&d.type.allowsMarkType(r.type)){let g=Math.max(f,e),b=Math.min(f+c.nodeSize,t),x=r.addToSet(m);for(let _=0;_<m.length;_++)m[_].isInSet(x)||(o&&o.to==g&&o.mark.eq(m[_])?o.to=b:i.push(o=new mc(g,b,m[_])));a&&a.to==g?a.to=b:s.push(a=new md(g,b,r))}}),i.forEach(c=>n.step(c)),s.forEach(c=>n.step(c))}function _me(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof TC){let f=o.marks,d;for(;d=r.isInSet(f);)(c||(c=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let f=Math.min(a+o.nodeSize,t);for(let d=0;d<c.length;d++){let m=c[d],g;for(let b=0;b<i.length;b++){let x=i[b];x.step==s-1&&m.eq(i[b].style)&&(g=x)}g?(g.to=f,g.step=s):i.push({style:m,from:Math.max(a,e),to:f,step:s})}}}),i.forEach(o=>n.step(new mc(o.from,o.to,o.style)))}function w2(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let c=0;c<s.childCount;c++){let f=s.child(c),d=a+f.nodeSize,m=r.matchType(f.type);if(!m)o.push(new Di(a,d,Ue.empty));else{r=m;for(let g=0;g<f.marks.length;g++)t.allowsMarkType(f.marks[g].type)||n.step(new mc(a,d,f.marks[g]));if(i&&f.isText&&t.whitespace!="pre"){let g,b=/\r?\n|\r/g,x;for(;g=b.exec(f.text);)x||(x=new Ue(Oe.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),o.push(new Di(a+g.index,a+g.index+g[0].length,x))}}a=d}if(!r.validEnd){let c=r.fillBefore(Oe.empty,!0);n.replace(a,a,new Ue(c,0,0))}for(let c=o.length-1;c>=0;c--)n.step(o[c])}function Tme(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Cv(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!Tme(i,s,o))break}return null}function Cme(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),c=o,f=a,d=Oe.empty,m=0;for(let x=s,_=!1;x>t;x--)_||r.index(x)>0?(_=!0,d=Oe.from(r.node(x).copy(d)),m++):c--;let g=Oe.empty,b=0;for(let x=s,_=!1;x>t;x--)_||i.after(x+1)<i.end(x)?(_=!0,g=Oe.from(i.node(x).copy(g)),b++):f++;n.step(new Oi(c,f,o,a,new Ue(d.append(g),m,b),d.size-m,!0))}function x2(n,e,t=null,r=n){let i=Ame(n,e),s=i&&Rme(r,e);return s?i.map(B4).concat({type:e,attrs:t}).concat(s.map(B4)):null}function B4(n){return{type:n,attrs:null}}function Ame(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Rme(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let f=r;c&&f<i;f++)c=c.matchType(t.child(f).type);return!c||!c.validEnd?null:o}function kme(n,e,t){let r=Oe.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Oe.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new Oi(i,s,i,s,new Ue(r,0,0),t.length,!0))}function Mme(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,c)&&Dme(n.doc,n.mapping.slice(s).map(a),r)){let f=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!x?f=!1:!b&&x&&(f=!0)}f===!1&&jH(n,o,a,s),w2(n,n.mapping.slice(s).map(a,1),r,void 0,f===null);let d=n.mapping.slice(s),m=d.map(a,1),g=d.map(a+o.nodeSize,1);return n.step(new Oi(m,g,m+1,g-1,new Ue(Oe.from(r.create(c,null,o.marks)),0,0),1,!0)),f===!0&&zH(n,o,a,s),!1}})}function zH(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function jH(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Dme(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Ime(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Oi(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ue(Oe.from(o),0,0),1,!0))}function Bu(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=t-2;f>s;f--,d--){let m=i.node(f),g=i.index(f);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(g,m.childCount),x=r&&r[d+1];x&&(b=b.replaceChild(0,x.type.create(x.attrs)));let _=r&&r[d]||m;if(!m.canReplace(g+1,m.childCount)||!_.type.validContent(b))return!1}let a=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(a,a,c?c.type:i.node(s+1).type)}function Ome(n,e,t=1,r){let i=n.doc.resolve(e),s=Oe.empty,o=Oe.empty;for(let a=i.depth,c=i.depth-t,f=t-1;a>c;a--,f--){s=Oe.from(i.node(a).copy(s));let d=r&&r[f];o=Oe.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}n.step(new Di(e,e,new Ue(s.append(o),t,t),!0))}function Gd(n,e){let t=n.resolve(e),r=t.index();return UH(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Nme(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function UH(n,e){return!!(n&&e&&!n.isLeaf&&Nme(n,e))}function CC(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&UH(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Pme(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",m=!!o.contentMatch.matchType(i);d&&!m?r=!1:!d&&m&&(r=!0)}let a=n.steps.length;if(r===!1){let d=n.doc.resolve(e+t);jH(n,d.node(),d.before(),a)}o.inlineContent&&w2(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let c=n.mapping.slice(a),f=c.map(e-t);if(n.step(new Di(f,c.map(e+t,-1),Ue.empty,!0)),r===!0){let d=n.doc.resolve(f);zH(n,d.node(),d.before(),n.steps.length)}return n}function Lme(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function FH(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),f=r.node(o),d=!1;if(s==1)d=f.canReplace(c,c,i);else{let m=f.contentMatchAt(c).findWrapping(i.firstChild.type);d=m&&f.canReplaceWith(c,c,m[0])}if(d)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function AC(n,e,t=e,r=Ue.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return HH(i,s,r)?new Di(e,t,r):new Vme(i,s,r).fit()}function HH(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Vme{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Oe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let c=new Ue(s,o,a);return e>-1?new Oi(r.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||r.pos!=this.$to.pos?new Di(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ok(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:f}=this.frontier[a],d,m=null;if(t==1&&(o?f.matchType(o.type)||(m=f.fillBefore(Oe.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:m};if(t==2&&o&&(d=f.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:d};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=ok(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ue(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=ok(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new Ue(Eb(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new Ue(Eb(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let _=0;_<s.length;_++)this.openFrontierNode(s[_]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-e,f=0,d=[],{match:m,type:g}=this.frontier[t];if(i){for(let _=0;_<i.childCount;_++)d.push(i.child(_));m=m.matchFragment(i)}let b=a.size+e-(o.content.size-o.openEnd);for(;f<a.childCount;){let _=a.child(f),C=m.matchType(_.type);if(!C)break;f++,(f>1||c==0||_.content.size)&&(m=C,d.push($H(_.mark(g.allowedMarks(_.marks)),f==1?c:0,f==a.childCount?b:-1)))}let x=f==a.childCount;x||(b=-1),this.placed=_b(this.placed,t,Oe.from(d)),this.frontier[t].match=m,x&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let _=0,C=a;_<b;_++){let k=C.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),C=k.content}this.unplaced=x?e==0?Ue.empty:new Ue(Eb(o.content,e-1,1),e-1,b<0?o.openEnd:e-1):new Ue(Eb(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!ak(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=ak(e,t,i,r,s);if(o){for(let a=t-1;a>=0;a--){let{match:c,type:f}=this.frontier[a],d=ak(e,a,f,c,!0);if(!d||d.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=_b(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=_b(this.placed,this.depth,Oe.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Oe.empty,!0);t.childCount&&(this.placed=_b(this.placed,this.frontier.length,t))}}function Eb(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Eb(n.firstChild.content,e-1,t)))}function _b(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(_b(n.lastChild.content,e-1,t)))}function ok(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function $H(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,$H(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Oe.empty,!0)))),n.copy(r)}function ak(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Bme(t,s.content,o)?a:null}function Bme(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function zme(n){return n.spec.defining||n.spec.definingForContent}function jme(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(HH(i,s,r))return n.step(new Di(e,t,r));let o=WH(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let g=i.depth,b=i.pos-1;g>0;g--,b--){let x=i.node(g).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;o.indexOf(g)>-1?a=g:i.before(g)==b&&o.splice(1,0,-g)}let c=o.indexOf(a),f=[],d=r.openStart;for(let g=r.content,b=0;;b++){let x=g.firstChild;if(f.push(x),b==r.openStart)break;g=x.content}for(let g=d-1;g>=0;g--){let b=f[g],x=zme(b.type);if(x&&!b.sameMarkup(i.node(Math.abs(a)-1)))d=g;else if(x||!b.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let b=(g+d+1)%(r.openStart+1),x=f[b];if(x)for(let _=0;_<o.length;_++){let C=o[(_+c)%o.length],k=!0;C<0&&(k=!1,C=-C);let N=i.node(C-1),z=i.index(C-1);if(N.canReplaceWith(z,z,x.type,x.marks))return n.replace(i.before(C),k?s.after(C):t,new Ue(qH(r.content,0,r.openStart,b),b,r.openEnd))}}let m=n.steps.length;for(let g=o.length-1;g>=0&&(n.replace(e,t,r),!(n.steps.length>m));g--){let b=o[g];b<0||(e=i.before(b),t=s.after(b))}}function qH(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(qH(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(Oe.empty,!0))}return n}function Ume(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Lme(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Ue(Oe.from(r),0,0))}function Fme(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=WH(r,i);for(let o=0;o<s.length;o++){let a=s[o],c=o==s.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function WH(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class ky extends Ms{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return pi.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return pi.fromReplace(e,this.pos,this.pos+1,new Ue(Oe.from(i),0,t.isLeaf?0:1))}getMap(){return Wo.empty}invert(e){return new ky(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ky(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ky(t.pos,t.attr,t.value)}}Ms.jsonID("attr",ky);class Iw extends Ms{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return pi.ok(r)}getMap(){return Wo.empty}invert(e){return new Iw(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Iw(t.attr,t.value)}}Ms.jsonID("docAttr",Iw);let Xy=class extends Error{};Xy=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Xy.prototype=Object.create(Error.prototype);Xy.prototype.constructor=Xy;Xy.prototype.name="TransformError";class S2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Dw}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Xy(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Ue.empty){let i=AC(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Ue(Oe.from(r),0,0))}delete(e,t){return this.replace(e,t,Ue.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return jme(this,e,t,r),this}replaceRangeWith(e,t,r){return Ume(this,e,t,r),this}deleteRange(e,t){return Fme(this,e,t),this}lift(e,t){return Cme(this,e,t),this}join(e,t=1){return Pme(this,e,t),this}wrap(e,t){return kme(this,e,t),this}setBlockType(e,t=e,r,i=null){return Mme(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Ime(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new ky(e,t,r)),this}setDocAttribute(e,t){return this.step(new Iw(e,t)),this}addNodeMark(e,t){return this.step(new gd(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof er)t.isInSet(r.marks)&&this.step(new im(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new im(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return Ome(this,e,t,r),this}addMark(e,t,r){return Eme(this,e,t,r),this}removeMark(e,t,r){return _me(this,e,t,r),this}clearIncompatible(e,t,r){return w2(this,e,t,r),this}}const lk=Object.create(null);class gt{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new GH(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Ue.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:f}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(c.pos),d.map(f.pos),a?Ue.empty:t),a==0&&U4(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],c=e.mapping.slice(r),f=c.map(o.pos),d=c.map(a.pos);s?e.deleteRange(f,d):(e.replaceRangeWith(f,d,t),U4(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new at(e):iy(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?iy(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):iy(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Qo(e.node(0))}static atStart(e){return iy(e,e,0,0,1)||new Qo(e)}static atEnd(e){return iy(e,e,e.content.size,e.childCount,-1)||new Qo(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=lk[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in lk)throw new RangeError("Duplicate use of selection JSON ID "+e);return lk[e]=t,t.prototype.jsonID=e,t}getBookmark(){return at.between(this.$anchor,this.$head).getBookmark()}}gt.prototype.visible=!0;class GH{constructor(e,t){this.$from=e,this.$to=t}}let z4=!1;function j4(n){!z4&&!n.parent.inlineContent&&(z4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class at extends gt{constructor(e,t=e){j4(e),j4(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return gt.near(r);let i=e.resolve(t.map(this.anchor));return new at(i.parent.inlineContent?i:r,r)}replace(e,t=Ue.empty){if(super.replace(e,t),t==Ue.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof at&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new RC(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new at(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=gt.findFrom(t,r,!0)||gt.findFrom(t,-r,!0);if(s)t=s.$head;else return gt.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(gt.findFrom(e,-r,!0)||gt.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new at(e,t)}}gt.jsonID("text",at);class RC{constructor(e,t){this.anchor=e,this.head=t}map(e){return new RC(e.map(this.anchor),e.map(this.head))}resolve(e){return at.between(e.resolve(this.anchor),e.resolve(this.head))}}class Qe extends gt{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?gt.near(s):new Qe(s)}content(){return new Ue(Oe.from(this.node),0,0)}eq(e){return e instanceof Qe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new E2(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Qe(e.resolve(t.anchor))}static create(e,t){return new Qe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Qe.prototype.visible=!1;gt.jsonID("node",Qe);class E2{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new RC(r,r):new E2(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Qe.isSelectable(r)?new Qe(t):gt.near(t)}}class Qo extends gt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Ue.empty){if(t==Ue.empty){e.delete(0,e.doc.content.size);let r=gt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Qo(e)}map(e){return new Qo(e)}eq(e){return e instanceof Qo}getBookmark(){return Hme}}gt.jsonID("all",Qo);const Hme={map(){return this},resolve(n){return new Qo(n)}};function iy(n,e,t,r,i,s=!1){if(e.inlineContent)return at.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Qe.isSelectable(a))return Qe.create(n,t-(i<0?a.nodeSize:0))}else{let c=iy(n,a,t+i,i<0?a.childCount:0,i,s);if(c)return c}t+=a.nodeSize*i}return null}function U4(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Di||i instanceof Oi))return;let s=n.mapping.maps[r],o;s.forEach((a,c,f,d)=>{o==null&&(o=d)}),n.setSelection(gt.near(n.doc.resolve(o),t))}const F4=1,tE=2,H4=4;class $me extends S2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|F4)&~tE,this.storedMarks=null,this}get selectionSet(){return(this.updated&F4)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=tE,this}ensureMarks(e){return er.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&tE)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~tE,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||er.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(gt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=H4,this}get scrolledIntoView(){return(this.updated&H4)>0}}function $4(n,e){return!e||!n?n:n.bind(e)}class Tb{constructor(e,t,r){this.name=e,this.init=$4(t.init,r),this.apply=$4(t.apply,r)}}const qme=[new Tb("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Tb("selection",{init(n,e){return n.selection||gt.atStart(e.doc)},apply(n){return n.selection}}),new Tb("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Tb("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class ck{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=qme.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Tb(r.key,r.spec.state,r))})}}class yy{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,f=i?i[o].state:this,d=c<t.length&&a.spec.appendTransaction.call(a,c?t.slice(c):t,f,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<o?{state:r,n:t.length}:{state:this,n:0})}t.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new yy(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new $me(this)}static create(e){let t=new ck(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new yy(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new ck(this.schema,e.plugins),r=t.fields,i=new yy(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new ck(e.schema,e.plugins),s=new yy(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Td.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=gt.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],f=c.spec.state;if(c.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=f.fromJSON.call(c,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function KH(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=KH(i,e,{})),t[r]=i}return t}class xr{constructor(e){this.spec=e,this.props={},e.props&&KH(e.props,this,this.props),this.key=e.key?e.key.key:YH("plugin")}getState(e){return e[this.key]}}const uk=Object.create(null);function YH(n){return n in uk?n+"$"+ ++uk[n]:(uk[n]=0,n+"$")}class ei{constructor(e="key"){this.key=YH(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Xi=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Qy=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let dD=null;const Ru=function(n,e,t){let r=dD||(dD=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},Wme=function(){dD=null},sm=function(n,e,t,r){return t&&(q4(n,e,t,r,-1)||q4(n,e,t,r,1))},Gme=/^(img|br|input|textarea|hr)$/i;function q4(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ca(n))){let o=n.parentNode;if(!o||o.nodeType!=1||v1(n)||Gme.test(n.nodeName)||n.contentEditable=="false")return!1;e=Xi(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?Ca(n):0}else return!1}}function Ca(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Kme(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ca(n)}else if(n.parentNode&&!v1(n))e=Xi(n),n=n.parentNode;else return null}}function Yme(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!v1(n))e=Xi(n)+1,n=n.parentNode;else return null}}function Xme(n,e,t){for(let r=e==0,i=e==Ca(n);r||i;){if(n==t)return!0;let s=Xi(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Ca(n)}}function v1(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const kC=function(n){return n.focusNode&&sm(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function _p(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Qme(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Jme(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ca(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ca(r.startContainer),r.startOffset)}}}const Dc=typeof navigator<"u"?navigator:null,W4=typeof document<"u"?document:null,Kd=Dc&&Dc.userAgent||"",hD=/Edge\/(\d+)/.exec(Kd),XH=/MSIE \d/.exec(Kd),pD=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kd),wo=!!(XH||pD||hD),Ad=XH?document.documentMode:pD?+pD[1]:hD?+hD[1]:0,Sl=!wo&&/gecko\/(\d+)/i.test(Kd);Sl&&+(/Firefox\/(\d+)/.exec(Kd)||[0,0])[1];const mD=!wo&&/Chrome\/(\d+)/.exec(Kd),Cs=!!mD,QH=mD?+mD[1]:0,Ws=!wo&&!!Dc&&/Apple Computer/.test(Dc.vendor),Jy=Ws&&(/Mobile\/\w+/.test(Kd)||!!Dc&&Dc.maxTouchPoints>2),Ta=Jy||(Dc?/Mac/.test(Dc.platform):!1),Zme=Dc?/Win/.test(Dc.platform):!1,Nu=/Android \d/.test(Kd),b1=!!W4&&"webkitFontSmoothing"in W4.documentElement.style,ege=b1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function tge(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Eu(n,e){return typeof n=="number"?n:n[e]}function nge(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function G4(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Qy(o);continue}let a=o,c=a==s.body,f=c?tge(s):nge(a),d=0,m=0;if(e.top<f.top+Eu(r,"top")?m=-(f.top-e.top+Eu(i,"top")):e.bottom>f.bottom-Eu(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Eu(i,"top")-f.top:e.bottom-f.bottom+Eu(i,"bottom")),e.left<f.left+Eu(r,"left")?d=-(f.left-e.left+Eu(i,"left")):e.right>f.right-Eu(r,"right")&&(d=e.right-f.right+Eu(i,"right")),d||m)if(c)s.defaultView.scrollBy(d,m);else{let b=a.scrollLeft,x=a.scrollTop;m&&(a.scrollTop+=m),d&&(a.scrollLeft+=d);let _=a.scrollLeft-b,C=a.scrollTop-x;e={left:e.left-_,top:e.top-C,right:e.right-_,bottom:e.bottom-C}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Qy(o)}}function rge(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=t-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:JH(n.dom)}}function JH(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Qy(r));return e}function ige({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;ZH(t,r==0?0:r-e)}function ZH(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Xg=null;function sge(n){if(n.setActive)return n.setActive();if(Xg)return n.focus(Xg);let e=JH(n);n.focus(Xg==null?{get preventScroll(){return Xg={preventScroll:!0},!0}}:void 0),Xg||(Xg=!1,ZH(e,0))}function e$(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,c,f;for(let d=n.firstChild,m=0;d;d=d.nextSibling,m++){let g;if(d.nodeType==1)g=d.getClientRects();else if(d.nodeType==3)g=Ru(d).getClientRects();else continue;for(let b=0;b<g.length;b++){let x=g[b];if(x.top<=o&&x.bottom>=a){o=Math.max(x.bottom,o),a=Math.min(x.top,a);let _=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(_<r){t=d,r=_,i=_&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&_&&(s=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!c&&x.left<=e.left&&x.right>=e.left&&(c=d,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=m+1)}}return!t&&c&&(t=c,i=f,r=0),t&&t.nodeType==3?oge(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:e$(t,i)}function oge(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Zf(r,1);if(s.top!=s.bottom&&_2(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function _2(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function age(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function lge(n,e,t){let{node:r,offset:i}=e$(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function cge(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?i=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function t$(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let f=a[c];if(_2(e,f))return t$(o,e,f)}}if((s=(s+1)%r)==i)break}return n}function uge(n,e){let t=n.dom.ownerDocument,r,i=0,s=Jme(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let f=n.dom.getBoundingClientRect();if(!_2(e,f)||(o=t$(n.dom,e,f),!o))return null}if(Ws)for(let f=o;r&&f;f=Qy(f))f.draggable&&(r=void 0);if(o=age(o,e),r){if(Sl&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],m;d.nodeName=="IMG"&&(m=d.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;b1&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=cge(n,r,i,e))}a==null&&(a=lge(n,o,e));let c=n.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function K4(n){return n.top<n.bottom||n.left<n.right}function Zf(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(K4(r))return r}return Array.prototype.find.call(t,K4)||n.getBoundingClientRect()}const fge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function n$(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=b1||Sl;if(r.nodeType==3)if(o&&(fge.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let c=Zf(Ru(r,i,i),t);if(Sl&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Zf(Ru(r,i-1,i-1),-1);if(f.top==c.top){let d=Zf(Ru(r,i,i+1),-1);if(d.top!=c.top)return ob(d,d.left<f.left)}}return c}else{let c=i,f=i,d=t<0?1:-1;return t<0&&!i?(f++,d=-1):t>=0&&i==r.nodeValue.length?(c--,d=1):t<0?c--:f++,ob(Zf(Ru(r,c,f),d),d<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Ca(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return fk(c.getBoundingClientRect(),!1)}if(s==null&&i<Ca(r)){let c=r.childNodes[i];if(c.nodeType==1)return fk(c.getBoundingClientRect(),!0)}return fk(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Ca(r))){let c=r.childNodes[i-1],f=c.nodeType==3?Ru(c,Ca(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return ob(Zf(f,1),!1)}if(s==null&&i<Ca(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Ru(c,0,o?0:1):c.nodeType==1?c:null:null;if(f)return ob(Zf(f,-1),!0)}return ob(Zf(r.nodeType==3?Ru(r):r,-t),t>=0)}function ob(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function fk(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function r$(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function dge(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return r$(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=n$(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Ru(a,0,a.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.bottom>d.top+1&&(t=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const hge=/[\u0590-\u08ac]/;function pge(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!hge.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:r$(n,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:d,anchorOffset:m}=n.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:_}=n.domSelectionRange(),C=x&&!b.contains(x.nodeType==1?x:x.parentNode)||c==x&&f==_;try{a.collapse(d,m),c&&(c!=d||f!=m)&&a.extend&&a.extend(c,f)}catch{}return g!=null&&(a.caretBidiLevel=g),C}):r.pos==r.start()||r.pos==r.end()}let Y4=null,X4=null,Q4=!1;function mge(n,e,t){return Y4==e&&X4==t?Q4:(Y4=e,X4=t,Q4=t=="up"||t=="down"?dge(n,e,t):pge(n,e,t))}const ka=0,J4=1,Mp=2,Ic=3;class w1{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=ka,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Xi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof s$){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof i$&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Xi(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Xi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let c=this.children[a],f=o+c.size;if(i==-1&&e<=f){let d=o+c.border;if(e>=d&&t<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,d);e=o;for(let m=a;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Xi(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(f>t||a==this.children.length-1)){t=f;for(let d=a+1;d<this.children.length;d++){let m=this.children[d];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Xi(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let b=0,x=0;b<this.children.length;b++){let _=this.children[b],C=x+_.size;if(s>x&&o<C)return _.setSelection(e-x-_.border,t-x-_.border,r,i);x=C}let a=this.domFromPos(e,e?-1:1),c=t==e?a:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),d=r.domSelectionRange(),m=!1;if((Sl||Ws)&&e==t){let{node:b,offset:x}=a;if(b.nodeType==3){if(m=!!(x&&b.nodeValue[x-1]==`
`),m&&x==b.nodeValue.length)for(let _=b,C;_;_=_.parentNode){if(C=_.nextSibling){C.nodeName=="BR"&&(a=c={node:C.parentNode,offset:Xi(C)+1});break}let k=_.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let _=b.childNodes[x-1];m=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(Sl&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let b=d.focusNode.childNodes[d.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||m&&Ws)&&sm(a.node,a.offset,d.anchorNode,d.anchorOffset)&&sm(c.node,c.offset,d.focusNode,d.focusOffset))return;let g=!1;if((f.extend||e==t)&&!m){f.collapse(a.node,a.offset);try{e!=t&&f.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>t){let x=a;a=c,c=x}let b=document.createRange();b.setEnd(c.node,c.offset),b.setStart(a.node,a.offset),f.removeAllRanges(),f.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,c=o-s.border;if(e>=a&&t<=c){this.dirty=e==r||t==o?Mp:J4,e==a&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ic:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Mp:Ic}r=o}this.dirty=Mp}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Mp:J4;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class i$ extends w1{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==ka&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class gge extends w1{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class om extends w1{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=gm.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new om(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ic||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ic&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=ka){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ka}}slice(e,t,r){let i=om.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=yD(s,t,o,r)),e>0&&(s=yD(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Rd extends w1{constructor(e,t,r,i,s,o,a,c,f){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],c,f=a&&a(t,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=f&&f.dom,m=f&&f.contentDOM;if(t.isText){if(!d)d=document.createTextNode(t.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:m}=gm.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),t.type.spec.draggable&&(d.draggable=!0));let g=d;return d=l$(d,r,t),f?c=new yge(e,t,r,i,d,m||null,g,f,s,o+1):t.isText?new MC(e,t,r,i,d,g,s):new Rd(e,t,r,i,d,m||null,g,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Oe.empty)}return e}matchesNode(e,t,r){return this.dirty==ka&&e.eq(this.node)&&W_(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,c=new bge(this,o&&o.node,e);Sge(this.node,this.innerDeco,(f,d,m)=>{f.spec.marks?c.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&c.syncToMarks(d==this.node.childCount?er.none:this.node.child(d).marks,r,e),c.placeWidget(f,e,i)},(f,d,m,g)=>{c.syncToMarks(f.marks,r,e);let b;c.findNodeMatch(f,d,m,g)||a&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(b=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(f,d,m,b,e)||c.updateNextNode(f,d,m,e,g,i)||c.addNode(f,d,m,e,i),i+=f.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Mp)&&(o&&this.protectLocalComposition(e,o),o$(this.contentDOM,this.children,e),Jy&&Ege(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof at)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=_ge(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new gge(this,s,t,i);e.input.compositionNodes.push(o),this.children=yD(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Ic||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ka}updateOuterDeco(e){if(W_(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=a$(this.dom,this.nodeDOM,gD(this.outerDeco,this.node,t),gD(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Z4(n,e,t,r,i){l$(r,e,n);let s=new Rd(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class MC extends Rd{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Ic||this.dirty!=ka&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=ka||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ka,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new MC(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ic)}get domAtom(){return!1}isText(e){return this.node.text==e}}class s$ extends w1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ka&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class yge extends Rd{constructor(e,t,r,i,s,o,a,c,f,d){super(e,t,r,i,s,o,a,f,d),this.spec=c}update(e,t,r,i){if(this.dirty==Ic)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function o$(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=e3(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof om){let c=r?r.previousSibling:n.lastChild;o$(o.contentDOM,o.children,t),r=c?c.nextSibling:n.firstChild}}for(;r;)r=e3(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Kb=function(n){n&&(this.nodeName=n)};Kb.prototype=Object.create(null);const Dp=[new Kb];function gD(n,e,t){if(n.length==0)return Dp;let r=t?Dp[0]:new Kb,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new Kb(o.nodeName));for(let a in o){let c=o[a];c!=null&&(t&&i.length==1&&i.push(r=new Kb(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function a$(n,e,t,r){if(t==Dp&&r==Dp)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let c;a&&a.nodeName==o.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Dp[0]),i=c}vge(i,a||Dp[0],o)}return i}function vge(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function l$(n,e,t){return a$(n,n,Dp,gD(e,t,n.nodeType!=1))}function W_(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function e3(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class bge{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=wge(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ka,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let f=this.top.children[c];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=om.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let f=this.top.children[a];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Ic&&o.dom==o.contentDOM&&(o.dirty=Mp),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Rd){let f=this.preMatch.matched.get(c);if(f!=null&&f!=s)return!1;let d=c.dom,m,g=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ic&&W_(t,c.outerDeco));if(!g&&c.update(e,t,r,i))return this.destroyBetween(this.index,a),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(c,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Mp,m.updateChildren(i,o+1),m.dirty=ka),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!W_(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Rd.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=Rd.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new i$(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof om;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof MC)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ws||Cs)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new s$(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function wge(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let f=t.children[r-1];if(f instanceof om)t=f,r=f.children.length;else{a=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let c=a.node;if(c){if(c!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function xge(n,e){return n.type.side-e.type.side}function Sge(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let f=0;f<n.childCount;f++){let d=n.child(f);r(d,i,e.forChild(s,d),f),s+=d.nodeSize}return}let o=0,a=[],c=null;for(let f=0;;){let d,m;for(;o<i.length&&i[o].to==s;){let C=i[o++];C.widget&&(d?(m||(m=[d])).push(C):d=C)}if(d)if(m){m.sort(xge);for(let C=0;C<m.length;C++)t(m[C],f,!!c)}else t(d,f,!!c);let g,b;if(c)b=-1,g=c,c=null;else if(f<n.childCount)b=f,g=n.child(f++);else break;for(let C=0;C<a.length;C++)a[C].to<=s&&a.splice(C--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let x=s+g.nodeSize;if(g.isText){let C=x;o<i.length&&i[o].from<C&&(C=i[o].from);for(let k=0;k<a.length;k++)a[k].to<C&&(C=a[k].to);C<x&&(c=g.cut(C-s),g=g.cut(0,C-s),x=C,b=-1)}else for(;o<i.length&&i[o].to<x;)o++;let _=g.isInline&&!g.isLeaf?a.filter(C=>!C.inline):a.slice();r(g,_,e.forChild(s,g),b),s=x}}function Ege(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function _ge(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<n.childCount;){let f=n.child(i++);if(s+=f.nodeSize,!f.isText)break;c+=f.text}if(s>=t){if(s>=r&&c.slice(r-e.length-a,r-a)==e)return r-e.length;let f=a<r?c.lastIndexOf(e,r-a-1):-1;if(f>=0&&f+e.length+a>=t)return a+f;if(t==r&&c.length>=r+e.length-a&&c.slice(r-a,r-a+e.length)==e)return r}}return-1}function yD(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let c=n[o],f=a,d=a+=c.size;f>=t||d<=e?s.push(c):(f<e&&s.push(c.slice(0,e-f,r)),i&&(s.push(i),i=void 0),d>t&&s.push(c.slice(t-f,c.size,r)))}return s}function T2(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,f;if(kC(t)){for(c=o;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Qe.isSelectable(m)&&i.parent&&!(m.isInline&&Xme(t.focusNode,t.focusOffset,i.dom))){let g=i.posBefore;f=new Qe(o==g?a:r.resolve(g))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=o,g=o;for(let b=0;b<t.rangeCount;b++){let x=t.getRangeAt(b);m=Math.min(m,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),g=Math.max(g,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[c,o]=g==n.state.selection.anchor?[g,m]:[m,g],a=r.resolve(o)}else c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!f){let m=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;f=C2(n,d,a,m)}return f}function c$(n){return n.editable?n.hasFocus():f$(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function zu(n,e=!1){let t=n.state.selection;if(u$(n,t),!!c$(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Cs){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&sm(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Cge(n);else{let{anchor:r,head:i}=t,s,o;t3&&!(t instanceof at)&&(t.$from.parent.inlineContent||(s=n3(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=n3(n,t.to))),n.docView.setSelection(r,i,n,e),t3&&(s&&r3(s),o&&r3(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Tge(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const t3=Ws||Cs&&QH<63;function n3(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Ws&&i&&i.contentEditable=="false")return dk(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return dk(i);if(s)return dk(s)}}function dk(n){return n.contentEditable="true",Ws&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function r3(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Tge(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!c$(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Cge(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Xi(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&wo&&Ad<=11&&(r.disabled=!0,r.disabled=!1)}function u$(n,e){if(e instanceof Qe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(i3(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else i3(n)}function i3(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function C2(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||at.between(e,t,r)}function s3(n){return n.editable&&!n.hasFocus()?!1:f$(n)}function f$(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Age(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return sm(e.node,e.offset,t.anchorNode,t.anchorOffset)}function vD(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&gt.findFrom(s,e)}function td(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function o3(n,e,t){let r=n.state.selection;if(r instanceof at)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return td(n,new at(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=vD(n.state,e);return i&&i instanceof Qe?td(n,i):!1}else if(!(Ta&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Qe.isSelectable(s)?td(n,new Qe(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):b1?td(n,new at(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Qe&&r.node.isInline)return td(n,new at(e>0?r.$to:r.$from));{let i=vD(n.state,e);return i?td(n,i):!1}}}function G_(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Yb(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Qg(n,e){return e<0?Rge(n):kge(n)}function Rge(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Sl&&t.nodeType==1&&r<G_(t)&&Yb(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(Yb(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(d$(t))break;{let a=t.previousSibling;for(;a&&Yb(a,-1);)i=t.parentNode,s=Xi(a),a=a.previousSibling;if(a)t=a,r=G_(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?bD(n,t,r):i&&bD(n,i,s)}function kge(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=G_(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(Yb(a,1))s=t,o=++r;else break}else{if(d$(t))break;{let a=t.nextSibling;for(;a&&Yb(a,1);)s=a.parentNode,o=Xi(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=G_(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&bD(n,s,o)}function d$(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Mge(n,e){for(;n&&e==n.childNodes.length&&!v1(n);)e=Xi(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Dge(n,e){for(;n&&!e&&!v1(n);)e=Xi(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function bD(n,e,t){if(e.nodeType!=3){let s,o;(o=Mge(e,t))?(e=o,t=0):(s=Dge(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(kC(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&zu(n)},50)}function a3(n,e){let t=n.state.doc.resolve(e);if(!(Cs||Zme)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function l3(n,e,t){let r=n.state.selection;if(r instanceof at&&!r.empty||t.indexOf("s")>-1||Ta&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=vD(n.state,e);if(o&&o instanceof Qe)return td(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Qo?gt.near(o,e):gt.findFrom(o,e);return a?td(n,a):!1}return!1}function c3(n,e){if(!(n.state.selection instanceof at))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function u3(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Ige(n){if(!Ws||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;u3(n,r,"true"),setTimeout(()=>u3(n,r,"false"),20)}return!1}function Oge(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Nge(n,e){let t=e.keyCode,r=Oge(e);if(t==8||Ta&&t==72&&r=="c")return c3(n,-1)||Qg(n,-1);if(t==46&&!e.shiftKey||Ta&&t==68&&r=="c")return c3(n,1)||Qg(n,1);if(t==13||t==27)return!0;if(t==37||Ta&&t==66&&r=="c"){let i=t==37?a3(n,n.state.selection.from)=="ltr"?-1:1:-1;return o3(n,i,r)||Qg(n,i)}else if(t==39||Ta&&t==70&&r=="c"){let i=t==39?a3(n,n.state.selection.from)=="ltr"?1:-1:1;return o3(n,i,r)||Qg(n,i)}else{if(t==38||Ta&&t==80&&r=="c")return l3(n,-1,r)||Qg(n,-1);if(t==40||Ta&&t==78&&r=="c")return Ige(n)||l3(n,1,r)||Qg(n,1);if(r==(Ta?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function A2(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let o=n.someProp("clipboardSerializer")||gm.fromSchema(n.state.schema),a=y$(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let f=c.firstChild,d,m=0;for(;f&&f.nodeType==1&&(d=g$[f.nodeName.toLowerCase()]);){for(let b=d.length-1;b>=0;b--){let x=a.createElement(d[b]);for(;c.firstChild;)x.appendChild(c.firstChild);c.appendChild(x),m++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let g=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function R2(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let c=e&&(r||s||!t);if(c){if(n.someProp("transformPastedText",g=>{e=g(e,s||r,n)}),s)return e?new Ue(Oe.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Ue.empty;let m=n.someProp("clipboardTextParser",g=>g(e,i,r,n));if(m)a=m;else{let g=i.marks(),{schema:b}=n.state,x=gm.fromSchema(b);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(_=>{let C=o.appendChild(document.createElement("p"));_&&C.appendChild(x.serializeNode(b.text(_,g)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),o=Bge(t),b1&&zge(o);let f=o&&o.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let m=+d[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Cd.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!Pge.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)a=jge(f3(a,+d[1],+d[2]),d[4]);else if(a=Ue.maxOpen(Lge(a.content,i),!0),a.openStart||a.openEnd){let m=0,g=0;for(let b=a.content.firstChild;m<a.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=a.content.lastChild;g<a.openEnd&&!b.type.spec.isolating;g++,b=b.lastChild);a=f3(a,m,g)}return n.someProp("transformPasted",m=>{a=m(a,n)}),a}const Pge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Lge(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),f;if(!c)return o=null;if(f=o.length&&s.length&&p$(c,s,a,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=m$(o[o.length-1],s.length));let d=h$(a,c);o.push(d),i=i.matchType(d.type),s=c}}),o)return Oe.from(o)}return n}function h$(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Oe.from(n));return n}function p$(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=p$(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(Oe.from(h$(t,n,i+1))))}}function m$(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,m$(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Oe.empty,!0);return n.copy(t.append(r))}function wD(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=wD(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Oe.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function f3(n,e,t){return e<n.openStart&&(n=new Ue(wD(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Ue(wD(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const g$={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let d3=null;function y$(){return d3||(d3=document.implementation.createHTMLDocument("title"))}let hk=null;function Vge(n){let e=window.trustedTypes;return e?(hk||(hk=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),hk.createHTML(n)):n}function Bge(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=y$().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&g$[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=Vge(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function zge(n){let e=n.querySelectorAll(Cs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function jge(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let c=t.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=Oe.from(c.create(r[a+1],i)),s++,o++}return new Ue(i,s,o)}const Gs={},Ks={},Uge={touchstart:!0,touchmove:!0};class Fge{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Hge(n){for(let e in Gs){let t=Gs[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{qge(n,r)&&!k2(n,r)&&(n.editable||!(r.type in Ks))&&t(n,r)},Uge[e]?{passive:!0}:void 0)}Ws&&n.dom.addEventListener("input",()=>null),xD(n)}function yd(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function $ge(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function xD(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>k2(n,r))})}function k2(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function qge(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Wge(n,e){!k2(n,e)&&Gs[e.type]&&(n.editable||!(e.type in Ks))&&Gs[e.type](n,e)}Ks.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!b$(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Nu&&Cs&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Jy&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,_p(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||Nge(n,t)?t.preventDefault():yd(n,"key")};Ks.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ks.keypress=(n,e)=>{let t=e;if(b$(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ta&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof at)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function DC(n){return{left:n.clientX,top:n.clientY}}function Gge(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function M2(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function My(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function Kge(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Qe.isSelectable(r)?(My(n,new Qe(t)),!0):!1}function Yge(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Qe&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Qe.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(My(n,Qe.create(n.state.doc,i)),!0):!1}function Xge(n,e,t,r,i){return M2(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?Yge(n,t):Kge(n,t))}function Qge(n,e,t,r){return M2(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Jge(n,e,t,r){return M2(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Zge(n,t,r)}function Zge(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(My(n,at.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)My(n,at.create(r,a+1,a+1+o.content.size));else if(Qe.isSelectable(o))My(n,Qe.create(r,a));else continue;return!0}}function D2(n){return Ow(n)}const v$=Ta?"metaKey":"ctrlKey";Gs.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=D2(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&Gge(t,n.input.lastClick)&&!t[v$]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(DC(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new eye(n,o,t,!!r)):(s=="doubleClick"?Qge:Jge)(n,o.pos,o.inside,t)?t.preventDefault():yd(n,"pointer"))};class eye{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[v$],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let d=e.state.doc.resolve(t.pos);s=d.parent,o=d.depth?d.before():0}const a=i?null:r.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof Qe&&f.from<=o&&f.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Sl&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),yd(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zu(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(DC(e))),this.updateAllowDefault(e),this.allowDefault||!t?yd(this.view,"pointer"):Xge(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ws&&this.mightDrag&&!this.mightDrag.node.isAtom||Cs&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(My(this.view,gt.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):yd(this.view,"pointer")}move(e){this.updateAllowDefault(e),yd(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Gs.touchstart=n=>{n.input.lastTouch=Date.now(),D2(n),yd(n,"pointer")};Gs.touchmove=n=>{n.input.lastTouch=Date.now(),yd(n,"pointer")};Gs.contextmenu=n=>D2(n);function b$(n,e){return n.composing?!0:Ws&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const tye=Nu?5e3:-1;Ks.compositionstart=Ks.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof at&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Ow(n,!0),n.markCursor=null;else if(Ow(n,!e.selection.empty),Sl&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}w$(n,tye)};Ks.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,w$(n,20))};function w$(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Ow(n),e))}function x$(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=rye());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function nye(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=Kme(e.focusNode,e.focusOffset),r=Yme(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function rye(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ow(n,e=!1){if(!(Nu&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),x$(n),e||n.docView&&n.docView.dirty){let t=T2(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function iye(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Nw=wo&&Ad<15||Jy&&ege<604;Gs.copy=Ks.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=Nw?null:t.clipboardData,o=r.content(),{dom:a,text:c}=A2(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",c)):iye(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sye(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function oye(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Pw(n,r.value,null,i,e):Pw(n,r.textContent,r.innerHTML,i,e)},50)}function Pw(n,e,t,r,i){let s=R2(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,s||Ue.empty)))return!0;if(!s)return!1;let o=sye(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function S$(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Ks.paste=(n,e)=>{let t=e;if(n.composing&&!Nu)return;let r=Nw?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Pw(n,S$(r),r.getData("text/html"),i,t)?t.preventDefault():oye(n,t)};class E${constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const aye=Ta?"altKey":"ctrlKey";function _$(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[aye]}Gs.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(DC(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Qe?i.to-1:i.to))){if(r&&r.mightDrag)o=Qe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(o=Qe.create(n.state.doc,m.posBefore))}}let a=(o||n.state.selection).content(),{dom:c,text:f,slice:d}=A2(n,a);(!t.dataTransfer.files.length||!Cs||QH>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Nw?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",Nw||t.dataTransfer.setData("text/plain",f),n.dragging=new E$(d,_$(n,t),o)};Gs.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ks.dragover=Ks.dragenter=(n,e)=>e.preventDefault();Ks.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(DC(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",x=>{o=x(o,n)}):o=R2(n,S$(t.dataTransfer),Nw?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&_$(n,t));if(n.someProp("handleDrop",x=>x(n,t,o||Ue.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let c=o?FH(n.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let f=n.state.tr;if(a){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let d=f.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=f.doc;if(m?f.replaceRangeWith(d,d,o.content.firstChild):f.replaceRange(d,d,o),f.doc.eq(g))return;let b=f.doc.resolve(d);if(m&&Qe.isSelectable(o.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new Qe(b));else{let x=f.mapping.map(c);f.mapping.maps[f.mapping.maps.length-1].forEach((_,C,k,N)=>x=N),f.setSelection(C2(n,b,f.doc.resolve(x)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};Gs.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&zu(n)},20))};Gs.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Gs.beforeinput=(n,e)=>{if(Cs&&Nu&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,_p(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Ks)Gs[n]=Ks[n];function Lw(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class K_{constructor(e,t){this.toDOM=e,this.spec=t||Hp,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Ii(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof K_&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Lw(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class kd{constructor(e,t){this.attrs=e,this.spec=t||Hp}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Ii(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof kd&&Lw(this.attrs,e.attrs)&&Lw(this.spec,e.spec)}static is(e){return e.type instanceof kd}destroy(){}}class I2{constructor(e,t){this.attrs=e,this.spec=t||Hp}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Ii(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof I2&&Lw(this.attrs,e.attrs)&&Lw(this.spec,e.spec)}destroy(){}}class Ii{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Ii(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Ii(e,e,new K_(t,r))}static inline(e,t,r,i){return new Ii(e,t,new kd(r,i))}static node(e,t,r,i){return new Ii(e,t,new I2(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof kd}get widget(){return this.type instanceof K_}}const sy=[],Hp={};class pr{constructor(e,t){this.local=e.length?e:sy,this.children=t.length?t:sy}static create(e,t){return t.length?Y_(t,e,0,Hp):Ss}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==Ss||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Hp)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,r,i);c&&c.type.valid(t,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?lye(this.children,o||[],e,t,r,i,s):o?new pr(o.sort($p),sy):Ss}add(e,t){return t.length?this==Ss?pr.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,c)=>{let f=c+r,d;if(d=C$(t,a,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(a,d,f+1):i.splice(s,0,c,c+a.nodeSize,Y_(d,a,f+1,Hp)),s+=3}});let o=T$(s?A$(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new pr(o.length?this.local.concat(o).sort($p):this.local,i||this.children)}remove(e){return e.length==0||this==Ss?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,c=r[s+1]+t;for(let d=0,m;d<e.length;d++)(m=e[d])&&m.from>a&&m.to<c&&(e[d]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(o,a+1);f!=Ss?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new pr(i,r):Ss}forChild(e,t){if(this==Ss)return this;if(t.isLeaf)return pr.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>s&&c.type instanceof kd){let f=Math.max(s,c.from)-s,d=Math.min(o,c.to)-s;f<d&&(i||(i=[])).push(c.copy(f,d))}}if(i){let a=new pr(i.sort($p),sy);return r?new ld([a,r]):a}return r||Ss}eq(e){if(this==e)return!0;if(!(e instanceof pr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return O2(this.localsInner(e))}localsInner(e){if(this==Ss)return sy;if(e.inlineContent||!this.local.some(kd.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof kd||t.push(this.local[r]);return t}forEachSet(e){e(this)}}pr.empty=new pr([],[]);pr.removeOverlap=O2;const Ss=pr.empty;class ld{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Hp));return ld.from(r)}forChild(e,t){if(t.isLeaf)return pr.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=Ss&&(s instanceof ld?r=r.concat(s.members):r.push(s))}return ld.from(r)}eq(e){if(!(e instanceof ld)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?O2(r?t:t.sort($p)):sy}static from(e){switch(e.length){case 0:return Ss;case 1:return e[0];default:return new ld(e.every(t=>t instanceof pr)?e:e.reduce((t,r)=>t.concat(r instanceof pr?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function lye(n,e,t,r,i,s,o){let a=n.slice();for(let f=0,d=s;f<t.maps.length;f++){let m=0;t.maps[f].forEach((g,b,x,_)=>{let C=_-x-(b-g);for(let k=0;k<a.length;k+=3){let N=a[k+1];if(N<0||g>N+d-m)continue;let z=a[k]+d-m;b>=z?a[k+1]=g<=z?-2:-1:g>=d&&C&&(a[k]+=C,a[k+1]+=C)}m+=C}),d=t.maps[f].map(d,-1)}let c=!1;for(let f=0;f<a.length;f+=3)if(a[f+1]<0){if(a[f+1]==-2){c=!0,a[f+1]=-1;continue}let d=t.map(n[f]+s),m=d-i;if(m<0||m>=r.content.size){c=!0;continue}let g=t.map(n[f+1]+s,-1),b=g-i,{index:x,offset:_}=r.content.findIndex(m),C=r.maybeChild(x);if(C&&_==m&&_+C.nodeSize==b){let k=a[f+2].mapInner(t,C,d+1,n[f]+s+1,o);k!=Ss?(a[f]=m,a[f+1]=b,a[f+2]=k):(a[f+1]=-2,c=!0)}else c=!0}if(c){let f=cye(a,n,e,t,i,s,o),d=Y_(f,r,0,o);e=d.local;for(let m=0;m<a.length;m+=3)a[m+1]<0&&(a.splice(m,3),m-=3);for(let m=0,g=0;m<d.children.length;m+=3){let b=d.children[m];for(;g<a.length&&a[g]<b;)g+=3;a.splice(g,0,d.children[m],d.children[m+1],d.children[m+2])}}return new pr(e.sort($p),a)}function T$(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Ii(i.from+e,i.to+e,i.type))}return t}function cye(n,e,t,r,i,s,o){function a(c,f){for(let d=0;d<c.local.length;d++){let m=c.local[d].map(r,i,f);m?t.push(m):o.onRemove&&o.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)a(c.children[d+2],c.children[d]+f+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&a(n[c+2],e[c]+s+1);return t}function C$(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function A$(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Y_(n,e,t,r){let i=[],s=!1;e.forEach((a,c)=>{let f=C$(n,a,c+t);if(f){s=!0;let d=Y_(f,a,t+c+1,r);d!=Ss&&i.push(c,c+a.nodeSize,d)}});let o=T$(s?A$(n):n,-t).sort($p);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new pr(o,i):Ss}function $p(n,e){return n.from-e.from||n.to-e.to}function O2(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),h3(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),h3(e,i,r.copy(s.from,r.to)));break}}}return e}function h3(n,e,t){for(;e<n.length&&$p(t,n[e])>0;)e++;n.splice(e,0,t)}function pk(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Ss&&e.push(r)}),n.cursorWrapper&&e.push(pr.create(n.state.doc,[n.cursorWrapper.deco])),ld.from(e)}const uye={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fye=wo&&Ad<=11;class dye{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class hye{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new dye,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);wo&&Ad<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),fye&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,uye)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(s3(this.view)){if(this.suppressingSelectionUpdates)return zu(this.view);if(wo&&Ad<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&sm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Qy(s))t.add(s);for(let s=e.anchorNode;s;s=Qy(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&s3(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,c=[];if(e.editable)for(let d=0;d<t.length;d++){let m=this.registerMutation(t[d],c);m&&(s=s<0?m.from:Math.min(m.from,s),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(a=!0))}if(Sl&&c.length){let d=c.filter(m=>m.nodeName=="BR");if(d.length==2){let[m,g]=d;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of d){let b=g.parentNode;b&&b.nodeName=="LI"&&(!m||gye(e,m)!=b)&&g.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&kC(r)&&(f=T2(e))&&f.eq(gt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,zu(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),pye(e)),this.handleDOMChange(s,o,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||zu(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let m=e.addedNodes[d];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(wo&&Ad<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:m,nextSibling:g}=e.addedNodes[d];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let o=i&&i.parentNode==e.target?Xi(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?Xi(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,c,1);return{from:a,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let p3=new WeakMap,m3=!1;function pye(n){if(!p3.has(n)&&(p3.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Sl,m3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),m3=!0}}function g3(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return sm(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function mye(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return g3(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?g3(n,t):null}function gye(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function yye(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),c=n.domSelectionRange(),f,d=c.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:c.anchorOffset}],kC(c)||f.push({node:c.focusNode,offset:c.focusOffset})),Cs&&n.input.lastKeyCode===8)for(let C=s;C>i;C--){let k=r.childNodes[C-1],N=k.pmViewDesc;if(k.nodeName=="BR"&&!N){s=C;break}if(!N||N.size)break}let m=n.state.doc,g=n.someProp("domParser")||Cd.fromSchema(n.state.schema),b=m.resolve(o),x=null,_=g.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:s,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:vye,context:b});if(f&&f[0].pos!=null){let C=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=C),x={anchor:C+o,head:k+o}}return{doc:_,sel:x,from:o,to:a}}function vye(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Ws&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Ws&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const bye=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function wye(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let D=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,V=T2(n,D);if(V&&!n.state.selection.eq(V)){if(Cs&&Nu&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",W=>W(n,_p(13,"Enter"))))return;let F=n.state.tr.setSelection(V);D=="pointer"?F.setMeta("pointer",!0):D=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),n.dispatch(F)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let c=n.state.selection,f=yye(n,e,t),d=n.state.doc,m=d.slice(f.from,f.to),g,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(g=n.state.selection.to,b="end"):(g=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let x=Eye(m.content,f.doc.content,f.from,g,b);if(x&&n.input.domChangeCount++,(Jy&&n.input.lastIOSEnter>Date.now()-225||Nu)&&i.some(D=>D.nodeType==1&&!bye.test(D.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",D=>D(n,_p(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&c instanceof at&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let D=y3(n,n.state.doc,f.sel);if(D&&!D.eq(n.state.selection)){let V=n.state.tr.setSelection(D);s&&V.setMeta("composition",s),n.dispatch(V)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof at&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),wo&&Ad<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let _=f.doc.resolveNoCache(x.start-f.from),C=f.doc.resolveNoCache(x.endB-f.from),k=d.resolve(x.start),N=_.sameParent(C)&&_.parent.inlineContent&&k.end()>=x.endA,z;if((Jy&&n.input.lastIOSEnter>Date.now()-225&&(!N||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!N&&_.pos<f.doc.content.size&&(!_.sameParent(C)||!_.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(_.pos,C.pos,"",""))&&(z=gt.findFrom(f.doc.resolve(_.pos+1),1,!0))&&z.head>_.pos)&&n.someProp("handleKeyDown",D=>D(n,_p(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&Sye(d,x.start,x.endA,_,C)&&n.someProp("handleKeyDown",D=>D(n,_p(8,"Backspace")))){Nu&&Cs&&n.domObserver.suppressSelectionUpdates();return}Cs&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),Nu&&!N&&_.start()!=C.start()&&C.parentOffset==0&&_.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,C=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(D){return D(n,_p(13,"Enter"))})},20));let P=x.start,H=x.endA,U=D=>{let V=D||n.state.tr.replace(P,H,f.doc.slice(x.start-f.from,x.endB-f.from));if(f.sel){let F=y3(n,V.doc,f.sel);F&&!(Cs&&n.composing&&F.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(F.head==P||F.head==V.mapping.map(H)-1)||wo&&F.empty&&F.head==P)&&V.setSelection(F)}return s&&V.setMeta("composition",s),V.scrollIntoView()},O;if(N){if(_.pos==C.pos){wo&&Ad<=11&&_.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>zu(n),20));let D=U(n.state.tr.delete(P,H)),V=d.resolve(x.start).marksAcross(d.resolve(x.endA));V&&D.ensureMarks(V),n.dispatch(D)}else if(x.endA==x.endB&&(O=xye(_.parent.content.cut(_.parentOffset,C.parentOffset),k.parent.content.cut(k.parentOffset,x.endA-k.start())))){let D=U(n.state.tr);O.type=="add"?D.addMark(P,H,O.mark):D.removeMark(P,H,O.mark),n.dispatch(D)}else if(_.parent.child(_.index()).isText&&_.index()==C.index()-(C.textOffset?0:1)){let D=_.parent.textBetween(_.parentOffset,C.parentOffset),V=()=>U(n.state.tr.insertText(D,P,H));n.someProp("handleTextInput",F=>F(n,P,H,D,V))||n.dispatch(V())}}else n.dispatch(U())}function y3(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:C2(n,e.resolve(t.anchor),e.resolve(t.head))}function xye(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<t.length;d++)s=t[d].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",c=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",c=d=>d.mark(a.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(c(e.child(d)));if(Oe.from(f).eq(n))return{mark:a,type:o}}function Sye(n,e,t,r,i){if(t-e<=i.pos-r.pos||mk(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(mk(s,!0,!0));return!o.parent.isTextblock||o.pos>t||mk(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function mk(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Eye(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,a));r-=o+c-s}if(o<s&&n.size<e.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<e.size&&v3(e.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}else if(a<s){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<n.size&&v3(n.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function v3(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}const _ye=R2,Tye=Ow;class N2{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Fge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(E3),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=x3(this),w3(this),this.nodeViews=S3(this),this.docView=Z4(this.state.doc,b3(this),pk(this),this.dom,this),this.domObserver=new hye(this,(r,i,s,o)=>wye(this,r,i,s,o)),this.domObserver.start(),Hge(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&xD(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(E3),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(x$(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=S3(this);Aye(b,this.nodeViews)&&(this.nodeViews=b,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&xD(this),this.editable=x3(this),w3(this);let c=pk(this),f=b3(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,f,c);(m||!e.selection.eq(i.selection))&&(o=!0);let g=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&rge(this);if(o){this.domObserver.stop();let b=m&&(wo||Cs)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Cye(i.selection,e.selection);if(m){let x=Cs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=nye(this)),(s||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Z4(e.doc,f,c,this.dom,this)),x&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Age(this))?zu(this,b):(u$(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():g&&ige(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Qe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&G4(this,t.getBoundingClientRect(),e)}else G4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new E$(e.slice,e.move,i<0?void 0:Qe.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(wo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&sge(this.dom),zu(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return uge(this,e)}coordsAtPos(e,t=1){return n$(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return mge(this,t||this.state,e)}pasteHTML(e,t){return Pw(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Pw(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return A2(this,e)}destroy(){this.docView&&($ge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pk(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Wme())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Wge(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ws&&this.root.nodeType===11&&Qme(this.dom.ownerDocument)==this.dom&&mye(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}N2.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function b3(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Ii.node(0,n.state.doc.content.size,e)]}function w3(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Ii.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function x3(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Cye(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function S3(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Aye(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function E3(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const Rye=Object.freeze(Object.defineProperty({__proto__:null,Decoration:Ii,DecorationSet:pr,EditorView:N2,__endComposition:Tye,__parseFromClipboard:_ye},Symbol.toStringTag,{value:"Module"}));var Ud={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},X_={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kye=typeof navigator<"u"&&/Mac/.test(navigator.platform),Mye=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qi=0;Qi<10;Qi++)Ud[48+Qi]=Ud[96+Qi]=String(Qi);for(var Qi=1;Qi<=24;Qi++)Ud[Qi+111]="F"+Qi;for(var Qi=65;Qi<=90;Qi++)Ud[Qi]=String.fromCharCode(Qi+32),X_[Qi]=String.fromCharCode(Qi);for(var gk in Ud)X_.hasOwnProperty(gk)||(X_[gk]=Ud[gk]);function Dye(n){var e=kye&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Mye&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?X_:Ud)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Iye=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Oye=typeof navigator<"u"&&/Win/.test(navigator.platform);function Nye(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Iye?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Pye(n){let e=Object.create(null);for(let t in n)e[Nye(t)]=n[t];return e}function yk(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Lye(n){return new xr({props:{handleKeyDown:P2(n)}})}function P2(n){let e=Pye(n);return function(t,r){let i=Dye(r),s,o=e[yk(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[yk(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Oye&&r.ctrlKey&&r.altKey)&&(s=Ud[r.keyCode])&&s!=i){let a=e[yk(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const L2=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function R$(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const k$=(n,e,t)=>{let r=R$(n,t);if(!r)return!1;let i=V2(r);if(!i){let o=r.blockRange(),a=o&&Cv(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(B$(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Zy(s,"end")||Qe.isSelectable(s)))for(let o=r.depth;;o--){let a=AC(n.doc,r.before(o),r.after(o),Ue.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Zy(s,"end")?gt.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Qe.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Vye=(n,e,t)=>{let r=R$(n,t);if(!r)return!1;let i=V2(r);return i?M$(n,i,e):!1},Bye=(n,e,t)=>{let r=I$(n,t);if(!r)return!1;let i=B2(r);return i?M$(n,i,e):!1};function M$(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,a=o,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let f=AC(n.doc,s,c,Ue.empty);if(!f||f.from!=s||f instanceof Di&&f.slice.size>=c-s)return!1;if(t){let d=n.tr.step(f);d.setSelection(at.create(d.doc,s)),t(d.scrollIntoView())}return!0}function Zy(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const D$=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=V2(r)}let o=s&&s.nodeBefore;return!o||!Qe.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Qe.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function V2(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function I$(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const O$=(n,e,t)=>{let r=I$(n,t);if(!r)return!1;let i=B2(r);if(!i)return!1;let s=i.nodeAfter;if(B$(n,i,e,1))return!0;if(r.parent.content.size==0&&(Zy(s,"start")||Qe.isSelectable(s))){let o=AC(n.doc,r.before(),r.after(),Ue.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(Zy(s,"start")?gt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Qe.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},N$=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=B2(r)}let o=s&&s.nodeAfter;return!o||!Qe.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Qe.create(n.doc,s.pos)).scrollIntoView()),!0)};function B2(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const zye=(n,e)=>{let t=n.selection,r=t instanceof Qe,i;if(r){if(t.node.isTextblock||!Gd(n.doc,t.from))return!1;i=t.from}else if(i=CC(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Qe.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},jye=(n,e)=>{let t=n.selection,r;if(t instanceof Qe){if(t.node.isTextblock||!Gd(n.doc,t.to))return!1;r=t.to}else if(r=CC(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Uye=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&Cv(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},P$=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function z2(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Fye=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=z2(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),c=n.tr.replaceWith(a,a,o.createAndFill());c.setSelection(gt.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},L$=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Qo||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=z2(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(at.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},V$=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Bu(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Cv(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function Hye(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Qe&&e.selection.node.isBlock)return!r.parentOffset||!Bu(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,c=!1,f=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){c=r.end(b)==r.pos+(r.depth-b),f=r.start(b)==r.pos-(r.depth-b),a=z2(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),s.unshift(c&&a?{type:a}:null),o=b;break}else{if(b==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof at||e.selection instanceof Qo)&&d.deleteSelection();let m=d.mapping.map(r.pos),g=Bu(d.doc,m,s.length,s);if(g||(s[0]=a?{type:a}:null,g=Bu(d.doc,m,s.length,s)),!g)return!1;if(d.split(m,s.length,s),!c&&f&&r.node(o).type!=a){let b=d.mapping.map(r.before(o)),x=d.doc.resolve(b);a&&r.node(o-1).canReplaceWith(x.index(),x.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(o)),a)}return t&&t(d.scrollIntoView()),!0}}const $ye=Hye(),qye=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Qe.create(n.doc,i))),!0)};function Wye(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Gd(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function B$(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&Wye(n,e,t))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let b=e.pos+s.nodeSize,x=Oe.empty;for(let k=o.length-1;k>=0;k--)x=Oe.from(o[k].create(null,x));x=Oe.from(i.copy(x));let _=n.tr.step(new Oi(e.pos-1,b,e.pos,b,new Ue(x,1,0),o.length,!0)),C=_.doc.resolve(b+2*o.length);C.nodeAfter&&C.nodeAfter.type==i.type&&Gd(_.doc,C.pos)&&_.join(C.pos),t(_.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&c?null:gt.findFrom(e,1),m=d&&d.$from.blockRange(d.$to),g=m&&Cv(m);if(g!=null&&g>=e.depth)return t&&t(n.tr.lift(m,g).scrollIntoView()),!0;if(f&&Zy(s,"start",!0)&&Zy(i,"end")){let b=i,x=[];for(;x.push(b),!b.isTextblock;)b=b.lastChild;let _=s,C=1;for(;!_.isTextblock;_=_.firstChild)C++;if(b.canReplace(b.childCount,b.childCount,_.content)){if(t){let k=Oe.empty;for(let z=x.length-1;z>=0;z--)k=Oe.from(x[z].copy(k));let N=n.tr.step(new Oi(e.pos-x.length,e.pos+s.nodeSize,e.pos+C,e.pos+s.nodeSize-C,new Ue(k,x.length,0),0,!0));t(N.scrollIntoView())}return!0}}return!1}function z$(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(at.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const Gye=z$(-1),Kye=z$(1);function Yye(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&x2(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function _3(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(c,f)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)i=!0;else{let d=t.doc.resolve(f),m=d.index();i=d.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[o];s.setBlockType(a,c,n,e)}r(s.scrollIntoView())}return!0}}function j2(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}j2(L2,k$,D$);j2(L2,O$,N$);j2(P$,L$,V$,$ye);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Xye(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let a=r?t.tr:null;return Qye(a,o,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Qye(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new $_(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new $_(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=x2(s,t,r,e);return a?(n&&Jye(n,e,a,i,t),!0):!1}function Jye(n,e,t,r,i){let s=Oe.empty;for(let d=t.length-1;d>=0;d--)s=Oe.from(t[d].type.create(t[d].attrs,s));n.step(new Oi(e.start-(r?2:0),e.end,e.start,e.end,new Ue(s,0,0),t.length,!0));let o=0;for(let d=0;d<t.length;d++)t[d].type==i&&(o=d+1);let a=t.length-o,c=e.start+t.length-(r?2:0),f=e.parent;for(let d=e.startIndex,m=e.endIndex,g=!0;d<m;d++,g=!1)!g&&Bu(n.doc,c,a)&&(n.split(c,a),c+=2*a),c+=f.child(d).nodeSize;return n}function Zye(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?eve(e,t,n,s):tve(e,t,s):!0:!1}}function eve(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Oi(s-1,o,s,o,new Ue(Oe.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new $_(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Cv(r);if(a==null)return!1;i.lift(r,a);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Gd(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function tve(n,e,t){let r=n.tr,i=t.parent;for(let b=t.end,x=t.endIndex-1,_=t.startIndex;x>_;x--)b-=i.child(x).nodeSize,r.delete(b-1,b+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,c=t.endIndex==i.childCount,f=s.node(-1),d=s.index(-1);if(!f.canReplace(d+(a?0:1),d+1,o.content.append(c?Oe.empty:Oe.from(i))))return!1;let m=s.pos,g=m+o.nodeSize;return r.step(new Oi(m-(a?1:0),g+(c?1:0),m+1,g-1,new Ue((a?Oe.empty:Oe.from(i.copy(Oe.empty))).append(c?Oe.empty:Oe.from(i.copy(Oe.empty))),a?0:1,c?0:1),a?0:1)),e(r.scrollIntoView()),!0}function nve(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,c=a.child(o-1);if(c.type!=n)return!1;if(t){let f=c.lastChild&&c.lastChild.type==a.type,d=Oe.from(f?n.create():null),m=new Ue(Oe.from(n.create(null,Oe.from(a.type.create(null,d)))),f?3:1,0),g=s.start,b=s.end;t(e.tr.step(new Oi(g-(f?3:1),b,g,b,m,1,!0)).scrollIntoView())}return!0}}function IC(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class OC{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...d)=>{const m=c(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],c=!!e,f=e||s.tr,d=()=>(!c&&t&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),a.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(r).map(([g,b])=>[g,(..._)=>{const C=this.buildProps(f,t),k=b(..._)(C);return a.push(k),m}])),run:d};return m}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([c,f])=>[c,(...d)=>f(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:IC({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([c,f])=>[c,(...d)=>f(...d)(a)]))}};return a}}class rve{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Xe(n,e,t){return n.config[e]===void 0&&n.parent?Xe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Xe(n.parent,e,t):null}):n.config[e]}function NC(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function j$(n){const e=[],{nodeExtensions:t,markExtensions:r}=NC(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},c=Xe(o,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(m=>{Object.entries(d.attributes).forEach(([g,b])=>{e.push({type:m,name:g,attribute:{...s,...b}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=Xe(o,"addAttributes",a);if(!c)return;const f=c();Object.entries(f).forEach(([d,m])=>{const g={...s,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:d,attribute:g})})}),e}function Pi(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function zn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],f=a.filter(d=>!c.includes(d));r[i]=[...c,...f].join(" ")}else if(i==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],f=new Map;c.forEach(d=>{const[m,g]=d.split(":").map(b=>b.trim());f.set(m,g)}),a.forEach(d=>{const[m,g]=d.split(":").map(b=>b.trim());f.set(m,g)}),r[i]=Array.from(f.entries()).map(([d,m])=>`${d}: ${m}`).join("; ")}else r[i]=s}),r},{})}function SD(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>zn(t,r),{})}function U$(n){return typeof n=="function"}function Wt(n,e=void 0,...t){return U$(n)?e?n.bind(e)(...t):n(...t):n}function ive(n={}){return Object.keys(n).length===0&&n.constructor===Object}function sve(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function T3(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):sve(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function C3(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&ive(t)?!1:t!=null))}function ove(n,e){var t;const r=j$(n),{nodeExtensions:i,markExtensions:s}=NC(n),o=(t=i.find(f=>Xe(f,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(f=>{const d=r.filter(k=>k.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},g=n.reduce((k,N)=>{const z=Xe(N,"extendNodeSchema",m);return{...k,...z?z(f):{}}},{}),b=C3({...g,content:Wt(Xe(f,"content",m)),marks:Wt(Xe(f,"marks",m)),group:Wt(Xe(f,"group",m)),inline:Wt(Xe(f,"inline",m)),atom:Wt(Xe(f,"atom",m)),selectable:Wt(Xe(f,"selectable",m)),draggable:Wt(Xe(f,"draggable",m)),code:Wt(Xe(f,"code",m)),whitespace:Wt(Xe(f,"whitespace",m)),linebreakReplacement:Wt(Xe(f,"linebreakReplacement",m)),defining:Wt(Xe(f,"defining",m)),isolating:Wt(Xe(f,"isolating",m)),attrs:Object.fromEntries(d.map(k=>{var N;return[k.name,{default:(N=k==null?void 0:k.attribute)===null||N===void 0?void 0:N.default}]}))}),x=Wt(Xe(f,"parseHTML",m));x&&(b.parseDOM=x.map(k=>T3(k,d)));const _=Xe(f,"renderHTML",m);_&&(b.toDOM=k=>_({node:k,HTMLAttributes:SD(k,d)}));const C=Xe(f,"renderText",m);return C&&(b.toText=C),[f.name,b]})),c=Object.fromEntries(s.map(f=>{const d=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},g=n.reduce((C,k)=>{const N=Xe(k,"extendMarkSchema",m);return{...C,...N?N(f):{}}},{}),b=C3({...g,inclusive:Wt(Xe(f,"inclusive",m)),excludes:Wt(Xe(f,"excludes",m)),group:Wt(Xe(f,"group",m)),spanning:Wt(Xe(f,"spanning",m)),code:Wt(Xe(f,"code",m)),attrs:Object.fromEntries(d.map(C=>{var k;return[C.name,{default:(k=C==null?void 0:C.attribute)===null||k===void 0?void 0:k.default}]}))}),x=Wt(Xe(f,"parseHTML",m));x&&(b.parseDOM=x.map(C=>T3(C,d)));const _=Xe(f,"renderHTML",m);return _&&(b.toDOM=C=>_({mark:C,HTMLAttributes:SD(C,d)})),[f.name,b]}));return new DH({topNode:o,nodes:a,marks:c})}function vk(n,e){return e.nodes[n]||e.marks[n]||null}function A3(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function U2(n,e){const t=gm.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const ave=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var c,f;const d=((f=(c=i.type.spec).toText)===null||f===void 0?void 0:f.call(c,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),t};function F2(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class PC{constructor(e){this.find=e.find,this.handler=e.handler}}const lve=(n,e)=>{if(F2(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function nE(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:a}=n,{view:c}=t;if(c.composing)return!1;const f=c.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(g=>g.type.spec.code))return!1;let d=!1;const m=ave(f)+s;return o.forEach(g=>{if(d)return;const b=lve(m,g.find);if(!b)return;const x=c.state.tr,_=IC({state:c.state,transaction:x}),C={from:r-(b[0].length-s.length),to:i},{commands:k,chain:N,can:z}=new OC({editor:t,state:_});g.handler({state:_,range:C,match:b,commands:k,chain:N,can:z})===null||!x.steps.length||(x.setMeta(a,{transform:x,from:r,to:i,text:s}),c.dispatch(x),d=!0)}),d}function cve(n){const{editor:e,rules:t}=n,r=new xr({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=U2(Oe.from(d),o.schema);const{from:m}=c,g=m+d.length;nE({editor:e,from:m,to:g,text:d,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return nE({editor:e,from:s,to:o,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&nE({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?nE({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function uve(n){return Object.prototype.toString.call(n).slice(8,-1)}function rE(n){return uve(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function LC(n,e){const t={...n};return rE(n)&&rE(e)&&Object.keys(e).forEach(r=>{rE(e[r])&&rE(n[r])?t[r]=LC(n[r],e[r]):t[r]=e[r]}),t}class _o{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Wt(Xe(this,"addOptions",{name:this.name}))),this.storage=Wt(Xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _o(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>LC(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _o(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Wt(Xe(t,"addOptions",{name:t.name})),t.storage=Wt(Xe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(f=>(f==null?void 0:f.type.name)===t.name))return!1;const c=o.find(f=>(f==null?void 0:f.type.name)===t.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function fve(n){return typeof n=="number"}class dve{constructor(e){this.find=e.find,this.handler=e.handler}}const hve=(n,e,t)=>{if(F2(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function pve(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:c,chain:f,can:d}=new OC({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(b,x)=>{if(!b.isTextblock||b.type.spec.code)return;const _=Math.max(r,x),C=Math.min(i,x+b.content.size),k=b.textBetween(_-x,C-x,void 0,"");hve(k,s.find,o).forEach(z=>{if(z.index===void 0)return;const P=_+z.index+1,H=P+z[0].length,U={from:t.tr.mapping.map(P),to:t.tr.mapping.map(H)},O=s.handler({state:t,range:U,match:z,commands:c,chain:f,can:d,pasteEvent:o,dropEvent:a});m.push(O)})}),m.every(b=>b!==null)}let iE=null;const mve=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function gve(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:d,from:m,to:g,rule:b,pasteEvt:x})=>{const _=d.tr,C=IC({state:d,transaction:_});if(!(!pve({editor:e,state:C,from:Math.max(m-1,0),to:g.b-1,rule:b,pasteEvent:x,dropEvent:a})||!_.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,_}};return t.map(d=>new xr({view(m){const g=x=>{var _;r=!((_=m.dom.parentElement)===null||_===void 0)&&_.contains(x.target)?m.dom.parentElement:null,r&&(iE=e)},b=()=>{iE&&(iE=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(s=r===m.dom.parentElement,a=g,!s){const b=iE;b!=null&&b.isEditable&&setTimeout(()=>{const x=b.state.selection;x&&b.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(m,g)=>{var b;const x=(b=g.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return o=g,i=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,b)=>{const x=m[0],_=x.getMeta("uiEvent")==="paste"&&!i,C=x.getMeta("uiEvent")==="drop"&&!s,k=x.getMeta("applyPasteRules"),N=!!k;if(!_&&!C&&!N)return;if(N){let{text:H}=k;typeof H=="string"?H=H:H=U2(Oe.from(H),b.schema);const{from:U}=k,O=U+H.length,D=mve(H);return c({rule:d,state:b,from:U,to:{b:O},pasteEvt:D})}const z=g.doc.content.findDiffStart(b.doc.content),P=g.doc.content.findDiffEnd(b.doc.content);if(!(!fve(z)||!P||z===P.b))return c({rule:d,state:b,from:z,to:P,pasteEvt:o})}}))}function yve(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class vy{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=vy.resolve(e),this.schema=ove(this.extensions,t),this.setupExtensions()}static resolve(e){const t=vy.sort(vy.flatten(e)),r=yve(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Xe(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Xe(r,"priority")||100,o=Xe(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:vk(t.name,this.schema)},i=Xe(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=vy.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:vk(o.name,this.schema)},c=[],f=Xe(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&Xe(o,"exitable",a)&&(d.ArrowRight=()=>_o.handleExit({editor:e,mark:o})),f){const _=Object.fromEntries(Object.entries(f()).map(([C,k])=>[C,()=>k({editor:e})]));d={...d,..._}}const m=Lye(d);c.push(m);const g=Xe(o,"addInputRules",a);A3(o,e.options.enableInputRules)&&g&&r.push(...g());const b=Xe(o,"addPasteRules",a);A3(o,e.options.enablePasteRules)&&b&&i.push(...b());const x=Xe(o,"addProseMirrorPlugins",a);if(x){const _=x();c.push(..._)}return c}).flat();return[cve({editor:e,rules:r}),...gve({editor:e,rules:i}),...s]}get attributes(){return j$(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=NC(this.extensions);return Object.fromEntries(t.filter(r=>!!Xe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Pi(r.name,this.schema)},o=Xe(r,"addNodeView",s);if(!o)return[];const a=(c,f,d,m,g)=>{const b=SD(c,i);return o()({node:c,view:f,getPos:d,decorations:m,innerDecorations:g,editor:e,extension:r,HTMLAttributes:b})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:vk(e.name,this.schema)};e.type==="mark"&&(!((t=Wt(Xe(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=Xe(e,"onBeforeCreate",r),s=Xe(e,"onCreate",r),o=Xe(e,"onUpdate",r),a=Xe(e,"onSelectionUpdate",r),c=Xe(e,"onTransaction",r),f=Xe(e,"onFocus",r),d=Xe(e,"onBlur",r),m=Xe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),m&&this.editor.on("destroy",m)})}}class Zr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Wt(Xe(this,"addOptions",{name:this.name}))),this.storage=Wt(Xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Zr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>LC(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Zr({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Wt(Xe(t,"addOptions",{name:t.name})),t.storage=Wt(Xe(t,"addStorage",{name:t.name,options:t.options})),t}}function F$(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(r,i,(c,f,d,m)=>{var g;c.isBlock&&f>r&&(a+=s);const b=o==null?void 0:o[c.type.name];if(b)return d&&(a+=b({node:c,pos:f,parent:d,index:m,range:e})),!1;c.isText&&(a+=(g=c==null?void 0:c.text)===null||g===void 0?void 0:g.slice(Math.max(r,f)-f,i-f))}),a}function H$(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const vve=Zr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new xr({key:new ei("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),c=H$(t);return F$(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),bve=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),wve=(n=!1)=>({commands:e})=>e.setContent("",n),xve=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,c)=>{if(a.type.isText)return;const{doc:f,mapping:d}=e,m=f.resolve(d.map(c)),g=f.resolve(d.map(c+a.nodeSize)),b=m.blockRange(g);if(!b)return;const x=Cv(b);if(a.type.isTextblock){const{defaultType:_}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,_)}(x||x===0)&&e.lift(b,x)})}),!0},Sve=n=>e=>n(e),Eve=()=>({state:n,dispatch:e})=>L$(n,e),_ve=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new at(r.doc.resolve(o-1))),!0},Tve=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),c=i.after(s);n.delete(a,c).scrollIntoView()}return!0}return!1},Cve=n=>({tr:e,state:t,dispatch:r})=>{const i=Pi(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const c=s.before(o),f=s.after(o);e.delete(c,f).scrollIntoView()}return!0}return!1},Ave=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},Rve=()=>({state:n,dispatch:e})=>L2(n,e),kve=()=>({commands:n})=>n.keyboardShortcut("Enter"),Mve=()=>({state:n,dispatch:e})=>Fye(n,e);function Q_(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:F2(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function $$(n,e,t={}){return n.find(r=>r.type===e&&Q_(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function R3(n,e,t={}){return!!$$(n,e,t)}function H2(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!$$([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,c=o+1,f=a+i.node.nodeSize;for(;o>0&&R3([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;c<n.parent.childCount&&R3([...n.parent.child(c).marks],e,t);)f+=n.parent.child(c).nodeSize,c+=1;return{from:a,to:f}}function Yd(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const Dve=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=Yd(n,r.schema),{doc:o,selection:a}=t,{$from:c,from:f,to:d}=a;if(i){const m=H2(c,s,e);if(m&&m.from<=f&&m.to>=d){const g=at.create(o,m.from,m.to);t.setSelection(g)}}return!0},Ive=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function $2(n){return n instanceof at}function Pu(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function q$(n,e=null){if(!e)return null;const t=gt.atStart(n),r=gt.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?at.create(n,Pu(0,i,s),Pu(n.content.size,i,s)):at.create(n,Pu(e,i,s),Pu(e,i,s))}function Ove(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function q2(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Nve=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(q2()||Ove())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!$2(t.state.selection))return o(),!0;const a=q$(i.doc,n)||t.state.selection,c=t.state.selection.eq(a);return s&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Pve=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Lve=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),W$=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&W$(r)}return n};function sE(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return W$(t)}function Vw(n,e,t){if(n instanceof Td||n instanceof Oe)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Oe.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Vw("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const c=new DH({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(o=!0,a=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?Cd.fromSchema(c).parseSlice(sE(n),t.parseOptions):Cd.fromSchema(c).parse(sE(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Cd.fromSchema(e);return t.slice?s.parseSlice(sE(n),t.parseOptions).content:s.parse(sE(n),t.parseOptions)}return Vw("",e,t)}function Vve(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Di||i instanceof Oi))return;const s=n.mapping.maps[r];let o=0;s.forEach((a,c,f,d)=>{o===0&&(o=d)}),n.setSelection(gt.near(n.doc.resolve(o),t))}const Bve=n=>!("type"in n),zve=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const c=C=>{s.emit("contentError",{editor:s,error:C,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Vw(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){c(C)}try{a=Vw(e,s.schema,{parseOptions:f,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(C){return c(C),!1}let{from:d,to:m}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},g=!0,b=!0;if((Bve(a)?a:[a]).forEach(C=>{C.check(),g=g?C.isText&&C.marks.length===0:!1,b=b?C.isBlock:!1}),d===m&&b){const{parent:C}=r.doc.resolve(d);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(d-=1,m+=1)}let _;if(g){if(Array.isArray(e))_=e.map(C=>C.text||"").join("");else if(e instanceof Oe){let C="";e.forEach(k=>{k.text&&(C+=k.text)}),_=C}else typeof e=="object"&&e&&e.text?_=e.text:_=e;r.insertText(_,d,m)}else _=a,r.replaceWith(d,m,_);t.updateSelection&&Vve(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:_}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:_})}return!0},jve=()=>({state:n,dispatch:e})=>zye(n,e),Uve=()=>({state:n,dispatch:e})=>jye(n,e),Fve=()=>({state:n,dispatch:e})=>k$(n,e),Hve=()=>({state:n,dispatch:e})=>O$(n,e),$ve=()=>({state:n,dispatch:e,tr:t})=>{try{const r=CC(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},qve=()=>({state:n,dispatch:e,tr:t})=>{try{const r=CC(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Wve=()=>({state:n,dispatch:e})=>Vye(n,e),Gve=()=>({state:n,dispatch:e})=>Bye(n,e);function G$(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Kve(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))q2()||G$()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const Yve=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=Kve(n).split(/-(?!$)/),o=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,a))});return c==null||c.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Bw(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?Pi(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(m,g)=>{if(m.isText)return;const b=Math.max(r,g),x=Math.min(i,g+m.nodeSize);a.push({node:m,from:b,to:x})});const c=i-r,f=a.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Q_(m.node.attrs,t,{strict:!1}));return s?!!f.length:f.reduce((m,g)=>m+g.to-g.from,0)>=c}const Xve=(n,e={})=>({state:t,dispatch:r})=>{const i=Pi(n,t.schema);return Bw(t,i,e)?Uye(t,r):!1},Qve=()=>({state:n,dispatch:e})=>V$(n,e),Jve=n=>({state:e,dispatch:t})=>{const r=Pi(n,e.schema);return Zye(r)(e,t)},Zve=()=>({state:n,dispatch:e})=>P$(n,e);function VC(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function k3(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const e0e=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=VC(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=Pi(n,r.schema)),a==="mark"&&(o=Yd(n,r.schema)),i&&t.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,d)=>{s&&s===f.type&&t.setNodeMarkup(d,void 0,k3(f.attrs,e)),o&&f.marks.length&&f.marks.forEach(m=>{o===m.type&&t.addMark(d,d+f.nodeSize,o.create(k3(m.attrs,e)))})})}),!0):!1},t0e=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),n0e=()=>({tr:n,dispatch:e})=>{if(e){const t=new Qo(n.doc);n.setSelection(t)}return!0},r0e=()=>({state:n,dispatch:e})=>D$(n,e),i0e=()=>({state:n,dispatch:e})=>N$(n,e),s0e=()=>({state:n,dispatch:e})=>qye(n,e),o0e=()=>({state:n,dispatch:e})=>Kye(n,e),a0e=()=>({state:n,dispatch:e})=>Gye(n,e);function ED(n,e,t={},r={}){return Vw(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const l0e=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var c,f;const{doc:d}=s;if(t.preserveWhitespace!=="full"){const m=ED(n,i.schema,t,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return o&&s.replaceWith(0,d.content.size,m).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},n,{parseOptions:t,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck})};function K$(n,e){const t=Yd(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{o.push(...c.marks)});const a=o.find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function c0e(n,e){const t=new S2(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function u0e(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function f0e(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function Y$(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function W2(n){return e=>Y$(e.$from,n)}function d0e(n,e){const t={from:0,to:n.content.size};return F$(n,t,e)}function h0e(n,e){const t=Pi(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function X$(n,e){const t=VC(typeof e=="string"?e:e.name,n.schema);return t==="node"?h0e(n,e):t==="mark"?K$(n,e):{}}function p0e(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function m0e(n){const e=p0e(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,o)=>o!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function g0e(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,c)=>{o.push({from:a,to:c})});else{const{from:a,to:c}=t[s];if(a===void 0||c===void 0)return;o.push({from:a,to:c})}o.forEach(({from:a,to:c})=>{const f=e.slice(s).map(a,-1),d=e.slice(s).map(c),m=e.invert().map(f,-1),g=e.invert().map(d);r.push({oldRange:{from:m,to:g},newRange:{from:f,to:d}})})}),m0e(r)}function G2(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=H2(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function WE(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function _D(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?Yd(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Q_(m.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:m,$to:g})=>{const b=m.pos,x=g.pos;n.doc.nodesBetween(b,x,(_,C)=>{if(!_.isText&&!_.marks.length)return;const k=Math.max(b,C),N=Math.min(x,C+_.nodeSize),z=N-k;o+=z,a.push(..._.marks.map(P=>({mark:P,from:k,to:N})))})}),o===0)return!1;const c=a.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Q_(m.mark.attrs,t,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),f=a.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,g)=>m+g.to-g.from,0);return(c>0?c+f:c)>=o}function y0e(n,e,t={}){if(!e)return Bw(n,null,t)||_D(n,null,t);const r=VC(e,n.schema);return r==="node"?Bw(n,e,t):r==="mark"?_D(n,e,t):!1}function M3(n,e){const{nodeExtensions:t}=NC(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Wt(Xe(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function BC(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(BC(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Q$(n){return n instanceof Qe}function v0e(n,e,t){const i=n.state.doc.content.size,s=Pu(e,0,i),o=Pu(t,0,i),a=n.coordsAtPos(s),c=n.coordsAtPos(o,-1),f=Math.min(a.top,c.top),d=Math.max(a.bottom,c.bottom),m=Math.min(a.left,c.left),g=Math.max(a.right,c.right),b=g-m,x=d-f,k={top:f,bottom:d,left:m,right:g,width:b,height:x,x:m,y:f};return{...k,toJSON:()=>k}}function b0e(n,e,t){var r;const{selection:i}=e;let s=null;if($2(i)&&(s=i.$cursor),s){const a=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(a)||!a.some(c=>c.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:a,$to:c})=>{let f=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,c.pos,(d,m,g)=>{if(f)return!1;if(d.isInline){const b=!g||g.type.allowsMarkType(t),x=!!t.isInSet(d.marks)||!d.marks.some(_=>_.type.excludes(t));f=b&&x}return!f}),f})}const w0e=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:a}=s,c=Yd(n,r.schema);if(i)if(o){const f=K$(r,c);t.addStoredMark(c.create({...f,...e}))}else a.forEach(f=>{const d=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(d,m,(g,b)=>{const x=Math.max(b,d),_=Math.min(b+g.nodeSize,m);g.marks.find(k=>k.type===c)?g.marks.forEach(k=>{c===k.type&&t.addMark(x,_,c.create({...k.attrs,...e}))}):t.addMark(x,_,c.create(e))})});return b0e(r,t,c)},x0e=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),S0e=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Pi(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>_3(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>_3(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},E0e=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Pu(n,0,r.content.size),s=Qe.create(r,i);e.setSelection(s)}return!0},_0e=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=at.atStart(r).from,a=at.atEnd(r).to,c=Pu(i,o,a),f=Pu(s,o,a),d=at.create(r,c,f);e.setSelection(d)}return!0},T0e=n=>({state:e,dispatch:t})=>{const r=Pi(n,e.schema);return nve(r)(e,t)};function D3(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const C0e=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:c}=s,f=i.extensionManager.attributes,d=WE(f,a.node().type.name,a.node().attrs);if(s instanceof Qe&&s.node.isBlock)return!a.parentOffset||!Bu(o,a.pos)?!1:(r&&(n&&D3(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,g=a.depth===0?void 0:u0e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let b=m&&g?[{type:g,attrs:d}]:void 0,x=Bu(e.doc,e.mapping.map(a.pos),1,b);if(!b&&!x&&Bu(e.doc,e.mapping.map(a.pos),1,g?[{type:g}]:void 0)&&(x=!0,b=g?[{type:g,attrs:d}]:void 0),r){if(x&&(s instanceof at&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,b),g&&!m&&!a.parentOffset&&a.parent.type!==g)){const _=e.mapping.map(a.before()),C=e.doc.resolve(_);a.node(-1).canReplaceWith(C.index(),C.index()+1,g)&&e.setNodeMarkup(e.mapping.map(a.before()),g)}n&&D3(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},A0e=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const a=Pi(n,r.schema),{$from:c,$to:f}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(f))return!1;const m=c.node(-1);if(m.type!==a)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let k=Oe.empty;const N=c.index(-1)?1:c.index(-2)?2:3;for(let D=c.depth-N;D>=c.depth-3;D-=1)k=Oe.from(c.node(D).copy(k));const z=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,P={...WE(g,c.node().type.name,c.node().attrs),...e},H=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(P))||void 0;k=k.append(Oe.from(a.createAndFill(null,H)||void 0));const U=c.before(c.depth-(N-1));t.replace(U,c.after(-z),new Ue(k,4-N,0));let O=-1;t.doc.nodesBetween(U,t.doc.content.size,(D,V)=>{if(O>-1)return!1;D.isTextblock&&D.content.size===0&&(O=V+1)}),O>-1&&t.setSelection(at.near(t.doc.resolve(O))),t.scrollIntoView()}return!0}const b=f.pos===c.end()?m.contentMatchAt(0).defaultType:null,x={...WE(g,m.type.name,m.attrs),...e},_={...WE(g,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,f.pos);const C=b?[{type:a,attrs:x},{type:b,attrs:_}]:[{type:a,attrs:x}];if(!Bu(t.doc,c.pos,2))return!1;if(i){const{selection:k,storedMarks:N}=r,{splittableMarks:z}=s.extensionManager,P=N||k.$to.parentOffset&&k.$from.marks();if(t.split(c.pos,2,C).scrollIntoView(),!P||!i)return!0;const H=P.filter(U=>z.includes(U.type.name));t.ensureMarks(H)}return!0},bk=(n,e)=>{const t=W2(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Gd(n.doc,t.pos)&&n.join(t.pos),!0},wk=(n,e)=>{const t=W2(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Gd(n.doc,r)&&n.join(r),!0},R0e=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:c,commands:f,can:d})=>{const{extensions:m,splittableMarks:g}=i.extensionManager,b=Pi(n,o.schema),x=Pi(e,o.schema),{selection:_,storedMarks:C}=o,{$from:k,$to:N}=_,z=k.blockRange(N),P=C||_.$to.parentOffset&&_.$from.marks();if(!z)return!1;const H=W2(U=>M3(U.type.name,m))(_);if(z.depth>=1&&H&&z.depth-H.depth<=1){if(H.node.type===b)return f.liftListItem(x);if(M3(H.node.type.name,m)&&b.validContent(H.node.content)&&a)return c().command(()=>(s.setNodeMarkup(H.pos,b),!0)).command(()=>bk(s,b)).command(()=>wk(s,b)).run()}return!t||!P||!a?c().command(()=>d().wrapInList(b,r)?!0:f.clearNodes()).wrapInList(b,r).command(()=>bk(s,b)).command(()=>wk(s,b)).run():c().command(()=>{const U=d().wrapInList(b,r),O=P.filter(D=>g.includes(D.type.name));return s.ensureMarks(O),U?!0:f.clearNodes()}).wrapInList(b,r).command(()=>bk(s,b)).command(()=>wk(s,b)).run()},k0e=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=Yd(n,r.schema);return _D(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},M0e=(n,e,t={})=>({state:r,commands:i})=>{const s=Pi(n,r.schema),o=Pi(e,r.schema),a=Bw(r,s,t);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),a?i.setNode(o,c):i.setNode(s,{...c,...t})},D0e=(n,e={})=>({state:t,commands:r})=>{const i=Pi(n,t.schema);return Bw(t,i,e)?r.lift(i):r.wrapIn(i,e)},I0e=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,a=s.transform;for(let c=a.steps.length-1;c>=0;c-=1)o.step(a.steps[c].invert(a.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},O0e=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},N0e=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,c=Yd(n,r.schema),{$from:f,empty:d,ranges:m}=a;if(!i)return!0;if(d&&o){let{from:g,to:b}=a;const x=(s=f.marks().find(C=>C.type===c))===null||s===void 0?void 0:s.attrs,_=H2(f,c,x);_&&(g=_.from,b=_.to),t.removeMark(g,b,c)}else m.forEach(g=>{t.removeMark(g.$from.pos,g.$to.pos,c)});return t.removeStoredMark(c),!0},P0e=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=VC(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=Pi(n,r.schema)),a==="mark"&&(o=Yd(n,r.schema)),i&&t.selection.ranges.forEach(c=>{const f=c.$from.pos,d=c.$to.pos;let m,g,b,x;t.selection.empty?r.doc.nodesBetween(f,d,(_,C)=>{s&&s===_.type&&(b=Math.max(C,f),x=Math.min(C+_.nodeSize,d),m=C,g=_)}):r.doc.nodesBetween(f,d,(_,C)=>{C<f&&s&&s===_.type&&(b=Math.max(C,f),x=Math.min(C+_.nodeSize,d),m=C,g=_),C>=f&&C<=d&&(s&&s===_.type&&t.setNodeMarkup(C,void 0,{..._.attrs,...e}),o&&_.marks.length&&_.marks.forEach(k=>{if(o===k.type){const N=Math.max(C,f),z=Math.min(C+_.nodeSize,d);t.addMark(N,z,o.create({...k.attrs,...e}))}}))}),g&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(_=>{o===_.type&&t.addMark(b,x,o.create({..._.attrs,...e}))}))}),!0):!1},L0e=(n,e={})=>({state:t,dispatch:r})=>{const i=Pi(n,t.schema);return Yye(i,e)(t,r)},V0e=(n,e={})=>({state:t,dispatch:r})=>{const i=Pi(n,t.schema);return Xye(i,e)(t,r)};var B0e=Object.freeze({__proto__:null,blur:bve,clearContent:wve,clearNodes:xve,command:Sve,createParagraphNear:Eve,cut:_ve,deleteCurrentNode:Tve,deleteNode:Cve,deleteRange:Ave,deleteSelection:Rve,enter:kve,exitCode:Mve,extendMarkRange:Dve,first:Ive,focus:Nve,forEach:Pve,insertContent:Lve,insertContentAt:zve,joinBackward:Fve,joinDown:Uve,joinForward:Hve,joinItemBackward:$ve,joinItemForward:qve,joinTextblockBackward:Wve,joinTextblockForward:Gve,joinUp:jve,keyboardShortcut:Yve,lift:Xve,liftEmptyBlock:Qve,liftListItem:Jve,newlineInCode:Zve,resetAttributes:e0e,scrollIntoView:t0e,selectAll:n0e,selectNodeBackward:r0e,selectNodeForward:i0e,selectParentNode:s0e,selectTextblockEnd:o0e,selectTextblockStart:a0e,setContent:l0e,setMark:w0e,setMeta:x0e,setNode:S0e,setNodeSelection:E0e,setTextSelection:_0e,sinkListItem:T0e,splitBlock:C0e,splitListItem:A0e,toggleList:R0e,toggleMark:k0e,toggleNode:M0e,toggleWrap:D0e,undoInputRule:I0e,unsetAllMarks:O0e,unsetMark:N0e,updateAttributes:P0e,wrapIn:L0e,wrapInList:V0e});const z0e=Zr.create({name:"commands",addCommands(){return{...B0e}}}),j0e=Zr.create({name:"drop",addProseMirrorPlugins(){return[new xr({key:new ei("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),U0e=Zr.create({name:"editable",addProseMirrorPlugins(){return[new xr({key:new ei("editable"),props:{editable:()=>this.editor.options.editable}})]}}),F0e=new ei("focusEvents"),H0e=Zr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new xr({key:F0e,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),$0e=Zr.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:c,doc:f}=a,{empty:d,$anchor:m}=c,{pos:g,parent:b}=m,x=m.parent.isTextblock&&g>0?a.doc.resolve(g-1):m,_=x.parent.type.spec.isolating,C=m.pos-m.parentOffset,k=_&&x.parent.childCount===1?C===m.pos:gt.atStart(f).from===g;return!d||!b.type.isTextblock||b.textContent.length||!k||k&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return q2()||G$()?s:i},addProseMirrorPlugins(){return[new xr({key:new ei("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(_=>_.getMeta("composition")))return;const r=n.some(_=>_.docChanged)&&!e.doc.eq(t.doc),i=n.some(_=>_.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,c=gt.atStart(e.doc).from,f=gt.atEnd(e.doc).to;if(s||!(o===c&&a===f)||!BC(t.doc))return;const g=t.tr,b=IC({state:t,transaction:g}),{commands:x}=new OC({editor:this.editor,state:b});if(x.clearNodes(),!!g.steps.length)return g}})]}}),q0e=Zr.create({name:"paste",addProseMirrorPlugins(){return[new xr({key:new ei("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),W0e=Zr.create({name:"tabindex",addProseMirrorPlugins(){return[new xr({key:new ei("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Tp{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Tp(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Tp(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Tp(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const c=new Tp(a,this.editor,i,i?t:null);i&&(c.actualDepth=this.depth+1),e.push(new Tp(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const c=o[a];if(s[c]!==t[c])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(c=>t[c]===o.node.attrs[c])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const G0e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function K0e(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let Y0e=class extends rve{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=K0e(G0e,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=U$(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[U0e,vve.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),z0e,H0e,$0e,W0e,j0e,q0e].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new vy(i,this)}createCommandManager(){this.commandManager=new OC({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=ED(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=ED(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=q$(t,this.options.autofocus);this.view=new N2(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:yy.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return X$(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return y0e(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return U2(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return d0e(this.state.doc,{blockSeparator:t,textSerializers:{...H$(this.schema),...r}})}get isEmpty(){return BC(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Tp(t,this)}get $doc(){return this.$pos(0)}};function am(n){return new PC({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Wt(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const c=a.search(/\S/),f=t.from+a.indexOf(o),d=f+o.length;if(G2(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(_=>_===n.type&&_!==b.mark.type)).filter(b=>b.to>f).length)return null;d<t.to&&s.delete(d,t.to),f>t.from&&s.delete(t.from+c,f);const g=t.from+c+o.length;s.addMark(t.from+c,g,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function X0e(n){return new PC({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Wt(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let a=t.to;const c=n.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=o+f;d>a?d=a:a=d+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,o+r[0].length-1),s.replaceWith(d,a,c)}else if(r[0]){const f=n.type.isInline?o:o-1;s.insert(f,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function TD(n){return new PC({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=Wt(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function ev(n){return new PC({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=Wt(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),c=o.doc.resolve(t.from).blockRange(),f=c&&x2(c,n.type,s);if(!f)return null;if(o.wrap(c,f),n.keepMarks&&n.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:b}=n.editor.extensionManager,x=g||m.$to.parentOffset&&m.$from.marks();if(x){const _=x.filter(C=>b.includes(C.type.name));o.ensureMarks(_)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const d=o.doc.resolve(t.from-1).nodeBefore;d&&d.type===n.type&&Gd(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,d))&&o.join(t.from-1)}})}let ns=class CD{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Wt(Xe(this,"addOptions",{name:this.name}))),this.storage=Wt(Xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new CD(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>LC(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new CD(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Wt(Xe(t,"addOptions",{name:t.name})),t.storage=Wt(Xe(t,"addStorage",{name:t.name,options:t.options})),t}};function Fd(n){return new dve({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=Wt(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];let f=t.to;if(a){const d=c.search(/\S/),m=t.from+c.indexOf(a),g=m+a.length;if(G2(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===n.type&&C!==x.mark.type)).filter(x=>x.to>m).length)return null;g<t.to&&o.delete(g,t.to),m>t.from&&o.delete(t.from+d,m),f=t.from+d+a.length,o.addMark(t.from+d,f,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function Q0e(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof Qe){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function J0e(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const Z0e=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),o=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${o};${s}`)})},I3=_o.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Z0e(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),ebe=Zr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),AD=ns.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",zn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});var xo="top",Na="bottom",Pa="right",So="left",K2="auto",x1=[xo,Na,Pa,So],tv="start",zw="end",tbe="clippingParents",J$="viewport",ab="popper",nbe="reference",O3=x1.reduce(function(n,e){return n.concat([e+"-"+tv,e+"-"+zw])},[]),Z$=[].concat(x1,[K2]).reduce(function(n,e){return n.concat([e,e+"-"+tv,e+"-"+zw])},[]),rbe="beforeRead",ibe="read",sbe="afterRead",obe="beforeMain",abe="main",lbe="afterMain",cbe="beforeWrite",ube="write",fbe="afterWrite",dbe=[rbe,ibe,sbe,obe,abe,lbe,cbe,ube,fbe];function Oc(n){return n?(n.nodeName||"").toLowerCase():null}function Jo(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function lm(n){var e=Jo(n).Element;return n instanceof e||n instanceof Element}function Ma(n){var e=Jo(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Y2(n){if(typeof ShadowRoot>"u")return!1;var e=Jo(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function hbe(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Ma(s)||!Oc(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function pbe(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(c,f){return c[f]="",c},{});!Ma(i)||!Oc(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const e8={name:"applyStyles",enabled:!0,phase:"write",fn:hbe,effect:pbe,requires:["computeStyles"]};function Tc(n){return n.split("-")[0]}var qp=Math.max,J_=Math.min,nv=Math.round;function RD(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function t8(){return!/^((?!chrome|android).)*safari/i.test(RD())}function rv(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Ma(n)&&(i=n.offsetWidth>0&&nv(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&nv(r.height)/n.offsetHeight||1);var o=lm(n)?Jo(n):window,a=o.visualViewport,c=!t8()&&t,f=(r.left+(c&&a?a.offsetLeft:0))/i,d=(r.top+(c&&a?a.offsetTop:0))/s,m=r.width/i,g=r.height/s;return{width:m,height:g,top:d,right:f+m,bottom:d+g,left:f,x:f,y:d}}function X2(n){var e=rv(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function n8(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Y2(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yu(n){return Jo(n).getComputedStyle(n)}function mbe(n){return["table","td","th"].indexOf(Oc(n))>=0}function Xd(n){return((lm(n)?n.ownerDocument:n.document)||window.document).documentElement}function zC(n){return Oc(n)==="html"?n:n.assignedSlot||n.parentNode||(Y2(n)?n.host:null)||Xd(n)}function N3(n){return!Ma(n)||Yu(n).position==="fixed"?null:n.offsetParent}function gbe(n){var e=/firefox/i.test(RD()),t=/Trident/i.test(RD());if(t&&Ma(n)){var r=Yu(n);if(r.position==="fixed")return null}var i=zC(n);for(Y2(i)&&(i=i.host);Ma(i)&&["html","body"].indexOf(Oc(i))<0;){var s=Yu(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function S1(n){for(var e=Jo(n),t=N3(n);t&&mbe(t)&&Yu(t).position==="static";)t=N3(t);return t&&(Oc(t)==="html"||Oc(t)==="body"&&Yu(t).position==="static")?e:t||gbe(n)||e}function Q2(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Xb(n,e,t){return qp(n,J_(e,t))}function ybe(n,e,t){var r=Xb(n,e,t);return r>t?t:r}function r8(){return{top:0,right:0,bottom:0,left:0}}function i8(n){return Object.assign({},r8(),n)}function s8(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var vbe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,i8(typeof e!="number"?e:s8(e,x1))};function bbe(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=Tc(t.placement),c=Q2(a),f=[So,Pa].indexOf(a)>=0,d=f?"height":"width";if(!(!s||!o)){var m=vbe(i.padding,t),g=X2(s),b=c==="y"?xo:So,x=c==="y"?Na:Pa,_=t.rects.reference[d]+t.rects.reference[c]-o[c]-t.rects.popper[d],C=o[c]-t.rects.reference[c],k=S1(s),N=k?c==="y"?k.clientHeight||0:k.clientWidth||0:0,z=_/2-C/2,P=m[b],H=N-g[d]-m[x],U=N/2-g[d]/2+z,O=Xb(P,U,H),D=c;t.modifiersData[r]=(e={},e[D]=O,e.centerOffset=O-U,e)}}function wbe(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||n8(e.elements.popper,i)&&(e.elements.arrow=i))}const xbe={name:"arrow",enabled:!0,phase:"main",fn:bbe,effect:wbe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function iv(n){return n.split("-")[1]}var Sbe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ebe(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:nv(t*i)/i||0,y:nv(r*i)/i||0}}function P3(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,c=n.gpuAcceleration,f=n.adaptive,d=n.roundOffsets,m=n.isFixed,g=o.x,b=g===void 0?0:g,x=o.y,_=x===void 0?0:x,C=typeof d=="function"?d({x:b,y:_}):{x:b,y:_};b=C.x,_=C.y;var k=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),z=So,P=xo,H=window;if(f){var U=S1(t),O="clientHeight",D="clientWidth";if(U===Jo(t)&&(U=Xd(t),Yu(U).position!=="static"&&a==="absolute"&&(O="scrollHeight",D="scrollWidth")),U=U,i===xo||(i===So||i===Pa)&&s===zw){P=Na;var V=m&&U===H&&H.visualViewport?H.visualViewport.height:U[O];_-=V-r.height,_*=c?1:-1}if(i===So||(i===xo||i===Na)&&s===zw){z=Pa;var F=m&&U===H&&H.visualViewport?H.visualViewport.width:U[D];b-=F-r.width,b*=c?1:-1}}var W=Object.assign({position:a},f&&Sbe),X=d===!0?Ebe({x:b,y:_},Jo(t)):{x:b,y:_};if(b=X.x,_=X.y,c){var G;return Object.assign({},W,(G={},G[P]=N?"0":"",G[z]=k?"0":"",G.transform=(H.devicePixelRatio||1)<=1?"translate("+b+"px, "+_+"px)":"translate3d("+b+"px, "+_+"px, 0)",G))}return Object.assign({},W,(e={},e[P]=N?_+"px":"",e[z]=k?b+"px":"",e.transform="",e))}function _be(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,c=a===void 0?!0:a,f={placement:Tc(e.placement),variation:iv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,P3(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,P3(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Tbe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_be,data:{}};var oE={passive:!0};function Cbe(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,c=Jo(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(d){d.addEventListener("scroll",t.update,oE)}),a&&c.addEventListener("resize",t.update,oE),function(){s&&f.forEach(function(d){d.removeEventListener("scroll",t.update,oE)}),a&&c.removeEventListener("resize",t.update,oE)}}const Abe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Cbe,data:{}};var Rbe={left:"right",right:"left",bottom:"top",top:"bottom"};function GE(n){return n.replace(/left|right|bottom|top/g,function(e){return Rbe[e]})}var kbe={start:"end",end:"start"};function L3(n){return n.replace(/start|end/g,function(e){return kbe[e]})}function J2(n){var e=Jo(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Z2(n){return rv(Xd(n)).left+J2(n).scrollLeft}function Mbe(n,e){var t=Jo(n),r=Xd(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var f=t8();(f||!f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+Z2(n),y:c}}function Dbe(n){var e,t=Xd(n),r=J2(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=qp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Z2(n),c=-r.scrollTop;return Yu(i||t).direction==="rtl"&&(a+=qp(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function eN(n){var e=Yu(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function o8(n){return["html","body","#document"].indexOf(Oc(n))>=0?n.ownerDocument.body:Ma(n)&&eN(n)?n:o8(zC(n))}function Qb(n,e){var t;e===void 0&&(e=[]);var r=o8(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=Jo(r),o=i?[s].concat(s.visualViewport||[],eN(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Qb(zC(o)))}function kD(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Ibe(n,e){var t=rv(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function V3(n,e,t){return e===J$?kD(Mbe(n,t)):lm(e)?Ibe(e,t):kD(Dbe(Xd(n)))}function Obe(n){var e=Qb(zC(n)),t=["absolute","fixed"].indexOf(Yu(n).position)>=0,r=t&&Ma(n)?S1(n):n;return lm(r)?e.filter(function(i){return lm(i)&&n8(i,r)&&Oc(i)!=="body"}):[]}function Nbe(n,e,t,r){var i=e==="clippingParents"?Obe(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(c,f){var d=V3(n,f,r);return c.top=qp(d.top,c.top),c.right=J_(d.right,c.right),c.bottom=J_(d.bottom,c.bottom),c.left=qp(d.left,c.left),c},V3(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function a8(n){var e=n.reference,t=n.element,r=n.placement,i=r?Tc(r):null,s=r?iv(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(i){case xo:c={x:o,y:e.y-t.height};break;case Na:c={x:o,y:e.y+e.height};break;case Pa:c={x:e.x+e.width,y:a};break;case So:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var f=i?Q2(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(s){case tv:c[f]=c[f]-(e[d]/2-t[d]/2);break;case zw:c[f]=c[f]+(e[d]/2-t[d]/2);break}}return c}function jw(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,c=a===void 0?tbe:a,f=t.rootBoundary,d=f===void 0?J$:f,m=t.elementContext,g=m===void 0?ab:m,b=t.altBoundary,x=b===void 0?!1:b,_=t.padding,C=_===void 0?0:_,k=i8(typeof C!="number"?C:s8(C,x1)),N=g===ab?nbe:ab,z=n.rects.popper,P=n.elements[x?N:g],H=Nbe(lm(P)?P:P.contextElement||Xd(n.elements.popper),c,d,o),U=rv(n.elements.reference),O=a8({reference:U,element:z,placement:i}),D=kD(Object.assign({},z,O)),V=g===ab?D:U,F={top:H.top-V.top+k.top,bottom:V.bottom-H.bottom+k.bottom,left:H.left-V.left+k.left,right:V.right-H.right+k.right},W=n.modifiersData.offset;if(g===ab&&W){var X=W[i];Object.keys(F).forEach(function(G){var Te=[Pa,Na].indexOf(G)>=0?1:-1,Ee=[xo,Na].indexOf(G)>=0?"y":"x";F[G]+=X[Ee]*Te})}return F}function Pbe(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,f=c===void 0?Z$:c,d=iv(r),m=d?a?O3:O3.filter(function(x){return iv(x)===d}):x1,g=m.filter(function(x){return f.indexOf(x)>=0});g.length===0&&(g=m);var b=g.reduce(function(x,_){return x[_]=jw(n,{placement:_,boundary:i,rootBoundary:s,padding:o})[Tc(_)],x},{});return Object.keys(b).sort(function(x,_){return b[x]-b[_]})}function Lbe(n){if(Tc(n)===K2)return[];var e=GE(n);return[L3(n),e,L3(e)]}function Vbe(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,c=t.fallbackPlacements,f=t.padding,d=t.boundary,m=t.rootBoundary,g=t.altBoundary,b=t.flipVariations,x=b===void 0?!0:b,_=t.allowedAutoPlacements,C=e.options.placement,k=Tc(C),N=k===C,z=c||(N||!x?[GE(C)]:Lbe(C)),P=[C].concat(z).reduce(function(ge,Re){return ge.concat(Tc(Re)===K2?Pbe(e,{placement:Re,boundary:d,rootBoundary:m,padding:f,flipVariations:x,allowedAutoPlacements:_}):Re)},[]),H=e.rects.reference,U=e.rects.popper,O=new Map,D=!0,V=P[0],F=0;F<P.length;F++){var W=P[F],X=Tc(W),G=iv(W)===tv,Te=[xo,Na].indexOf(X)>=0,Ee=Te?"width":"height",J=jw(e,{placement:W,boundary:d,rootBoundary:m,altBoundary:g,padding:f}),se=Te?G?Pa:So:G?Na:xo;H[Ee]>U[Ee]&&(se=GE(se));var te=GE(se),we=[];if(s&&we.push(J[X]<=0),a&&we.push(J[se]<=0,J[te]<=0),we.every(function(ge){return ge})){V=W,D=!1;break}O.set(W,we)}if(D)for(var Q=x?3:1,ae=function(Re){var ye=P.find(function(Ae){var Le=O.get(Ae);if(Le)return Le.slice(0,Re).every(function(He){return He})});if(ye)return V=ye,"break"},ve=Q;ve>0;ve--){var ne=ae(ve);if(ne==="break")break}e.placement!==V&&(e.modifiersData[r]._skip=!0,e.placement=V,e.reset=!0)}}const Bbe={name:"flip",enabled:!0,phase:"main",fn:Vbe,requiresIfExists:["offset"],data:{_skip:!1}};function B3(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function z3(n){return[xo,Pa,Na,So].some(function(e){return n[e]>=0})}function zbe(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=jw(e,{elementContext:"reference"}),a=jw(e,{altBoundary:!0}),c=B3(o,r),f=B3(a,i,s),d=z3(c),m=z3(f);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const jbe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zbe};function Ube(n,e,t){var r=Tc(n),i=[So,xo].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[So,Pa].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Fbe(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=Z$.reduce(function(d,m){return d[m]=Ube(m,e.rects,s),d},{}),a=o[e.placement],c=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}const Hbe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Fbe};function $be(n){var e=n.state,t=n.name;e.modifiersData[t]=a8({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const qbe={name:"popperOffsets",enabled:!0,phase:"read",fn:$be,data:{}};function Wbe(n){return n==="x"?"y":"x"}function Gbe(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,c=t.boundary,f=t.rootBoundary,d=t.altBoundary,m=t.padding,g=t.tether,b=g===void 0?!0:g,x=t.tetherOffset,_=x===void 0?0:x,C=jw(e,{boundary:c,rootBoundary:f,padding:m,altBoundary:d}),k=Tc(e.placement),N=iv(e.placement),z=!N,P=Q2(k),H=Wbe(P),U=e.modifiersData.popperOffsets,O=e.rects.reference,D=e.rects.popper,V=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,F=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(U){if(s){var G,Te=P==="y"?xo:So,Ee=P==="y"?Na:Pa,J=P==="y"?"height":"width",se=U[P],te=se+C[Te],we=se-C[Ee],Q=b?-D[J]/2:0,ae=N===tv?O[J]:D[J],ve=N===tv?-D[J]:-O[J],ne=e.elements.arrow,ge=b&&ne?X2(ne):{width:0,height:0},Re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:r8(),ye=Re[Te],Ae=Re[Ee],Le=Xb(0,O[J],ge[J]),He=z?O[J]/2-Q-Le-ye-F.mainAxis:ae-Le-ye-F.mainAxis,it=z?-O[J]/2+Q+Le+Ae+F.mainAxis:ve+Le+Ae+F.mainAxis,Lt=e.elements.arrow&&S1(e.elements.arrow),Kt=Lt?P==="y"?Lt.clientTop||0:Lt.clientLeft||0:0,Et=(G=W==null?void 0:W[P])!=null?G:0,Dt=se+He-Et-Kt,tr=se+it-Et,kr=Xb(b?J_(te,Dt):te,se,b?qp(we,tr):we);U[P]=kr,X[P]=kr-se}if(a){var jt,kn=P==="x"?xo:So,Pn=P==="x"?Na:Pa,nr=U[H],ln=H==="y"?"height":"width",_n=nr+C[kn],Wn=nr-C[Pn],Ds=[xo,So].indexOf(k)!==-1,Li=(jt=W==null?void 0:W[H])!=null?jt:0,yn=Ds?_n:nr-O[ln]-D[ln]-Li+F.altAxis,Nt=Ds?nr+O[ln]+D[ln]-Li-F.altAxis:Wn,Gn=b&&Ds?ybe(yn,nr,Nt):Xb(b?yn:_n,nr,b?Nt:Wn);U[H]=Gn,X[H]=Gn-nr}e.modifiersData[r]=X}}const Kbe={name:"preventOverflow",enabled:!0,phase:"main",fn:Gbe,requiresIfExists:["offset"]};function Ybe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Xbe(n){return n===Jo(n)||!Ma(n)?J2(n):Ybe(n)}function Qbe(n){var e=n.getBoundingClientRect(),t=nv(e.width)/n.offsetWidth||1,r=nv(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Jbe(n,e,t){t===void 0&&(t=!1);var r=Ma(e),i=Ma(e)&&Qbe(e),s=Xd(e),o=rv(n,i,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((Oc(e)!=="body"||eN(s))&&(a=Xbe(e)),Ma(e)?(c=rv(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Z2(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Zbe(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&i(c)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function ewe(n){var e=Zbe(n);return dbe.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function twe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function nwe(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var j3={placement:"bottom",modifiers:[],strategy:"absolute"};function U3(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rwe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?j3:i;return function(a,c,f){f===void 0&&(f=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},j3,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},m=[],g=!1,b={state:d,setOptions:function(k){var N=typeof k=="function"?k(d.options):k;_(),d.options=Object.assign({},s,d.options,N),d.scrollParents={reference:lm(a)?Qb(a):a.contextElement?Qb(a.contextElement):[],popper:Qb(c)};var z=ewe(nwe([].concat(r,d.options.modifiers)));return d.orderedModifiers=z.filter(function(P){return P.enabled}),x(),b.update()},forceUpdate:function(){if(!g){var k=d.elements,N=k.reference,z=k.popper;if(U3(N,z)){d.rects={reference:Jbe(N,S1(z),d.options.strategy==="fixed"),popper:X2(z)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(F){return d.modifiersData[F.name]=Object.assign({},F.data)});for(var P=0;P<d.orderedModifiers.length;P++){if(d.reset===!0){d.reset=!1,P=-1;continue}var H=d.orderedModifiers[P],U=H.fn,O=H.options,D=O===void 0?{}:O,V=H.name;typeof U=="function"&&(d=U({state:d,options:D,name:V,instance:b})||d)}}}},update:twe(function(){return new Promise(function(C){b.forceUpdate(),C(d)})}),destroy:function(){_(),g=!0}};if(!U3(a,c))return b;b.setOptions(f).then(function(C){!g&&f.onFirstUpdate&&f.onFirstUpdate(C)});function x(){d.orderedModifiers.forEach(function(C){var k=C.name,N=C.options,z=N===void 0?{}:N,P=C.effect;if(typeof P=="function"){var H=P({state:d,name:k,instance:b,options:z}),U=function(){};m.push(H||U)}})}function _(){m.forEach(function(C){return C()}),m=[]}return b}}var iwe=[Abe,qbe,Tbe,e8,Hbe,Bbe,Kbe,xbe,jbe],swe=rwe({defaultModifiers:iwe}),owe="tippy-box",l8="tippy-content",awe="tippy-backdrop",c8="tippy-arrow",u8="tippy-svg-arrow",Ep={passive:!0,capture:!0},f8=function(){return document.body};function xk(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function tN(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function d8(n,e){return typeof n=="function"?n.apply(void 0,e):n}function F3(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function lwe(n){return n.split(/\s+/).filter(Boolean)}function oy(n){return[].concat(n)}function H3(n,e){n.indexOf(e)===-1&&n.push(e)}function cwe(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function uwe(n){return n.split("-")[0]}function Z_(n){return[].slice.call(n)}function $3(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function Jb(){return document.createElement("div")}function jC(n){return["Element","Fragment"].some(function(e){return tN(n,e)})}function fwe(n){return tN(n,"NodeList")}function dwe(n){return tN(n,"MouseEvent")}function hwe(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function pwe(n){return jC(n)?[n]:fwe(n)?Z_(n):Array.isArray(n)?n:Z_(document.querySelectorAll(n))}function Sk(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function q3(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function mwe(n){var e,t=oy(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function gwe(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,c=a.interactiveBorder,f=uwe(o.placement),d=o.modifiersData.offset;if(!d)return!0;var m=f==="bottom"?d.top.y:0,g=f==="top"?d.bottom.y:0,b=f==="right"?d.left.x:0,x=f==="left"?d.right.x:0,_=s.top-r+m>c,C=r-s.bottom-g>c,k=s.left-t+b>c,N=t-s.right-x>c;return _||C||k||N})}function Ek(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function W3(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var dc={isTouch:!1},G3=0;function ywe(){dc.isTouch||(dc.isTouch=!0,window.performance&&document.addEventListener("mousemove",h8))}function h8(){var n=performance.now();n-G3<20&&(dc.isTouch=!1,document.removeEventListener("mousemove",h8)),G3=n}function vwe(){var n=document.activeElement;if(hwe(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function bwe(){document.addEventListener("touchstart",ywe,Ep),window.addEventListener("blur",vwe)}var wwe=typeof window<"u"&&typeof document<"u",xwe=wwe?!!window.msCrypto:!1,Swe={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ewe={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},yl=Object.assign({appendTo:f8,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Swe,Ewe),_we=Object.keys(yl),Twe=function(e){var t=Object.keys(e);t.forEach(function(r){yl[r]=e[r]})};function p8(n){var e=n.plugins||[],t=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=n[s]!==void 0?n[s]:(a=yl[s])!=null?a:o}return r},{});return Object.assign({},n,t)}function Cwe(n,e){var t=e?Object.keys(p8(Object.assign({},yl,{plugins:e}))):_we,r=t.reduce(function(i,s){var o=(n.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function K3(n,e){var t=Object.assign({},e,{content:d8(e.content,[n])},e.ignoreAttributes?{}:Cwe(n,e.plugins));return t.aria=Object.assign({},yl.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Awe=function(){return"innerHTML"};function MD(n,e){n[Awe()]=e}function Y3(n){var e=Jb();return n===!0?e.className=c8:(e.className=u8,jC(n)?e.appendChild(n):MD(e,n)),e}function X3(n,e){jC(e.content)?(MD(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?MD(n,e.content):n.textContent=e.content)}function DD(n){var e=n.firstElementChild,t=Z_(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(l8)}),arrow:t.find(function(r){return r.classList.contains(c8)||r.classList.contains(u8)}),backdrop:t.find(function(r){return r.classList.contains(awe)})}}function m8(n){var e=Jb(),t=Jb();t.className=owe,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=Jb();r.className=l8,r.setAttribute("data-state","hidden"),X3(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(s,o){var a=DD(e),c=a.box,f=a.content,d=a.arrow;o.theme?c.setAttribute("data-theme",o.theme):c.removeAttribute("data-theme"),typeof o.animation=="string"?c.setAttribute("data-animation",o.animation):c.removeAttribute("data-animation"),o.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?c.setAttribute("role",o.role):c.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&X3(f,n.props),o.arrow?d?s.arrow!==o.arrow&&(c.removeChild(d),c.appendChild(Y3(o.arrow))):c.appendChild(Y3(o.arrow)):d&&c.removeChild(d)}return{popper:e,onUpdate:i}}m8.$$tippy=!0;var Rwe=1,aE=[],_k=[];function kwe(n,e){var t=K3(n,Object.assign({},yl,p8($3(e)))),r,i,s,o=!1,a=!1,c=!1,f=!1,d,m,g,b=[],x=F3(Dt,t.interactiveDebounce),_,C=Rwe++,k=null,N=cwe(t.plugins),z={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},P={id:C,reference:n,popper:Jb(),popperInstance:k,props:t,state:z,plugins:N,clearDelayTimeouts:yn,setProps:Nt,setContent:Gn,show:rr,hide:Vi,hideWithInteractivity:Zo,enable:Ds,disable:Li,unmount:ti,destroy:Is};if(!t.render)return P;var H=t.render(P),U=H.popper,O=H.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+P.id,P.popper=U,n._tippy=P,U._tippy=P;var D=N.map(function(xe){return xe.fn(P)}),V=n.hasAttribute("aria-expanded");return Lt(),Q(),se(),te("onCreate",[P]),t.showOnCreate&&_n(),U.addEventListener("mouseenter",function(){P.props.interactive&&P.state.isVisible&&P.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(){P.props.interactive&&P.props.trigger.indexOf("mouseenter")>=0&&Te().addEventListener("mousemove",x)}),P;function F(){var xe=P.props.touch;return Array.isArray(xe)?xe:[xe,0]}function W(){return F()[0]==="hold"}function X(){var xe;return!!((xe=P.props.render)!=null&&xe.$$tippy)}function G(){return _||n}function Te(){var xe=G().parentNode;return xe?mwe(xe):document}function Ee(){return DD(U)}function J(xe){return P.state.isMounted&&!P.state.isVisible||dc.isTouch||d&&d.type==="focus"?0:xk(P.props.delay,xe?0:1,yl.delay)}function se(xe){xe===void 0&&(xe=!1),U.style.pointerEvents=P.props.interactive&&!xe?"":"none",U.style.zIndex=""+P.props.zIndex}function te(xe,Fe,et){if(et===void 0&&(et=!0),D.forEach(function(Ct){Ct[xe]&&Ct[xe].apply(Ct,Fe)}),et){var It;(It=P.props)[xe].apply(It,Fe)}}function we(){var xe=P.props.aria;if(xe.content){var Fe="aria-"+xe.content,et=U.id,It=oy(P.props.triggerTarget||n);It.forEach(function(Ct){var Tn=Ct.getAttribute(Fe);if(P.state.isVisible)Ct.setAttribute(Fe,Tn?Tn+" "+et:et);else{var Mr=Tn&&Tn.replace(et,"").trim();Mr?Ct.setAttribute(Fe,Mr):Ct.removeAttribute(Fe)}})}}function Q(){if(!(V||!P.props.aria.expanded)){var xe=oy(P.props.triggerTarget||n);xe.forEach(function(Fe){P.props.interactive?Fe.setAttribute("aria-expanded",P.state.isVisible&&Fe===G()?"true":"false"):Fe.removeAttribute("aria-expanded")})}}function ae(){Te().removeEventListener("mousemove",x),aE=aE.filter(function(xe){return xe!==x})}function ve(xe){if(!(dc.isTouch&&(c||xe.type==="mousedown"))){var Fe=xe.composedPath&&xe.composedPath()[0]||xe.target;if(!(P.props.interactive&&W3(U,Fe))){if(oy(P.props.triggerTarget||n).some(function(et){return W3(et,Fe)})){if(dc.isTouch||P.state.isVisible&&P.props.trigger.indexOf("click")>=0)return}else te("onClickOutside",[P,xe]);P.props.hideOnClick===!0&&(P.clearDelayTimeouts(),P.hide(),a=!0,setTimeout(function(){a=!1}),P.state.isMounted||ye())}}}function ne(){c=!0}function ge(){c=!1}function Re(){var xe=Te();xe.addEventListener("mousedown",ve,!0),xe.addEventListener("touchend",ve,Ep),xe.addEventListener("touchstart",ge,Ep),xe.addEventListener("touchmove",ne,Ep)}function ye(){var xe=Te();xe.removeEventListener("mousedown",ve,!0),xe.removeEventListener("touchend",ve,Ep),xe.removeEventListener("touchstart",ge,Ep),xe.removeEventListener("touchmove",ne,Ep)}function Ae(xe,Fe){He(xe,function(){!P.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&Fe()})}function Le(xe,Fe){He(xe,Fe)}function He(xe,Fe){var et=Ee().box;function It(Ct){Ct.target===et&&(Ek(et,"remove",It),Fe())}if(xe===0)return Fe();Ek(et,"remove",m),Ek(et,"add",It),m=It}function it(xe,Fe,et){et===void 0&&(et=!1);var It=oy(P.props.triggerTarget||n);It.forEach(function(Ct){Ct.addEventListener(xe,Fe,et),b.push({node:Ct,eventType:xe,handler:Fe,options:et})})}function Lt(){W()&&(it("touchstart",Et,{passive:!0}),it("touchend",tr,{passive:!0})),lwe(P.props.trigger).forEach(function(xe){if(xe!=="manual")switch(it(xe,Et),xe){case"mouseenter":it("mouseleave",tr);break;case"focus":it(xwe?"focusout":"blur",kr);break;case"focusin":it("focusout",kr);break}})}function Kt(){b.forEach(function(xe){var Fe=xe.node,et=xe.eventType,It=xe.handler,Ct=xe.options;Fe.removeEventListener(et,It,Ct)}),b=[]}function Et(xe){var Fe,et=!1;if(!(!P.state.isEnabled||jt(xe)||a)){var It=((Fe=d)==null?void 0:Fe.type)==="focus";d=xe,_=xe.currentTarget,Q(),!P.state.isVisible&&dwe(xe)&&aE.forEach(function(Ct){return Ct(xe)}),xe.type==="click"&&(P.props.trigger.indexOf("mouseenter")<0||o)&&P.props.hideOnClick!==!1&&P.state.isVisible?et=!0:_n(xe),xe.type==="click"&&(o=!et),et&&!It&&Wn(xe)}}function Dt(xe){var Fe=xe.target,et=G().contains(Fe)||U.contains(Fe);if(!(xe.type==="mousemove"&&et)){var It=ln().concat(U).map(function(Ct){var Tn,Mr=Ct._tippy,Fr=(Tn=Mr.popperInstance)==null?void 0:Tn.state;return Fr?{popperRect:Ct.getBoundingClientRect(),popperState:Fr,props:t}:null}).filter(Boolean);gwe(It,xe)&&(ae(),Wn(xe))}}function tr(xe){var Fe=jt(xe)||P.props.trigger.indexOf("click")>=0&&o;if(!Fe){if(P.props.interactive){P.hideWithInteractivity(xe);return}Wn(xe)}}function kr(xe){P.props.trigger.indexOf("focusin")<0&&xe.target!==G()||P.props.interactive&&xe.relatedTarget&&U.contains(xe.relatedTarget)||Wn(xe)}function jt(xe){return dc.isTouch?W()!==xe.type.indexOf("touch")>=0:!1}function kn(){Pn();var xe=P.props,Fe=xe.popperOptions,et=xe.placement,It=xe.offset,Ct=xe.getReferenceClientRect,Tn=xe.moveTransition,Mr=X()?DD(U).arrow:null,Fr=Ct?{getBoundingClientRect:Ct,contextElement:Ct.contextElement||G()}:n,Si={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Mn){var vn=Mn.state;if(X()){var ur=Ee(),mi=ur.box;["placement","reference-hidden","escaped"].forEach(function(jn){jn==="placement"?mi.setAttribute("data-placement",vn.placement):vn.attributes.popper["data-popper-"+jn]?mi.setAttribute("data-"+jn,""):mi.removeAttribute("data-"+jn)}),vn.attributes.popper={}}}},Ei=[{name:"offset",options:{offset:It}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Tn}},Si];X()&&Mr&&Ei.push({name:"arrow",options:{element:Mr,padding:3}}),Ei.push.apply(Ei,(Fe==null?void 0:Fe.modifiers)||[]),P.popperInstance=swe(Fr,U,Object.assign({},Fe,{placement:et,onFirstUpdate:g,modifiers:Ei}))}function Pn(){P.popperInstance&&(P.popperInstance.destroy(),P.popperInstance=null)}function nr(){var xe=P.props.appendTo,Fe,et=G();P.props.interactive&&xe===f8||xe==="parent"?Fe=et.parentNode:Fe=d8(xe,[et]),Fe.contains(U)||Fe.appendChild(U),P.state.isMounted=!0,kn()}function ln(){return Z_(U.querySelectorAll("[data-tippy-root]"))}function _n(xe){P.clearDelayTimeouts(),xe&&te("onTrigger",[P,xe]),Re();var Fe=J(!0),et=F(),It=et[0],Ct=et[1];dc.isTouch&&It==="hold"&&Ct&&(Fe=Ct),Fe?r=setTimeout(function(){P.show()},Fe):P.show()}function Wn(xe){if(P.clearDelayTimeouts(),te("onUntrigger",[P,xe]),!P.state.isVisible){ye();return}if(!(P.props.trigger.indexOf("mouseenter")>=0&&P.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(xe.type)>=0&&o)){var Fe=J(!1);Fe?i=setTimeout(function(){P.state.isVisible&&P.hide()},Fe):s=requestAnimationFrame(function(){P.hide()})}}function Ds(){P.state.isEnabled=!0}function Li(){P.hide(),P.state.isEnabled=!1}function yn(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Nt(xe){if(!P.state.isDestroyed){te("onBeforeUpdate",[P,xe]),Kt();var Fe=P.props,et=K3(n,Object.assign({},Fe,$3(xe),{ignoreAttributes:!0}));P.props=et,Lt(),Fe.interactiveDebounce!==et.interactiveDebounce&&(ae(),x=F3(Dt,et.interactiveDebounce)),Fe.triggerTarget&&!et.triggerTarget?oy(Fe.triggerTarget).forEach(function(It){It.removeAttribute("aria-expanded")}):et.triggerTarget&&n.removeAttribute("aria-expanded"),Q(),se(),O&&O(Fe,et),P.popperInstance&&(kn(),ln().forEach(function(It){requestAnimationFrame(It._tippy.popperInstance.forceUpdate)})),te("onAfterUpdate",[P,xe])}}function Gn(xe){P.setProps({content:xe})}function rr(){var xe=P.state.isVisible,Fe=P.state.isDestroyed,et=!P.state.isEnabled,It=dc.isTouch&&!P.props.touch,Ct=xk(P.props.duration,0,yl.duration);if(!(xe||Fe||et||It)&&!G().hasAttribute("disabled")&&(te("onShow",[P],!1),P.props.onShow(P)!==!1)){if(P.state.isVisible=!0,X()&&(U.style.visibility="visible"),se(),Re(),P.state.isMounted||(U.style.transition="none"),X()){var Tn=Ee(),Mr=Tn.box,Fr=Tn.content;Sk([Mr,Fr],0)}g=function(){var Ei;if(!(!P.state.isVisible||f)){if(f=!0,U.offsetHeight,U.style.transition=P.props.moveTransition,X()&&P.props.animation){var st=Ee(),Mn=st.box,vn=st.content;Sk([Mn,vn],Ct),q3([Mn,vn],"visible")}we(),Q(),H3(_k,P),(Ei=P.popperInstance)==null||Ei.forceUpdate(),te("onMount",[P]),P.props.animation&&X()&&Le(Ct,function(){P.state.isShown=!0,te("onShown",[P])})}},nr()}}function Vi(){var xe=!P.state.isVisible,Fe=P.state.isDestroyed,et=!P.state.isEnabled,It=xk(P.props.duration,1,yl.duration);if(!(xe||Fe||et)&&(te("onHide",[P],!1),P.props.onHide(P)!==!1)){if(P.state.isVisible=!1,P.state.isShown=!1,f=!1,o=!1,X()&&(U.style.visibility="hidden"),ae(),ye(),se(!0),X()){var Ct=Ee(),Tn=Ct.box,Mr=Ct.content;P.props.animation&&(Sk([Tn,Mr],It),q3([Tn,Mr],"hidden"))}we(),Q(),P.props.animation?X()&&Ae(It,P.unmount):P.unmount()}}function Zo(xe){Te().addEventListener("mousemove",x),H3(aE,x),x(xe)}function ti(){P.state.isVisible&&P.hide(),P.state.isMounted&&(Pn(),ln().forEach(function(xe){xe._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U),_k=_k.filter(function(xe){return xe!==P}),P.state.isMounted=!1,te("onHidden",[P]))}function Is(){P.state.isDestroyed||(P.clearDelayTimeouts(),P.unmount(),Kt(),delete n._tippy,P.state.isDestroyed=!0,te("onDestroy",[P]))}}function Av(n,e){e===void 0&&(e={});var t=yl.plugins.concat(e.plugins||[]);bwe();var r=Object.assign({},e,{plugins:t}),i=pwe(n),s=i.reduce(function(o,a){var c=a&&kwe(a,r);return c&&o.push(c),o},[]);return jC(n)?s[0]:s}Av.defaultProps=yl;Av.setDefaultProps=Twe;Av.currentInput=dc;Object.assign({},e8,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Av.setDefaultProps({render:m8});class Mwe{constructor({editor:e,element:t,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:c,from:f,to:d})=>{const{doc:m,selection:g}=c,{empty:b}=g,x=!m.textBetween(f,d).length&&$2(c.selection),_=this.element.contains(document.activeElement);return!(!(a.hasFocus()||_)||b||x||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var c;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((c=this.element.parentNode)===null||c===void 0)&&c.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,c)=>{const f=!(c!=null&&c.selection.eq(a.state.selection)),d=!(c!=null&&c.doc.eq(a.state.doc));!f&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,f,d,c)},this.updateDelay))},this.updateHandler=(a,c,f,d)=>{var m,g,b;const{state:x,composing:_}=a,{selection:C}=x;if(_||!c&&!f)return;this.createTooltip();const{ranges:N}=C,z=Math.min(...N.map(U=>U.$from.pos)),P=Math.max(...N.map(U=>U.$to.pos));if(!((m=this.shouldShow)===null||m===void 0?void 0:m.call(this,{editor:this.editor,element:this.element,view:a,state:x,oldState:d,from:z,to:P}))){this.hide();return}(g=this.tippy)===null||g===void 0||g.setProps({getReferenceClientRect:((b=this.tippyOptions)===null||b===void 0?void 0:b.getReferenceClientRect)||(()=>{if(Q$(x.selection)){let U=a.nodeDOM(z);if(U){const O=U.dataset.nodeViewWrapper?U:U.querySelector("[data-node-view-wrapper]");if(O&&(U=O.firstChild),U)return U.getBoundingClientRect()}}return v0e(a,z,P)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Av(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,t);return}const s=!(t!=null&&t.selection.eq(e.state.selection)),o=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,s,o,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const g8=n=>new xr({key:typeof n.pluginKey=="string"?new ei(n.pluginKey):n.pluginKey,view:e=>new Mwe({view:e,...n})});Zr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[g8({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function Dwe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var y8={exports:{}},Tk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3;function Iwe(){if(Q3)return Tk;Q3=1;var n=Ne;function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(m,g){var b=g(),x=r({inst:{value:b,getSnapshot:g}}),_=x[0].inst,C=x[1];return s(function(){_.value=b,_.getSnapshot=g,c(_)&&C({inst:_})},[m,b,g]),i(function(){return c(_)&&C({inst:_}),m(function(){c(_)&&C({inst:_})})},[m]),o(b),b}function c(m){var g=m.getSnapshot;m=m.value;try{var b=g();return!t(m,b)}catch{return!0}}function f(m,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:a;return Tk.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,Tk}y8.exports=Iwe();var nN=y8.exports;const Owe=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Nwe=({contentComponent:n})=>{const e=nN.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Ne.createElement(Ne.Fragment,null,Object.values(e))};function Pwe(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:JD.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class Lwe extends Ne.Component{constructor(e){var t;super(e),this.editorContentRef=Ne.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Pwe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{ref:Owe(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Ne.createElement(Nwe,{contentComponent:e.contentComponent}))}}const Vwe=A.forwardRef((n,e)=>{const t=Ne.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ne.createElement(Lwe,{key:t,innerRef:e,...n})}),Bwe=Ne.memo(Vwe);var zwe=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},jwe=Dwe(zwe),v8={exports:{}},Ck={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function Uwe(){if(J3)return Ck;J3=1;var n=Ne,e=nN;function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,a=n.useMemo,c=n.useDebugValue;return Ck.useSyncExternalStoreWithSelector=function(f,d,m,g,b){var x=s(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=a(function(){function k(U){if(!N){if(N=!0,z=U,U=g(U),b!==void 0&&_.hasValue){var O=_.value;if(b(O,U))return P=O}return P=U}if(O=P,r(z,U))return O;var D=g(U);return b!==void 0&&b(O,D)?O:(z=U,P=D)}var N=!1,z,P,H=m===void 0?null:m;return[function(){return k(d())},H===null?void 0:function(){return k(H())}]},[d,m,g,b]);var C=i(f,x[0],x[1]);return o(function(){_.hasValue=!0,_.value=C},[C]),c(C),C},Ck}v8.exports=Uwe();var Fwe=v8.exports;const Hwe=typeof window<"u"?A.useLayoutEffect:A.useEffect;class $we{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function qwe(n){var e;const[t]=A.useState(()=>new $we(n.editor)),r=Fwe.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:jwe);return Hwe(()=>t.watch(n.editor),[n.editor,t]),A.useDebugValue(r),r}const Wwe=!1,ID=typeof window>"u",Gwe=ID||!!(typeof window<"u"&&window.next);class rN{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ID||Gwe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new Y0e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=t.extensions)===null||o===void 0?void 0:o[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?rN.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Kwe(n={},e=[]){const t=A.useRef(n);t.current=n;const[r]=A.useState(()=>new rN(t)),i=nN.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(i),A.useEffect(r.onRender(e)),qwe({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const b8=A.createContext({editor:null});b8.Consumer;const Ywe=()=>A.useContext(b8),w8=n=>{const[e,t]=A.useState(null),{editor:r}=Ywe();return A.useEffect(()=>{var i;if(!e||!((i=n.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:o,tippyOptions:a={},updateDelay:c,shouldShow:f=null}=n,d=o||r;if(!d){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const m=g8({updateDelay:c,editor:d,element:e,pluginKey:s,shouldShow:f,tippyOptions:a});return d.registerPlugin(m),()=>{d.unregisterPlugin(s)}},[n.editor,r,e]),Ne.createElement("div",{ref:t,className:n.className,style:{visibility:"hidden"}},n.children)},Xwe=A.createContext({onDragStart:void 0}),Qwe=()=>A.useContext(Xwe);Ne.forwardRef((n,e)=>{const{onDragStart:t}=Qwe(),r=n.as||"div";return Ne.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function Z3(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function eB(n){return!!(typeof n=="object"&&n.$$typeof&&(n.$$typeof.toString()==="Symbol(react.forward_ref)"||n.$$typeof.description==="react.forward_ref"))}function Jwe(n){return!!(typeof n=="object"&&n.$$typeof&&(n.$$typeof.toString()==="Symbol(react.memo)"||n.$$typeof.description==="react.memo"))}function Zwe(n){if(Z3(n)||eB(n))return!0;if(Jwe(n)){const e=n.type;if(e)return Z3(e)||eB(e)}return!1}function e1e(){try{if(A.version)return parseInt(A.version.split(".")[0],10)>=19}catch{}return!1}class t1e{constructor(e,{editor:t,props:r={},as:i="div",className:s=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),this.editor.isInitialized?MT.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,i=this.editor,s=e1e(),o=Zwe(t),a={...r};a.ref&&!(s||o)&&delete a.ref,!a.ref&&(s||o)&&(a.ref=c=>{this.ref=c}),this.reactElement=Ne.createElement(t,{...a}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}const n1e=/^\s*>\s$/,r1e=ns.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ev({find:n1e,type:this.type})]}}),i1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,s1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,o1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,a1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,l1e=_o.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[am({find:i1e,type:this.type}),am({find:o1e,type:this.type})]},addPasteRules(){return[Fd({find:s1e,type:this.type}),Fd({find:a1e,type:this.type})]}}),c1e="listItem",tB="textStyle",nB=/^\s*([-+*])\s$/,u1e=ns.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(c1e,this.editor.getAttributes(tB)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=ev({find:nB,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ev({find:nB,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(tB),editor:this.editor})),[n]}}),f1e=/(^|[^`])`([^`]+)`(?!`)/,d1e=/(^|[^`])`([^`]+)`(?!`)/g,h1e=_o.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[am({find:f1e,type:this.type})]},addPasteRules(){return[Fd({find:d1e,type:this.type})]}}),p1e=/^```([a-z]+)?[\s\n]$/,m1e=/^~~~([a-z]+)?[\s\n]$/,g1e=ns.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",zn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:f})=>(f.setSelection(gt.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[TD({find:p1e,type:this.type,getAttributes:n=>({language:n[1]})}),TD({find:m1e,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new xr({key:new ei("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,c=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(at.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),y1e=ns.create({name:"doc",topNode:!0,content:"block+"});function v1e(n={}){return new xr({view(e){return new b1e(e,n)}})}class b1e{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(t){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let b=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(b){let x=b.getBoundingClientRect(),_=m?x.bottom:x.top;m&&g&&(_=(_+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*a;r={left:x.left,right:x.right,top:_-C,bottom:_+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;r={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let f,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,d=-pageYOffset;else{let m=c.getBoundingClientRect(),g=m.width/c.offsetWidth,b=m.height/c.offsetHeight;f=m.left-c.scrollLeft*g,d=m.top-c.scrollTop*b}this.element.style.left=(r.left-f)/o+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=FH(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const w1e=Zr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[v1e(this.options)]}});class Br extends gt{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Br.valid(r)?new Br(r):gt.near(r)}content(){return Ue.empty}eq(e){return e instanceof Br&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Br(e.resolve(t.pos))}getBookmark(){return new iN(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!x1e(e)||!S1e(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Br.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let c=e.doc.resolve(i);if(Br.valid(c))return c}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Qe.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(Br.valid(a))return a}return null}}}Br.prototype.visible=!1;Br.findFrom=Br.findGapCursorFrom;gt.jsonID("gapcursor",Br);class iN{constructor(e){this.pos=e}map(e){return new iN(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Br.valid(t)?new Br(t):gt.near(t)}}function x1e(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function S1e(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function E1e(){return new xr({props:{decorations:A1e,createSelectionBetween(n,e,t){return e.pos==t.pos&&Br.valid(t)?new Br(t):null},handleClick:T1e,handleKeyDown:_1e,handleDOMEvents:{beforeinput:C1e}}})}const _1e=P2({ArrowLeft:lE("horiz",-1),ArrowRight:lE("horiz",1),ArrowUp:lE("vert",-1),ArrowDown:lE("vert",1)});function lE(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,c=o.empty;if(o instanceof at){if(!s.endOfTextblock(t)||a.depth==0)return!1;c=!1,a=r.doc.resolve(e>0?a.after():a.before())}let f=Br.findGapCursorFrom(a,e,c);return f?(i&&i(r.tr.setSelection(new Br(f))),!0):!1}}function T1e(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Br.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Qe.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Br(r))),!0)}function C1e(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Br))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=Oe.empty;for(let o=r.length-1;o>=0;o--)i=Oe.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new Ue(i,0,0));return s.setSelection(at.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function A1e(n){if(!(n.selection instanceof Br))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",pr.create(n.doc,[Ii.widget(n.selection.head,e,{key:"gapcursor"})])}const R1e=Zr.create({name:"gapCursor",addProseMirrorPlugins(){return[E1e()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Wt(Xe(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),k1e=ns.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",zn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&c&&o){const m=c.filter(g=>a.includes(g.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),M1e=ns.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,zn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>TD({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var eT=200,Ni=function(){};Ni.prototype.append=function(e){return e.length?(e=Ni.from(e),!this.length&&e||e.length<eT&&this.leafAppend(e)||this.length<eT&&e.leafPrepend(this)||this.appendInner(e)):this};Ni.prototype.prepend=function(e){return e.length?Ni.from(e).append(this):this};Ni.prototype.appendInner=function(e){return new D1e(this,e)};Ni.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ni.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ni.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ni.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Ni.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};Ni.from=function(e){return e instanceof Ni?e:e&&e.length?new x8(e):Ni.empty};var x8=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var c=s;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var c=s-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=eT)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=eT)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ni);Ni.empty=new x8([]);var D1e=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ni);const I1e=500;class ml{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,c,f=[],d=[];return this.items.forEach((m,g)=>{if(!m.step){i||(i=this.remapping(r,g+1),s=i.maps.length),s--,d.push(m);return}if(i){d.push(new lc(m.map));let b=m.step.map(i.slice(s)),x;b&&o.maybeStep(b).doc&&(x=o.mapping.maps[o.mapping.maps.length-1],f.push(new lc(x,void 0,void 0,f.length+d.length))),s--,x&&i.appendMap(x,s)}else o.maybeStep(m.step);if(m.selection)return a=i?m.selection.map(i.slice(s)):m.selection,c=new ml(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let m=e.steps[d].invert(e.docs[d]),g=new lc(e.mapping.maps[d],m,t),b;(b=c&&c.merge(g))&&(g=b,d?s.pop():a=a.slice(0,a.length-1)),s.push(g),t&&(o++,t=void 0),i||(c=g)}let f=o-r.depth;return f>N1e&&(a=O1e(a,f),o-=f),new ml(a.append(s),o)}remapping(e,t){let r=new Dw;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new ml(this.items.append(e.map(t=>new lc(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},i);let c=t;this.items.forEach(g=>{let b=s.getMirror(--c);if(b==null)return;o=Math.min(o,b);let x=s.maps[b];if(g.step){let _=e.steps[b].invert(e.docs[b]),C=g.selection&&g.selection.map(s.slice(c+1,b));C&&a++,r.push(new lc(x,_,C))}else r.push(new lc(x))},i);let f=[];for(let g=t;g<o;g++)f.push(new lc(s.maps[g]));let d=this.items.slice(0,i).append(f).append(r),m=new ml(d,a);return m.emptyItemCount()>I1e&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(t.slice(r)),f=c&&c.getMap();if(r--,f&&t.appendMap(f,r),c){let d=o.selection&&o.selection.map(t.slice(r));d&&s++;let m=new lc(f.invert(),c,d),g,b=i.length-1;(g=i.length&&i[b].merge(m))?i[b]=g:i.push(m)}}else o.map&&r--},this.items.length,0),new ml(Ni.from(i.reverse()),s)}}ml.empty=new ml(Ni.empty,0);function O1e(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class lc{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new lc(t.getMap().invert(),t,this.selection)}}}class nd{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const N1e=20;function P1e(n,e,t,r){let i=t.getMeta(Wp),s;if(i)return i.historyState;t.getMeta(B1e)&&(n=new nd(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(Wp))return o.getMeta(Wp).redo?new nd(n.done.addTransform(t,void 0,r,KE(e)),n.undone,rB(t.mapping.maps),n.prevTime,n.prevComposition):new nd(n.done,n.undone.addTransform(t,void 0,r,KE(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),c=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!L1e(t,n.prevRanges)),f=o?Ak(n.prevRanges,t.mapping):rB(t.mapping.maps);return new nd(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,KE(e)),ml.empty,f,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new nd(n.done.rebased(t,s),n.undone.rebased(t,s),Ak(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new nd(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Ak(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function L1e(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function rB(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function Ak(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function V1e(n,e,t){let r=KE(e),i=Wp.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new nd(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Wp,{redo:t,historyState:c})}let Rk=!1,iB=null;function KE(n){let e=n.plugins;if(iB!=e){Rk=!1,iB=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Rk=!0;break}}return Rk}const Wp=new ei("history"),B1e=new ei("closeHistory");function z1e(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new xr({key:Wp,state:{init(){return new nd(ml.empty,ml.empty,null,0,-1)},apply(e,t,r){return P1e(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?E8:r=="historyRedo"?_8:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function S8(n,e){return(t,r)=>{let i=Wp.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=V1e(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const E8=S8(!1,!0),_8=S8(!0,!0),j1e=Zr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>E8(n,e),redo:()=>({state:n,dispatch:e})=>_8(n,e)}},addProseMirrorPlugins(){return[z1e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),U1e=ns.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",zn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!Q0e(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Q$(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:f}=o.selection,d=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(at.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(Qe.create(o.doc,f.pos)):o.setSelection(at.create(o.doc,f.pos));else{const m=(c=f.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();m&&(o.insert(d,m),o.setSelection(at.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[X0e({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),F1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,H1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,$1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,q1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,W1e=_o.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[am({find:F1e,type:this.type}),am({find:$1e,type:this.type})]},addPasteRules(){return[Fd({find:H1e,type:this.type}),Fd({find:q1e,type:this.type})]}}),G1e="listItem",sB="textStyle",oB=/^(\d+)\.\s$/,K1e=ns.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",zn(this.options.HTMLAttributes,t),0]:["ol",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(G1e,this.editor.getAttributes(sB)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=ev({find:oB,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=ev({find:oB,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sB)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),Y1e=ns.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),X1e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Q1e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,J1e=_o.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[am({find:X1e,type:this.type})]},addPasteRules(){return[Fd({find:Q1e,type:this.type})]}}),Z1e=ns.create({name:"text",group:"inline"}),exe=Zr.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(l1e.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(r1e.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(u1e.configure(this.options.bulletList)),this.options.code!==!1&&n.push(h1e.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(g1e.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(y1e.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(w1e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(R1e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(k1e.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(M1e.configure(this.options.heading)),this.options.history!==!1&&n.push(j1e.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(U1e.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(W1e.configure(this.options.italic)),this.options.listItem!==!1&&n.push(AD.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(K1e.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(Y1e.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(J1e.configure(this.options.strike)),this.options.text!==!1&&n.push(Z1e.configure(this.options.text)),n}}),txe=_o.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),nxe=/^\s*(\[([( |x])?\])\s$/,rxe=ns.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",zn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div");return s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",f=>f.preventDefault()),a.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=f.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const g=t();if(typeof g!="number")return!1;const b=m.doc.nodeAt(g);return m.setNodeMarkup(g,void 0,{...b==null?void 0:b.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,d])=>{i.setAttribute(f,d)}),i.dataset.checked=n.attrs.checked,a.checked=n.attrs.checked,s.append(a,o),i.append(s,c),Object.entries(e).forEach(([f,d])=>{i.setAttribute(f,d)}),{dom:i,contentDOM:c,update:f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,a.checked=f.attrs.checked,!0)}}},addInputRules(){return[ev({find:nxe,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),ixe=ns.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",zn(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),sxe=_o.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(n){return n!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sub",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setSubscript:()=>({commands:n})=>n.setMark(this.name),toggleSubscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSubscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),oxe=_o.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(n){return n!=="super"?!1:null}}]},renderHTML({HTMLAttributes:n}){return["sup",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setSuperscript:()=>({commands:n})=>n.setMark(this.name),toggleSuperscript:()=>({commands:n})=>n.toggleMark(this.name),unsetSuperscript:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),axe=Zr.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),lxe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,cxe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,uxe=_o.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[am({find:lxe,type:this.type})]},addPasteRules(){return[Fd({find:cxe,type:this.type})]}}),fxe=Zr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new xr({key:new ei("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((o,a)=>{const c=r>=a&&r<=a+o.nodeSize,f=!o.isLeaf&&BC(o);if((c||!this.options.showOnlyCurrent)&&f){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const m=Ii.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:c}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),pr.create(n,i)}}})]}});var OD,ND;if(typeof WeakMap<"u"){let n=new WeakMap;OD=e=>n.get(e),ND=(e,t)=>(n.set(e,t),t)}else{const n=[];let t=0;OD=r=>{for(let i=0;i<n.length;i+=2)if(n[i]==r)return n[i+1]},ND=(r,i)=>(t==10&&(t=0),n[t++]=r,n[t++]=i)}var Ur=class{constructor(n,e,t,r){this.width=n,this.height=e,this.map=t,this.problems=r}findCell(n){for(let e=0;e<this.map.length;e++){const t=this.map[e];if(t!=n)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==t;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==t;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let e=0;e<this.map.length;e++)if(this.map[e]==n)return e%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,e,t){const{left:r,right:i,top:s,bottom:o}=this.findCell(n);return e=="horiz"?(t<0?r==0:i==this.width)?null:this.map[s*this.width+(t<0?r-1:i)]:(t<0?s==0:o==this.height)?null:this.map[r+this.width*(t<0?s-1:o)]}rectBetween(n,e){const{left:t,right:r,top:i,bottom:s}=this.findCell(n),{left:o,right:a,top:c,bottom:f}=this.findCell(e);return{left:Math.min(t,o),top:Math.min(i,c),right:Math.max(r,a),bottom:Math.max(s,f)}}cellsInRect(n){const e=[],t={};for(let r=n.top;r<n.bottom;r++)for(let i=n.left;i<n.right;i++){const s=r*this.width+i,o=this.map[s];t[o]||(t[o]=!0,!(i==n.left&&i&&this.map[s-1]==o||r==n.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(n,e,t){for(let r=0,i=0;;r++){const s=i+t.child(r).nodeSize;if(r==n){let o=e+n*this.width;const a=(n+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(n){return OD(n)||ND(n,dxe(n))}};function dxe(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const e=hxe(n),t=n.childCount,r=[];let i=0,s=null;const o=[];for(let f=0,d=e*t;f<d;f++)r[f]=0;for(let f=0,d=0;f<t;f++){const m=n.child(f);d++;for(let x=0;;x++){for(;i<r.length&&r[i]!=0;)i++;if(x==m.childCount)break;const _=m.child(x),{colspan:C,rowspan:k,colwidth:N}=_.attrs;for(let z=0;z<k;z++){if(z+f>=t){(s||(s=[])).push({type:"overlong_rowspan",pos:d,n:k-z});break}const P=i+z*e;for(let H=0;H<C;H++){r[P+H]==0?r[P+H]=d:(s||(s=[])).push({type:"collision",row:f,pos:d,n:C-H});const U=N&&N[H];if(U){const O=(P+H)%e*2,D=o[O];D==null||D!=U&&o[O+1]==1?(o[O]=U,o[O+1]=1):D==U&&o[O+1]++}}}i+=C,d+=_.nodeSize}const g=(f+1)*e;let b=0;for(;i<g;)r[i++]==0&&b++;b&&(s||(s=[])).push({type:"missing",row:f,n:b}),d++}(e===0||t===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new Ur(e,t,r,s);let c=!1;for(let f=0;!c&&f<o.length;f+=2)o[f]!=null&&o[f+1]<t&&(c=!0);return c&&pxe(a,o,n),a}function hxe(n){let e=-1,t=!1;for(let r=0;r<n.childCount;r++){const i=n.child(r);let s=0;if(t)for(let o=0;o<r;o++){const a=n.child(o);for(let c=0;c<a.childCount;c++){const f=a.child(c);o+f.attrs.rowspan>r&&(s+=f.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(t=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function pxe(n,e,t){n.problems||(n.problems=[]);const r={};for(let i=0;i<n.map.length;i++){const s=n.map[i];if(r[s])continue;r[s]=!0;const o=t.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const c=o.attrs;for(let f=0;f<c.colspan;f++){const d=(i+f)%n.width,m=e[d*2];m!=null&&(!c.colwidth||c.colwidth[f]!=m)&&((a||(a=mxe(c)))[f]=m)}a&&n.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function mxe(n){if(n.colwidth)return n.colwidth.slice();const e=[];for(let t=0;t<n.colspan;t++)e.push(0);return e}function Rs(n){let e=n.cached.tableNodeTypes;if(!e){e=n.cached.tableNodeTypes={};for(const t in n.nodes){const r=n.nodes[t],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var cd=new ei("selectingCells");function Rv(n){for(let e=n.depth-1;e>0;e--)if(n.node(e).type.spec.tableRole=="row")return n.node(0).resolve(n.before(e+1));return null}function gxe(n){for(let e=n.depth;e>0;e--){const t=n.node(e).type.spec.tableRole;if(t==="cell"||t==="header_cell")return n.node(e)}return null}function Al(n){const e=n.selection.$head;for(let t=e.depth;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return!0;return!1}function UC(n){const e=n.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const t=Rv(e.$head)||yxe(e.$head);if(t)return t;throw new RangeError(`No cell found around position ${e.head}`)}function yxe(n){for(let e=n.nodeAfter,t=n.pos;e;e=e.firstChild,t++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t)}for(let e=n.nodeBefore,t=n.pos;e;e=e.lastChild,t--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(t-e.nodeSize)}}function PD(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function vxe(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function sN(n,e){return n.depth==e.depth&&n.pos>=e.start(-1)&&n.pos<=e.end(-1)}function T8(n,e,t){const r=n.node(-1),i=Ur.get(r),s=n.start(-1),o=i.nextCell(n.pos-s,e,t);return o==null?null:n.node(0).resolve(s+o)}function cm(n,e,t=1){const r={...n,colspan:n.colspan-t};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,t),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function C8(n,e,t=1){const r={...n,colspan:n.colspan+t};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<t;i++)r.colwidth.splice(e,0,0)}return r}function bxe(n,e,t){const r=Rs(e.type.schema).header_cell;for(let i=0;i<n.height;i++)if(e.nodeAt(n.map[t+i*n.width]).type!=r)return!1;return!0}var cr=class Cu extends gt{constructor(e,t=e){const r=e.node(-1),i=Ur.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,t.pos-s),a=e.node(0),c=i.cellsInRect(o).filter(d=>d!=t.pos-s);c.unshift(t.pos-s);const f=c.map(d=>{const m=r.nodeAt(d);if(!m)throw RangeError(`No cell with offset ${d} found`);const g=s+d+1;return new GH(a.resolve(g),a.resolve(g+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=e,this.$headCell=t}map(e,t){const r=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if(PD(r)&&PD(i)&&sN(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Cu.rowSelection(r,i):s&&this.isColSelection()?Cu.colSelection(r,i):new Cu(r,i)}return at.between(r,i)}content(){const e=this.$anchorCell.node(-1),t=Ur.get(e),r=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let c=i.top;c<i.bottom;c++){const f=[];for(let d=c*t.width+i.left,m=i.left;m<i.right;m++,d++){const g=t.map[d];if(s[g])continue;s[g]=!0;const b=t.findCell(g);let x=e.nodeAt(g);if(!x)throw RangeError(`No cell with offset ${g} found`);const _=i.left-b.left,C=b.right-i.right;if(_>0||C>0){let k=x.attrs;if(_>0&&(k=cm(k,0,_)),C>0&&(k=cm(k,k.colspan-C,C)),b.left<i.left){if(x=x.type.createAndFill(k),!x)throw RangeError(`Could not create cell with attrs ${JSON.stringify(k)}`)}else x=x.type.create(k,x.content)}if(b.top<i.top||b.bottom>i.bottom){const k={...x.attrs,rowspan:Math.min(b.bottom,i.bottom)-Math.max(b.top,i.top)};b.top<i.top?x=x.type.createAndFill(k):x=x.type.create(k,x.content)}f.push(x)}o.push(e.child(c).copy(Oe.from(f)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new Ue(Oe.from(a),1,1)}replace(e,t=Ue.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:c}=i[o],f=e.mapping.slice(r);e.replace(f.map(a.pos),f.map(c.pos),o?Ue.empty:t)}const s=gt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new Ue(Oe.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),r=Ur.get(t),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(t.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const r=e.node(-1),i=Ur.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(t.pos-s),c=e.node(0);return o.top<=a.top?(o.top>0&&(e=c.resolve(s+i.map[o.left])),a.bottom<i.height&&(t=c.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(t=c.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=c.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new Cu(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=Ur.get(e),r=this.$anchorCell.start(-1),i=t.colCount(this.$anchorCell.pos-r),s=t.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==t.width}eq(e){return e instanceof Cu&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const r=e.node(-1),i=Ur.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(t.pos-s),c=e.node(0);return o.left<=a.left?(o.left>0&&(e=c.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(t=c.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(t=c.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=c.resolve(s+i.map[i.width*(o.top+1)-1]))),new Cu(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new Cu(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){return new Cu(e.resolve(t),e.resolve(r))}getBookmark(){return new wxe(this.$anchorCell.pos,this.$headCell.pos)}};cr.prototype.visible=!1;gt.jsonID("cell",cr);var wxe=class A8{constructor(e,t){this.anchor=e,this.head=t}map(e){return new A8(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),r=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&r.index()<r.parent.childCount&&sN(t,r)?new cr(t,r):gt.near(r,1)}};function xxe(n){if(!(n.selection instanceof cr))return null;const e=[];return n.selection.forEachCell((t,r)=>{e.push(Ii.node(r,r+t.nodeSize,{class:"selectedCell"}))}),pr.create(n.doc,e)}function Sxe({$from:n,$to:e}){if(n.pos==e.pos||n.pos<e.pos-6)return!1;let t=n.pos,r=e.pos,i=n.depth;for(;i>=0&&!(n.after(i+1)<n.end(i));i--,t++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return t==r&&/row|table/.test(n.node(i).type.spec.tableRole)}function Exe({$from:n,$to:e}){let t,r;for(let i=n.depth;i>0;i--){const s=n.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){t=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return t!==r&&e.parentOffset===0}function _xe(n,e,t){const r=(e||n).selection,i=(e||n).doc;let s,o;if(r instanceof Qe&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=cr.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=cr.rowSelection(a,a)}else if(!t){const a=Ur.get(r.node),c=r.from+1,f=c+a.map[a.width*a.height-1];s=cr.create(i,c+1,f)}}else r instanceof at&&Sxe(r)?s=at.create(i,r.from):r instanceof at&&Exe(r)&&(s=at.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=n.tr)).setSelection(s),e}var Txe=new ei("fix-tables");function R8(n,e,t,r){const i=n.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const c=e.child(o);for(let f=a,d=Math.min(i,o+3);f<d;f++)if(n.child(f)==c){a=f+1,t+=c.nodeSize;continue e}r(c,t),a<i&&n.child(a).sameMarkup(c)?R8(n.child(a),c,t+1,r):c.nodesBetween(0,c.content.size,r,t+1),t+=c.nodeSize}}function k8(n,e){let t;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(t=Cxe(n,i,s,t))};return e?e.doc!=n.doc&&R8(e.doc,n.doc,0,r):n.doc.descendants(r),t}function Cxe(n,e,t,r){const i=Ur.get(e);if(!i.problems)return r;r||(r=n.tr);const s=[];for(let c=0;c<i.height;c++)s.push(0);for(let c=0;c<i.problems.length;c++){const f=i.problems[c];if(f.type=="collision"){const d=e.nodeAt(f.pos);if(!d)continue;const m=d.attrs;for(let g=0;g<m.rowspan;g++)s[f.row+g]+=f.n;r.setNodeMarkup(r.mapping.map(t+1+f.pos),null,cm(m,m.colspan-f.n,f.n))}else if(f.type=="missing")s[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const d=e.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(t+1+f.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const d=e.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(t+1+f.pos),null,{...d.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const d=r.mapping.map(t);r.delete(d,d+e.nodeSize)}}let o,a;for(let c=0;c<s.length;c++)s[c]&&(o==null&&(o=c),a=c);for(let c=0,f=t+1;c<i.height;c++){const d=e.child(c),m=f+d.nodeSize,g=s[c];if(g>0){let b="cell";d.firstChild&&(b=d.firstChild.type.spec.tableRole);const x=[];for(let C=0;C<g;C++){const k=Rs(n.schema)[b].createAndFill();k&&x.push(k)}const _=(c==0||o==c-1)&&a==c?f+1:m-1;r.insert(r.mapping.map(_),x)}f=m}return r.setMeta(Txe,{fixTables:!0})}function Vc(n){const e=n.selection,t=UC(n),r=t.node(-1),i=t.start(-1),s=Ur.get(r);return{...e instanceof cr?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(t.pos-i),tableStart:i,map:s,table:r}}function M8(n,{map:e,tableStart:t,table:r},i){let s=i>0?-1:0;bxe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const c=e.map[a],f=r.nodeAt(c);n.setNodeMarkup(n.mapping.map(t+c),null,C8(f.attrs,i-e.colCount(c))),o+=f.attrs.rowspan-1}else{const c=s==null?Rs(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,f=e.positionAt(o,i,r);n.insert(n.mapping.map(t+f),c.createAndFill())}}return n}function Axe(n,e){if(!Al(n))return!1;if(e){const t=Vc(n);e(M8(n.tr,t,t.left))}return!0}function Rxe(n,e){if(!Al(n))return!1;if(e){const t=Vc(n);e(M8(n.tr,t,t.right))}return!0}function kxe(n,{map:e,table:t,tableStart:r},i){const s=n.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,c=e.map[a],f=t.nodeAt(c),d=f.attrs;if(i>0&&e.map[a-1]==c||i<e.width-1&&e.map[a+1]==c)n.setNodeMarkup(n.mapping.slice(s).map(r+c),null,cm(d,i-e.colCount(c)));else{const m=n.mapping.slice(s).map(r+c);n.delete(m,m+f.nodeSize)}o+=d.rowspan}}function Mxe(n,e){if(!Al(n))return!1;if(e){const t=Vc(n),r=n.tr;if(t.left==0&&t.right==t.map.width)return!1;for(let i=t.right-1;kxe(r,t,i),i!=t.left;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw RangeError("No table found");t.table=s,t.map=Ur.get(s)}e(r)}return!0}function Dxe(n,e,t){var r;const i=Rs(e.type.schema).header_cell;for(let s=0;s<n.width;s++)if(((r=e.nodeAt(n.map[s+t*n.width]))==null?void 0:r.type)!=i)return!1;return!0}function D8(n,{map:e,tableStart:t,table:r},i){var s;let o=t;for(let f=0;f<i;f++)o+=r.child(f).nodeSize;const a=[];let c=i>0?-1:0;Dxe(e,r,i+c)&&(c=i==0||i==e.height?null:0);for(let f=0,d=e.width*i;f<e.width;f++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){const m=e.map[d],g=r.nodeAt(m).attrs;n.setNodeMarkup(t+m,null,{...g,rowspan:g.rowspan+1}),f+=g.colspan-1}else{const m=c==null?Rs(r.type.schema).cell:(s=r.nodeAt(e.map[d+c*e.width]))==null?void 0:s.type,g=m==null?void 0:m.createAndFill();g&&a.push(g)}return n.insert(o,Rs(r.type.schema).row.create(null,a)),n}function Ixe(n,e){if(!Al(n))return!1;if(e){const t=Vc(n);e(D8(n.tr,t,t.top))}return!0}function Oxe(n,e){if(!Al(n))return!1;if(e){const t=Vc(n);e(D8(n.tr,t,t.bottom))}return!0}function Nxe(n,{map:e,table:t,tableStart:r},i){let s=0;for(let f=0;f<i;f++)s+=t.child(f).nodeSize;const o=s+t.child(i).nodeSize,a=n.mapping.maps.length;n.delete(s+r,o+r);const c=new Set;for(let f=0,d=i*e.width;f<e.width;f++,d++){const m=e.map[d];if(!c.has(m)){if(c.add(m),i>0&&m==e.map[d-e.width]){const g=t.nodeAt(m).attrs;n.setNodeMarkup(n.mapping.slice(a).map(m+r),null,{...g,rowspan:g.rowspan-1}),f+=g.colspan-1}else if(i<e.height&&m==e.map[d+e.width]){const g=t.nodeAt(m),b=g.attrs,x=g.type.create({...b,rowspan:g.attrs.rowspan-1},g.content),_=e.positionAt(i+1,f,t);n.insert(n.mapping.slice(a).map(r+_),x),f+=b.colspan-1}}}}function Pxe(n,e){if(!Al(n))return!1;if(e){const t=Vc(n),r=n.tr;if(t.top==0&&t.bottom==t.map.height)return!1;for(let i=t.bottom-1;Nxe(r,t,i),i!=t.top;i--){const s=t.tableStart?r.doc.nodeAt(t.tableStart-1):r.doc;if(!s)throw RangeError("No table found");t.table=s,t.map=Ur.get(t.table)}e(r)}return!0}function aB(n){const e=n.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Lxe({width:n,height:e,map:t},r){let i=r.top*n+r.left,s=i,o=(r.bottom-1)*n+r.left,a=i+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&t[s]==t[s-1]||r.right<n&&t[a]==t[a+1])return!0;s+=n,a+=n}for(let c=r.left;c<r.right;c++){if(r.top>0&&t[i]==t[i-n]||r.bottom<e&&t[o]==t[o+n])return!0;i++,o++}return!1}function lB(n,e){const t=n.selection;if(!(t instanceof cr)||t.$anchorCell.pos==t.$headCell.pos)return!1;const r=Vc(n),{map:i}=r;if(Lxe(i,r))return!1;if(e){const s=n.tr,o={};let a=Oe.empty,c,f;for(let d=r.top;d<r.bottom;d++)for(let m=r.left;m<r.right;m++){const g=i.map[d*i.width+m],b=r.table.nodeAt(g);if(!(o[g]||!b))if(o[g]=!0,c==null)c=g,f=b;else{aB(b)||(a=a.append(b.content));const x=s.mapping.map(g+r.tableStart);s.delete(x,x+b.nodeSize)}}if(c==null||f==null)return!0;if(s.setNodeMarkup(c+r.tableStart,null,{...C8(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const d=c+1+f.content.size,m=aB(f)?c+1:d;s.replaceWith(m+r.tableStart,d+r.tableStart,a)}s.setSelection(new cr(s.doc.resolve(c+r.tableStart))),e(s)}return!0}function cB(n,e){const t=Rs(n.schema);return Vxe(({node:r})=>t[r.type.spec.tableRole])(n,e)}function Vxe(n){return(e,t)=>{var r;const i=e.selection;let s,o;if(i instanceof cr){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=gxe(i.$from),!s)return!1;o=(r=Rv(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(t){let a=s.attrs;const c=[],f=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const d=Vc(e),m=e.tr;for(let b=0;b<d.right-d.left;b++)c.push(f?{...a,colwidth:f&&f[b]?[f[b]]:null}:a);let g;for(let b=d.top;b<d.bottom;b++){let x=d.map.positionAt(b,d.left,d.table);b==d.top&&(x+=s.nodeSize);for(let _=d.left,C=0;_<d.right;_++,C++)_==d.left&&b==d.top||m.insert(g=m.mapping.map(x+d.tableStart,1),n({node:s,row:b,col:_}).createAndFill(c[C]))}m.setNodeMarkup(o,n({node:s,row:d.top,col:d.left}),c[0]),i instanceof cr&&m.setSelection(new cr(m.doc.resolve(i.$anchorCell.pos),g?m.doc.resolve(g):void 0)),t(m)}return!0}}function Bxe(n,e){return function(t,r){if(!Al(t))return!1;const i=UC(t);if(i.nodeAfter.attrs[n]===e)return!1;if(r){const s=t.tr;t.selection instanceof cr?t.selection.forEachCell((o,a)=>{o.attrs[n]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[n]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[n]:e}),r(s)}return!0}}function zxe(n){return function(e,t){if(!Al(e))return!1;if(t){const r=Rs(e.schema),i=Vc(e),s=e.tr,o=i.map.cellsInRect(n=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:n=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(c=>i.table.nodeAt(c));for(let c=0;c<o.length;c++)a[c].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[c],r.cell,a[c].attrs);if(s.steps.length==0)for(let c=0;c<o.length;c++)s.setNodeMarkup(i.tableStart+o[c],r.header_cell,a[c].attrs);t(s)}return!0}}function uB(n,e,t){const r=e.map.cellsInRect({left:0,top:0,right:n=="row"?e.map.width:1,bottom:n=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==t.header_cell)return!1}return!0}function Uw(n,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?zxe(n):function(t,r){if(!Al(t))return!1;if(r){const i=Rs(t.schema),s=Vc(t),o=t.tr,a=uB("row",s,i),c=uB("column",s,i),d=(n==="column"?a:n==="row"?c:!1)?1:0,m=n=="column"?{left:0,top:d,right:1,bottom:s.map.height}:n=="row"?{left:d,top:0,right:s.map.width,bottom:1}:s,g=n=="column"?c?i.cell:i.header_cell:n=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(m).forEach(b=>{const x=b+s.tableStart,_=o.doc.nodeAt(x);_&&o.setNodeMarkup(x,g,_.attrs)}),r(o)}return!0}}Uw("row",{useDeprecatedLogic:!0});Uw("column",{useDeprecatedLogic:!0});var jxe=Uw("cell",{useDeprecatedLogic:!0});function Uxe(n,e){if(e<0){const t=n.nodeBefore;if(t)return n.pos-t.nodeSize;for(let r=n.index(-1)-1,i=n.before();r>=0;r--){const s=n.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const t=n.node(-1);for(let r=n.indexAfter(-1),i=n.after();r<t.childCount;r++){const s=t.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function fB(n){return function(e,t){if(!Al(e))return!1;const r=Uxe(UC(e),n);if(r==null)return!1;if(t){const i=e.doc.resolve(r);t(e.tr.setSelection(at.between(i,vxe(i))).scrollIntoView())}return!0}}function Fxe(n,e){const t=n.selection.$anchor;for(let r=t.depth;r>0;r--)if(t.node(r).type.spec.tableRole=="table")return e&&e(n.tr.delete(t.before(r),t.after(r)).scrollIntoView()),!0;return!1}function cE(n,e){const t=n.selection;if(!(t instanceof cr))return!1;if(e){const r=n.tr,i=Rs(n.schema).cell.createAndFill().content;t.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new Ue(i,0,0))}),r.docChanged&&e(r)}return!0}function Hxe(n){if(!n.size)return null;let{content:e,openStart:t,openEnd:r}=n;for(;e.childCount==1&&(t>0&&r>0||e.child(0).type.spec.tableRole=="table");)t--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let c=0;c<e.childCount;c++){let f=e.child(c).content;const d=c?0:Math.max(0,t-1),m=c<e.childCount-1?0:Math.max(0,r-1);(d||m)&&(f=LD(Rs(o).row,new Ue(f,d,m)).content),a.push(f)}else if(s=="cell"||s=="header_cell")a.push(t||r?LD(Rs(o).row,new Ue(e,t,r)).content:e);else return null;return $xe(o,a)}function $xe(n,e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:c}=s.child(o).attrs;for(let f=i;f<i+a;f++)t[f]=(t[f]||0)+c}}let r=0;for(let i=0;i<t.length;i++)r=Math.max(r,t[i]);for(let i=0;i<t.length;i++)if(i>=e.length&&e.push(Oe.empty),t[i]<r){const s=Rs(n).cell.createAndFill(),o=[];for(let a=t[i];a<r;a++)o.push(s);e[i]=e[i].append(Oe.from(o))}return{height:e.length,width:r,rows:e}}function LD(n,e){const t=n.createAndFill();return new S2(t).replace(0,t.content.size,e).doc}function qxe({width:n,height:e,rows:t},r,i){if(n!=r){const s=[],o=[];for(let a=0;a<t.length;a++){const c=t[a],f=[];for(let d=s[a]||0,m=0;d<r;m++){let g=c.child(m%c.childCount);d+g.attrs.colspan>r&&(g=g.type.createChecked(cm(g.attrs,g.attrs.colspan,d+g.attrs.colspan-r),g.content)),f.push(g),d+=g.attrs.colspan;for(let b=1;b<g.attrs.rowspan;b++)s[a+b]=(s[a+b]||0)+g.attrs.colspan}o.push(Oe.from(f))}t=o,n=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const c=[],f=t[a%e];for(let d=0;d<f.childCount;d++){let m=f.child(d);o+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),c.push(m)}s.push(Oe.from(c))}t=s,e=i}return{width:n,height:e,rows:t}}function Wxe(n,e,t,r,i,s,o){const a=n.doc.type.schema,c=Rs(a);let f,d;if(i>e.width)for(let m=0,g=0;m<e.height;m++){const b=t.child(m);g+=b.nodeSize;const x=[];let _;b.lastChild==null||b.lastChild.type==c.cell?_=f||(f=c.cell.createAndFill()):_=d||(d=c.header_cell.createAndFill());for(let C=e.width;C<i;C++)x.push(_);n.insert(n.mapping.slice(o).map(g-1+r),x)}if(s>e.height){const m=[];for(let x=0,_=(e.height-1)*e.width;x<Math.max(e.width,i);x++){const C=x>=e.width?!1:t.nodeAt(e.map[_+x]).type==c.header_cell;m.push(C?d||(d=c.header_cell.createAndFill()):f||(f=c.cell.createAndFill()))}const g=c.row.create(null,Oe.from(m)),b=[];for(let x=e.height;x<s;x++)b.push(g);n.insert(n.mapping.slice(o).map(r+t.nodeSize-2),b)}return!!(f||d)}function dB(n,e,t,r,i,s,o,a){if(o==0||o==e.height)return!1;let c=!1;for(let f=i;f<s;f++){const d=o*e.width+f,m=e.map[d];if(e.map[d-e.width]==m){c=!0;const g=t.nodeAt(m),{top:b,left:x}=e.findCell(m);n.setNodeMarkup(n.mapping.slice(a).map(m+r),null,{...g.attrs,rowspan:o-b}),n.insert(n.mapping.slice(a).map(e.positionAt(o,x,t)),g.type.createAndFill({...g.attrs,rowspan:b+g.attrs.rowspan-o})),f+=g.attrs.colspan-1}}return c}function hB(n,e,t,r,i,s,o,a){if(o==0||o==e.width)return!1;let c=!1;for(let f=i;f<s;f++){const d=f*e.width+o,m=e.map[d];if(e.map[d-1]==m){c=!0;const g=t.nodeAt(m),b=e.colCount(m),x=n.mapping.slice(a).map(m+r);n.setNodeMarkup(x,null,cm(g.attrs,o-b,g.attrs.colspan-(o-b))),n.insert(x+g.nodeSize,g.type.createAndFill(cm(g.attrs,0,o-b))),f+=g.attrs.rowspan-1}}return c}function pB(n,e,t,r,i){let s=t?n.doc.nodeAt(t-1):n.doc;if(!s)throw new Error("No table found");let o=Ur.get(s);const{top:a,left:c}=r,f=c+i.width,d=a+i.height,m=n.tr;let g=0;function b(){if(s=t?m.doc.nodeAt(t-1):m.doc,!s)throw new Error("No table found");o=Ur.get(s),g=m.mapping.maps.length}Wxe(m,o,s,t,f,d,g)&&b(),dB(m,o,s,t,c,f,a,g)&&b(),dB(m,o,s,t,c,f,d,g)&&b(),hB(m,o,s,t,a,d,c,g)&&b(),hB(m,o,s,t,a,d,f,g)&&b();for(let x=a;x<d;x++){const _=o.positionAt(x,c,s),C=o.positionAt(x,f,s);m.replace(m.mapping.slice(g).map(_+t),m.mapping.slice(g).map(C+t),new Ue(i.rows[x-a],0,0))}b(),m.setSelection(new cr(m.doc.resolve(t+o.positionAt(a,c,s)),m.doc.resolve(t+o.positionAt(d-1,f-1,s)))),e(m)}var Gxe=P2({ArrowLeft:uE("horiz",-1),ArrowRight:uE("horiz",1),ArrowUp:uE("vert",-1),ArrowDown:uE("vert",1),"Shift-ArrowLeft":fE("horiz",-1),"Shift-ArrowRight":fE("horiz",1),"Shift-ArrowUp":fE("vert",-1),"Shift-ArrowDown":fE("vert",1),Backspace:cE,"Mod-Backspace":cE,Delete:cE,"Mod-Delete":cE});function YE(n,e,t){return t.eq(n.selection)?!1:(e&&e(n.tr.setSelection(t).scrollIntoView()),!0)}function uE(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;if(s instanceof cr)return YE(t,r,gt.near(s.$headCell,e));if(n!="horiz"&&!s.empty)return!1;const o=I8(i,n,e);if(o==null)return!1;if(n=="horiz")return YE(t,r,gt.near(t.doc.resolve(s.head+e),e));{const a=t.doc.resolve(o),c=T8(a,n,e);let f;return c?f=gt.near(c,1):e<0?f=gt.near(t.doc.resolve(a.before(-1)),-1):f=gt.near(t.doc.resolve(a.after(-1)),1),YE(t,r,f)}}}function fE(n,e){return(t,r,i)=>{if(!i)return!1;const s=t.selection;let o;if(s instanceof cr)o=s;else{const c=I8(i,n,e);if(c==null)return!1;o=new cr(t.doc.resolve(c))}const a=T8(o.$headCell,n,e);return a?YE(t,r,new cr(o.$anchorCell,a)):!1}}function Kxe(n,e){const t=n.state.doc,r=Rv(t.resolve(e));return r?(n.dispatch(n.state.tr.setSelection(new cr(r))),!0):!1}function Yxe(n,e,t){if(!Al(n.state))return!1;let r=Hxe(t);const i=n.state.selection;if(i instanceof cr){r||(r={width:1,height:1,rows:[Oe.from(LD(Rs(n.state.schema).cell,t))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Ur.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=qxe(r,a.right-a.left,a.bottom-a.top),pB(n.state,n.dispatch,o,a,r),!0}else if(r){const s=UC(n.state),o=s.start(-1);return pB(n.state,n.dispatch,o,Ur.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Xxe(n,e){var t;if(e.ctrlKey||e.metaKey)return;const r=mB(n,e.target);let i;if(e.shiftKey&&n.state.selection instanceof cr)s(n.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=Rv(n.state.selection.$anchor))!=null&&((t=kk(n,e))==null?void 0:t.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(c,f){let d=kk(n,f);const m=cd.getState(n.state)==null;if(!d||!sN(c,d))if(m)d=c;else return;const g=new cr(c,d);if(m||!n.state.selection.eq(g)){const b=n.state.tr.setSelection(g);m&&b.setMeta(cd,c.pos),n.dispatch(b)}}function o(){n.root.removeEventListener("mouseup",o),n.root.removeEventListener("dragstart",o),n.root.removeEventListener("mousemove",a),cd.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(cd,-1))}function a(c){const f=c,d=cd.getState(n.state);let m;if(d!=null)m=n.state.doc.resolve(d);else if(mB(n,f.target)!=r&&(m=kk(n,e),!m))return o();m&&s(m,f)}n.root.addEventListener("mouseup",o),n.root.addEventListener("dragstart",o),n.root.addEventListener("mousemove",a)}function I8(n,e,t){if(!(n.state.selection instanceof at))return null;const{$head:r}=n.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((t<0?r.index(i):r.indexAfter(i))!=(t<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),c=e=="vert"?t>0?"down":"up":t>0?"right":"left";return n.endOfTextblock(c)?a:null}}return null}function mB(n,e){for(;e&&e!=n.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function kk(n,e){const t=n.posAtCoords({left:e.clientX,top:e.clientY});return t&&t?Rv(n.state.doc.resolve(t.pos)):null}var Qxe=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),VD(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,VD(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function VD(n,e,t,r,i,s){var o;let a=0,c=!0,f=e.firstChild;const d=n.firstChild;if(d){for(let m=0,g=0;m<d.childCount;m++){const{colspan:b,colwidth:x}=d.child(m).attrs;for(let _=0;_<b;_++,g++){const C=i==g?s:x&&x[_],k=C?C+"px":"";if(a+=C||r,C||(c=!1),f)f.style.width!=k&&(f.style.width=k),f=f.nextSibling;else{const N=document.createElement("col");N.style.width=k,e.appendChild(N)}}}for(;f;){const m=f.nextSibling;(o=f.parentNode)==null||o.removeChild(f),f=m}c?(t.style.width=a+"px",t.style.minWidth=""):(t.style.width="",t.style.minWidth=a+"px")}}var Go=new ei("tableColumnResizing");function Jxe({handleWidth:n=5,cellMinWidth:e=25,defaultCellMinWidth:t=100,View:r=Qxe,lastColumnResizable:i=!0}={}){const s=new xr({key:Go,state:{init(o,a){var c,f;const d=(f=(c=s.spec)==null?void 0:c.props)==null?void 0:f.nodeViews,m=Rs(a.schema).table.name;return r&&d&&(d[m]=(g,b)=>new r(g,t,b)),new Zxe(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=Go.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{eSe(o,a,n,i)},mouseleave:o=>{tSe(o)},mousedown:(o,a)=>{nSe(o,a,e,t)}},decorations:o=>{const a=Go.getState(o);if(a&&a.activeHandle>-1)return aSe(o,a.activeHandle)},nodeViews:{}}});return s}var Zxe=class XE{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,r=e.getMeta(Go);if(r&&r.setHandle!=null)return new XE(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new XE(t.activeHandle,r.setDragging);if(t.activeHandle>-1&&e.docChanged){let i=e.mapping.map(t.activeHandle,-1);return PD(e.doc.resolve(i))||(i=-1),new XE(i,t.dragging)}return t}};function eSe(n,e,t,r){if(!n.editable)return;const i=Go.getState(n.state);if(i&&!i.dragging){const s=iSe(e.target);let o=-1;if(s){const{left:a,right:c}=s.getBoundingClientRect();e.clientX-a<=t?o=gB(n,e,"left",t):c-e.clientX<=t&&(o=gB(n,e,"right",t))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=n.state.doc.resolve(o),c=a.node(-1),f=Ur.get(c),d=a.start(-1);if(f.colCount(a.pos-d)+a.nodeAfter.attrs.colspan-1==f.width-1)return}O8(n,o)}}}function tSe(n){if(!n.editable)return;const e=Go.getState(n.state);e&&e.activeHandle>-1&&!e.dragging&&O8(n,-1)}function nSe(n,e,t,r){var i;if(!n.editable)return!1;const s=(i=n.dom.ownerDocument.defaultView)!=null?i:window,o=Go.getState(n.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=n.state.doc.nodeAt(o.activeHandle),c=rSe(n,o.activeHandle,a.attrs);n.dispatch(n.state.tr.setMeta(Go,{setDragging:{startX:e.clientX,startWidth:c}}));function f(m){s.removeEventListener("mouseup",f),s.removeEventListener("mousemove",d);const g=Go.getState(n.state);g!=null&&g.dragging&&(sSe(n,g.activeHandle,yB(g.dragging,m,t)),n.dispatch(n.state.tr.setMeta(Go,{setDragging:null})))}function d(m){if(!m.which)return f(m);const g=Go.getState(n.state);if(g&&g.dragging){const b=yB(g.dragging,m,t);vB(n,g.activeHandle,b,r)}}return vB(n,o.activeHandle,c,r),s.addEventListener("mouseup",f),s.addEventListener("mousemove",d),e.preventDefault(),!0}function rSe(n,e,{colspan:t,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=n.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,c=t;if(r)for(let f=0;f<t;f++)r[f]&&(a-=r[f],c--);return a/c}function iSe(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function gB(n,e,t,r){const i=t=="right"?-r:r,s=n.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=Rv(n.state.doc.resolve(o));if(!a)return-1;if(t=="right")return a.pos;const c=Ur.get(a.node(-1)),f=a.start(-1),d=c.map.indexOf(a.pos-f);return d%c.width==0?-1:f+c.map[d-1]}function yB(n,e,t){const r=e.clientX-n.startX;return Math.max(t,n.startWidth+r)}function O8(n,e){n.dispatch(n.state.tr.setMeta(Go,{setHandle:e}))}function sSe(n,e,t){const r=n.state.doc.resolve(e),i=r.node(-1),s=Ur.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,c=n.state.tr;for(let f=0;f<s.height;f++){const d=f*s.width+a;if(f&&s.map[d]==s.map[d-s.width])continue;const m=s.map[d],g=i.nodeAt(m).attrs,b=g.colspan==1?0:a-s.colCount(m);if(g.colwidth&&g.colwidth[b]==t)continue;const x=g.colwidth?g.colwidth.slice():oSe(g.colspan);x[b]=t,c.setNodeMarkup(o+m,null,{...g,colwidth:x})}c.docChanged&&n.dispatch(c)}function vB(n,e,t,r){const i=n.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=Ur.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let c=n.domAtPos(i.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&VD(s,c.firstChild,c,r,a,t)}function oSe(n){return Array(n).fill(0)}function aSe(n,e){var t;const r=[],i=n.doc.resolve(e),s=i.node(-1);if(!s)return pr.empty;const o=Ur.get(s),a=i.start(-1),c=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let f=0;f<o.height;f++){const d=c+f*o.width;if((c==o.width-1||o.map[d]!=o.map[d+1])&&(f==0||o.map[d]!=o.map[d-o.width])){const m=o.map[d],g=a+m+s.nodeAt(m).nodeSize-1,b=document.createElement("div");b.className="column-resize-handle",(t=Go.getState(n))!=null&&t.dragging&&r.push(Ii.node(a+m,a+m+s.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),r.push(Ii.widget(g,b))}}return pr.create(n.doc,r)}function lSe({allowTableNodeSelection:n=!1}={}){return new xr({key:cd,state:{init(){return null},apply(e,t){const r=e.getMeta(cd);if(r!=null)return r==-1?null:r;if(t==null||!e.docChanged)return t;const{deleted:i,pos:s}=e.mapping.mapResult(t);return i?null:s}},props:{decorations:xxe,handleDOMEvents:{mousedown:Xxe},createSelectionBetween(e){return cd.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Kxe,handleKeyDown:Gxe,handlePaste:Yxe},appendTransaction(e,t,r){return _xe(r,k8(r,t),n)}})}function BD(n,e){return e?["width",`${Math.max(e,n)}px`]:["min-width",`${n}px`]}function bB(n,e,t,r,i,s){var o;let a=0,c=!0,f=e.firstChild;const d=n.firstChild;if(d!==null)for(let m=0,g=0;m<d.childCount;m+=1){const{colspan:b,colwidth:x}=d.child(m).attrs;for(let _=0;_<b;_+=1,g+=1){const C=i===g?s:x&&x[_],k=C?`${C}px`:"";if(a+=C||r,C||(c=!1),f){if(f.style.width!==k){const[N,z]=BD(r,C);f.style.setProperty(N,z)}f=f.nextSibling}else{const N=document.createElement("col"),[z,P]=BD(r,C);N.style.setProperty(z,P),e.appendChild(N)}}}for(;f;){const m=f.nextSibling;(o=f.parentNode)===null||o===void 0||o.removeChild(f),f=m}c?(t.style.width=`${a}px`,t.style.minWidth=""):(t.style.width="",t.style.minWidth=`${a}px`)}class cSe{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),bB(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,bB(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function uSe(n,e,t,r){let i=0,s=!0;const o=[],a=n.firstChild;if(!a)return{};for(let m=0,g=0;m<a.childCount;m+=1){const{colspan:b,colwidth:x}=a.child(m).attrs;for(let _=0;_<b;_+=1,g+=1){const C=t===g?r:x&&x[_];i+=C||e,C||(s=!1);const[k,N]=BD(e,C);o.push(["col",{style:`${k}: ${N}`}])}}const c=s?`${i}px`:"",f=s?"":`${i}px`;return{colgroup:["colgroup",{},...o],tableWidth:c,tableMinWidth:f}}function wB(n,e){return n.createAndFill()}function fSe(n){if(n.cached.tableNodeTypes)return n.cached.tableNodeTypes;const e={};return Object.keys(n.nodes).forEach(t=>{const r=n.nodes[t];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),n.cached.tableNodeTypes=e,e}function dSe(n,e,t,r,i){const s=fSe(n),o=[],a=[];for(let f=0;f<t;f+=1){const d=wB(s.cell);if(d&&a.push(d),r){const m=wB(s.header_cell);m&&o.push(m)}}const c=[];for(let f=0;f<e;f+=1)c.push(s.row.createChecked(null,r&&f===0?o:a));return s.table.createChecked(null,c)}function hSe(n){return n instanceof cr}const dE=({editor:n})=>{const{selection:e}=n.state;if(!hSe(e))return!1;let t=0;const r=Y$(e.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(t+=1)}),t===e.ranges.length?(n.commands.deleteTable(),!0):!1},pSe=ns.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:cSe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:n,HTMLAttributes:e}){const{colgroup:t,tableWidth:r,tableMinWidth:i}=uSe(n,this.options.cellMinWidth);return["table",zn(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),t,["tbody",0]]},addCommands(){return{insertTable:({rows:n=3,cols:e=3,withHeaderRow:t=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const o=dSe(s.schema,n,e,t);if(i){const a=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(at.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:n,dispatch:e})=>Axe(n,e),addColumnAfter:()=>({state:n,dispatch:e})=>Rxe(n,e),deleteColumn:()=>({state:n,dispatch:e})=>Mxe(n,e),addRowBefore:()=>({state:n,dispatch:e})=>Ixe(n,e),addRowAfter:()=>({state:n,dispatch:e})=>Oxe(n,e),deleteRow:()=>({state:n,dispatch:e})=>Pxe(n,e),deleteTable:()=>({state:n,dispatch:e})=>Fxe(n,e),mergeCells:()=>({state:n,dispatch:e})=>lB(n,e),splitCell:()=>({state:n,dispatch:e})=>cB(n,e),toggleHeaderColumn:()=>({state:n,dispatch:e})=>Uw("column")(n,e),toggleHeaderRow:()=>({state:n,dispatch:e})=>Uw("row")(n,e),toggleHeaderCell:()=>({state:n,dispatch:e})=>jxe(n,e),mergeOrSplit:()=>({state:n,dispatch:e})=>lB(n,e)?!0:cB(n,e),setCellAttribute:(n,e)=>({state:t,dispatch:r})=>Bxe(n,e)(t,r),goToNextCell:()=>({state:n,dispatch:e})=>fB(1)(n,e),goToPreviousCell:()=>({state:n,dispatch:e})=>fB(-1)(n,e),fixTables:()=>({state:n,dispatch:e})=>(e&&k8(n),!0),setCellSelection:n=>({tr:e,dispatch:t})=>{if(t){const r=cr.create(e.doc,n.anchorCell,n.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:dE,"Mod-Backspace":dE,Delete:dE,"Mod-Delete":dE}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Jxe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],lSe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(n){const e={name:n.name,options:n.options,storage:n.storage};return{tableRole:Wt(Xe(n,"tableRole",e))}}}),mSe=ns.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:n}){return["td",zn(this.options.HTMLAttributes,n),0]}}),gSe=ns.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const e=n.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:n}){return["th",zn(this.options.HTMLAttributes,n),0]}}),ySe=ns.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:n}){return["tr",zn(this.options.HTMLAttributes,n),0]}});function vSe(n){var e;const{char:t,allowSpaces:r,allowToIncludeChar:i,allowedPrefixes:s,startOfLine:o,$position:a}=n,c=r&&!i,f=J0e(t),d=new RegExp(`\\s${f}$`),m=o?"^":"",g=i?"":f,b=c?new RegExp(`${m}${f}.*?(?=\\s${g}|$)`,"gm"):new RegExp(`${m}(?:^)?${f}[^\\s${g}]*`,"gm"),x=((e=a.nodeBefore)===null||e===void 0?void 0:e.isText)&&a.nodeBefore.text;if(!x)return null;const _=a.pos-x.length,C=Array.from(x.matchAll(b)).pop();if(!C||C.input===void 0||C.index===void 0)return null;const k=C.input.slice(Math.max(0,C.index-1),C.index),N=new RegExp(`^[${s==null?void 0:s.join("")}\0]?$`).test(k);if(s!==null&&!N)return null;const z=_+C.index;let P=z+C[0].length;return c&&d.test(x.slice(P-1,P+1))&&(C[0]+=" ",P+=1),z<a.pos&&P>=a.pos?{range:{from:z,to:P},query:C[0].slice(t.length),text:C[0]}:null}const bSe=new ei("suggestion");function wSe({pluginKey:n=bSe,editor:e,char:t="@",allowSpaces:r=!1,allowToIncludeChar:i=!1,allowedPrefixes:s=[" "],startOfLine:o=!1,decorationTag:a="span",decorationClass:c="suggestion",command:f=()=>null,items:d=()=>[],render:m=()=>({}),allow:g=()=>!0,findSuggestionMatch:b=vSe}){let x;const _=m==null?void 0:m(),C=new xr({key:n,view(){return{update:async(k,N)=>{var z,P,H,U,O,D,V;const F=(z=this.key)===null||z===void 0?void 0:z.getState(N),W=(P=this.key)===null||P===void 0?void 0:P.getState(k.state),X=F.active&&W.active&&F.range.from!==W.range.from,G=!F.active&&W.active,Te=F.active&&!W.active,Ee=!G&&!Te&&F.query!==W.query,J=G||X&&Ee,se=Ee||X,te=Te||X&&Ee;if(!J&&!se&&!te)return;const we=te&&!J?F:W,Q=k.dom.querySelector(`[data-decoration-id="${we.decorationId}"]`);x={editor:e,range:we.range,query:we.query,text:we.text,items:[],command:ae=>f({editor:e,range:we.range,props:ae}),decorationNode:Q,clientRect:Q?()=>{var ae;const{decorationId:ve}=(ae=this.key)===null||ae===void 0?void 0:ae.getState(e.state),ne=k.dom.querySelector(`[data-decoration-id="${ve}"]`);return(ne==null?void 0:ne.getBoundingClientRect())||null}:null},J&&((H=_==null?void 0:_.onBeforeStart)===null||H===void 0||H.call(_,x)),se&&((U=_==null?void 0:_.onBeforeUpdate)===null||U===void 0||U.call(_,x)),(se||J)&&(x.items=await d({editor:e,query:we.query})),te&&((O=_==null?void 0:_.onExit)===null||O===void 0||O.call(_,x)),se&&((D=_==null?void 0:_.onUpdate)===null||D===void 0||D.call(_,x)),J&&((V=_==null?void 0:_.onStart)===null||V===void 0||V.call(_,x))},destroy:()=>{var k;x&&((k=_==null?void 0:_.onExit)===null||k===void 0||k.call(_,x))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(k,N,z,P){const{isEditable:H}=e,{composing:U}=e.view,{selection:O}=k,{empty:D,from:V}=O,F={...N};if(F.composing=U,H&&(D||e.view.composing)){(V<N.range.from||V>N.range.to)&&!U&&!N.composing&&(F.active=!1);const W=b({char:t,allowSpaces:r,allowToIncludeChar:i,allowedPrefixes:s,startOfLine:o,$position:O.$from}),X=`id_${Math.floor(Math.random()*4294967295)}`;W&&g({editor:e,state:P,range:W.range,isActive:N.active})?(F.active=!0,F.decorationId=N.decorationId?N.decorationId:X,F.range=W.range,F.query=W.query,F.text=W.text):F.active=!1}else F.active=!1;return F.active||(F.decorationId=null,F.range={from:0,to:0},F.query=null,F.text=null),F}},props:{handleKeyDown(k,N){var z;const{active:P,range:H}=C.getState(k.state);return P&&((z=_==null?void 0:_.onKeyDown)===null||z===void 0?void 0:z.call(_,{view:k,event:N,range:H}))||!1},decorations(k){const{active:N,range:z,decorationId:P}=C.getState(k);return N?pr.create(k.doc,[Ii.inline(z.from,z.to,{nodeName:a,class:c,"data-decoration-id":P})]):null}}});return C}const xSe=A.forwardRef(function({items:e,command:t},r){const[i,s]=A.useState(0),o=A.useRef(null);A.useImperativeHandle(r,()=>({onKeyDown:({event:d})=>{if(d.key==="ArrowUp"){const m=(i+c.length-1)%c.length;return s(m),a(d.key,m),!0}if(d.key==="ArrowDown"){const m=(i+1)%c.length;return s(m),a(d.key,m),!0}return d.key==="Enter"?(f(i),!0):!1}}));const a=(d,m)=>{var b;if(o.current===null)return;const g=(b=o.current)==null?void 0:b.querySelector(`[data-item-index="${m}"]`);if(g){const{top:x,bottom:_}=g.getBoundingClientRect(),{top:C,bottom:k}=o.current.getBoundingClientRect();d==="ArrowUp"&&x<C?g.scrollIntoView({block:"nearest"}):d==="ArrowDown"&&_>k&&g.scrollIntoView({block:"nearest"})}},c=A.useMemo(()=>Object.values(e).flat(),[e]),f=A.useCallback(d=>{const m=c[d];m&&t(m)},[t,c]);return A.useEffect(()=>{s(0)},[c]),A.useEffect(()=>{var d,m;(m=(d=o.current)==null?void 0:d.querySelector(`[data-item-index="${i}"]`))==null||m.scrollIntoView({block:"nearest"})},[i]),c.length>0?R.jsx("div",{className:Je("z-[9999] rounded-md border bg-popover  shadow-md"),children:R.jsx("div",{className:Je("w-[270px] p-1 max-h-[350px] overflow-y-auto"),ref:o,children:Object.entries(e).map(([d,m])=>R.jsxs("div",{children:[R.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:d}),m.map((g,b)=>R.jsxs("div",{"data-item-index":b,className:Je("relative flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",b===i&&"bg-accent text-accent-foreground"),onClick:()=>f(b),children:[R.jsx(g.icon,{}),g.title]},b))]},d))})}):R.jsx("div",{className:Je("z-50 rounded-md border bg-popover px-2 py-1.5 text-sm text-muted-foreground w-[270px]"),children:"No Results"})}),SSe=()=>{let n=null,e=null;return{onStart:t=>{n=new t1e(xSe,{props:t,editor:t.editor}),t.clientRect&&(e=Av("body",{getReferenceClientRect:t.clientRect,appendTo:()=>document.body,content:n.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate:t=>{n==null||n.updateProps(t),t.clientRect&&e&&e[0].setProps({getReferenceClientRect:t.clientRect})},onKeyDown:t=>{var r;return t.event.key==="Escape"?(e==null||e[0].hide(),!0):(r=n==null?void 0:n.ref)==null?void 0:r.onKeyDown(t)},onExit:()=>{e&&!e[0].state.isDestroyed&&e[0].destroy(),n&&n.destroy()}}},ESe={basic:[{title:"Text",description:"Just start typing with plain text.",searchTerms:["p","paragraph"],icon:cW,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).toggleNode("paragraph","paragraph").run()}},{title:"To-do list",description:"Track tasks with a to-do list.",searchTerms:["todo","task","list","check","checkbox"],icon:wW,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).toggleTaskList().run()}},{title:"Heading 1",description:"Big section heading.",searchTerms:["title","big","large"],icon:Iq,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).setNode("heading",{level:1}).run()}},{title:"Heading 2",description:"Medium section heading.",searchTerms:["subtitle","medium"],icon:Nq,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).setNode("heading",{level:2}).run()}},{title:"Heading 3",description:"Small section heading.",searchTerms:["subtitle","small"],icon:Lq,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).setNode("heading",{level:3}).run()}},{title:"Bullet list",description:"Create a simple bullet list.",searchTerms:["unordered","point","list"],icon:Wq,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).toggleBulletList().run()}},{title:"Numbered list",description:"Create a list with numbering.",searchTerms:["numbered","ordered","list"],icon:$q,command:({editor:n,range:e})=>{n.chain().focus().deleteRange(e).toggleOrderedList().run()}}]},_Se=({query:n})=>{const e=n.toLowerCase(),t={},r=(i,s)=>{let o=0;s=s.toLowerCase();for(const a of s)if(i[o]===a&&o++,o===i.length)return!0;return!1};for(const[i,s]of Object.entries(ESe)){const o=s.filter(a=>r(e,a.title)||a.description.toLowerCase().includes(e)||a.searchTerms&&a.searchTerms.some(c=>c.includes(e)));o.length&&(t[i]=o)}return t},TSe=new ei("slash-command"),CSe=Zr.create({name:"slash-command",addOptions(){return{suggestion:{char:"/",command:({editor:n,range:e,props:t})=>{t.command({editor:n,range:e,props:t})}}}},addProseMirrorPlugins(){return[wSe({pluginKey:TSe,...this.options.suggestion,editor:this.editor})]}}),ASe=CSe.configure({suggestion:{items:_Se,render:SSe}});function RSe(){try{return Rye}catch(n){return console.error("Error importing ProseMirror view:",n),null}}function kSe(n,e){if(n&&typeof n.serializeForClipboard=="function")return n.serializeForClipboard(e);const t=RSe();if(t&&typeof(t==null?void 0:t.__serializeForClipboard)=="function")return t.__serializeForClipboard(n,e);throw new Error("No supported clipboard serialization method found.")}function MSe(n){const e=n.getBoundingClientRect(),t=n.closest('[role="dialog"]');if(t&&window.getComputedStyle(t).transform!=="none"){const r=t.getBoundingClientRect();return{top:e.top-r.top,left:e.left-r.left,width:e.width}}return{top:e.top,left:e.left,width:e.width}}function xB(n,e){const t=["li","p:not(:first-child)","pre","blockquote","h1","h2","h3","h4","h5","h6",...e.customNodes.map(r=>`[data-type=${r}]`)].join(", ");return document.elementsFromPoint(n.x,n.y).find(r=>{var i,s;return((s=(i=r.parentElement)==null?void 0:i.matches)==null?void 0:s.call(i,".ProseMirror"))||r.matches(t)})}function DSe(n,e,t){var i;const r=n.getBoundingClientRect();return(i=e.posAtCoords({left:r.left+50+t.dragHandleWidth,top:r.top+1}))==null?void 0:i.inside}function SB(n,e){const t=e.state.doc.resolve(n);return t.depth>1?t.before(t.depth):n}function ISe(n){let e="";function t(a,c){if(c.focus(),!a.dataTransfer)return;const f=xB({x:a.clientX+50+n.dragHandleWidth,y:a.clientY},n);if(!(f instanceof Element))return;let d=DSe(f,c,n);if(d==null||d<0)return;d=SB(d,c);const{from:m,to:g}=c.state.selection,b=m-g,x=SB(m,c);let _=!1;const C=c.state.doc.resolve(x);if(C.node().type.name==="doc")_=!0;else{const H=Qe.create(c.state.doc,C.before());_=!(d+1>=H.$from.pos&&d<=H.$to.pos)}let k=c.state.selection;if(!_&&b!==0&&!(c.state.selection instanceof Qe)){const H=Qe.create(c.state.doc,g-1);k=at.create(c.state.doc,d,H.$to.pos)}else if(k=Qe.create(c.state.doc,d),k.node.type.isInline||k.node.type.name==="tableRow"){const H=c.state.doc.resolve(k.from);k=Qe.create(c.state.doc,H.before())}c.dispatch(c.state.tr.setSelection(k)),c.state.selection instanceof Qe&&c.state.selection.node.type.name==="listItem"&&(e=f.parentElement?f.parentElement.tagName:"");const N=c.state.selection.content(),{dom:z,text:P}=kSe(c,N);a.dataTransfer.clearData(),a.dataTransfer.setData("text/html",z.innerHTML),a.dataTransfer.setData("text/plain",P),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage(f,0,0),c.dragging={slice:N,move:a.ctrlKey}}let r=null;function i(){r&&r.classList.add("hide")}function s(){r&&r.classList.remove("hide")}function o(a){if(a.target instanceof Element){const c=a.relatedTarget;if((c==null?void 0:c.classList.contains("tiptap"))||(c==null?void 0:c.classList.contains("drag-handle")))return}i()}return new xr({key:new ei(n.pluginKey),view:a=>{var m,g,b,x;const c=n.dragHandleSelector?document.querySelector(n.dragHandleSelector):null;r=c??document.createElement("div"),r.draggable=!0,r.dataset.dragHandle="",r.classList.add("drag-handle");function f(_){t(_,a)}r.addEventListener("dragstart",f);function d(_){i();const C=window.scrollY;_.clientY<n.scrollTreshold?window.scrollTo({top:C-30,behavior:"smooth"}):window.innerHeight-_.clientY<n.scrollTreshold&&window.scrollTo({top:C+30,behavior:"smooth"})}return r.addEventListener("drag",d),i(),c||(g=(m=a==null?void 0:a.dom)==null?void 0:m.parentElement)==null||g.appendChild(r),(x=(b=a==null?void 0:a.dom)==null?void 0:b.parentElement)==null||x.addEventListener("mouseout",o),{destroy:()=>{var _,C,k;c||(_=r==null?void 0:r.remove)==null||_.call(r),r==null||r.removeEventListener("drag",d),r==null||r.removeEventListener("dragstart",f),r=null,(k=(C=a==null?void 0:a.dom)==null?void 0:C.parentElement)==null||k.removeEventListener("mouseout",o)}}},props:{handleDOMEvents:{mousemove:(a,c)=>{if(!a.editable)return;const f=xB({x:c.clientX+50+n.dragHandleWidth,y:c.clientY},n),d=f==null?void 0:f.closest(".not-draggable"),m=n.excludedTags.concat(["ol","ul"]).join(", ");if(!(f instanceof Element)||f.matches(m)||d){i();return}const g=window.getComputedStyle(f),b=parseInt(g.lineHeight,10),x=isNaN(b)?parseInt(g.fontSize)*1.2:b,_=parseInt(g.paddingTop,10),C=MSe(f);C.top+=(x-24)/2,C.top+=_,f.matches("ul:not([data-type=taskList]) li, ol li")&&(C.left-=n.dragHandleWidth),C.width=n.dragHandleWidth,r&&(r.style.left=`${C.left-C.width-8}px`,r.style.top=`${C.top-1}px`,s())},keydown:()=>{i()},mousewheel:()=>{i()},dragstart:a=>{a.dom.classList.add("dragging")},drop:(a,c)=>{var b;a.dom.classList.remove("dragging"),i();let f=null;const d=a.posAtCoords({left:c.clientX,top:c.clientY});if(!d||(a.state.selection instanceof Qe&&(f=a.state.selection.node),!f))return;const g=a.state.doc.resolve(d.pos).parent.type.name==="listItem";if(a.state.selection instanceof Qe&&a.state.selection.node.type.name==="listItem"&&!g&&e=="OL"){const x=(b=a.state.schema.nodes.orderedList)==null?void 0:b.createAndFill(null,f),_=new Ue(Oe.from(x),0,0);a.dragging={slice:_,move:c.ctrlKey}}},dragend:a=>{a.dom.classList.remove("dragging")}}}})}const OSe=Zr.create({name:"globalDragHandle",addOptions(){return{dragHandleWidth:20,scrollTreshold:100,excludedTags:[],customNodes:[]}},addProseMirrorPlugins(){return[ISe({pluginKey:"globalDragHandle",dragHandleWidth:this.options.dragHandleWidth,scrollTreshold:this.options.scrollTreshold,dragHandleSelector:this.options.dragHandleSelector,excludedTags:this.options.excludedTags,customNodes:this.options.customNodes})]}}),EB=[{name:"Red",textColor:"var(--text-color-red)",bgColor:"var(--text-background-color-red)"},{name:"Orange",textColor:"var(--text-color-orange)",bgColor:"var(--text-background-color-orange)"},{name:"Amber",textColor:"var(--text-color-amber)",bgColor:"var(--text-background-color-amber)"},{name:"Yellow",textColor:"var(--text-color-yellow)",bgColor:"var(--text-background-color-yellow)"},{name:"Lime",textColor:"var(--text-color-lime)",bgColor:"var(--text-background-color-lime)"},{name:"Green",textColor:"var(--text-color-green)",bgColor:"var(--text-background-color-green)"},{name:"Emerald",textColor:"var(--text-color-emerald)",bgColor:"var(--text-background-color-emerald)"},{name:"Teal",textColor:"var(--text-color-teal)",bgColor:"var(--text-background-color-teal)"},{name:"Cyan",textColor:"var(--text-color-cyan)",bgColor:"var(--text-background-color-cyan)"},{name:"Sky",textColor:"var(--text-color-sky)",bgColor:"var(--text-background-color-sky)"},{name:"Blue",textColor:"var(--text-color-blue)",bgColor:"var(--text-background-color-blue)"},{name:"Indigo",textColor:"var(--text-color-indigo)",bgColor:"var(--text-background-color-indigo)"},{name:"Violet",textColor:"var(--text-color-violet)",bgColor:"var(--text-background-color-violet)"},{name:"Purple",textColor:"var(--text-color-purple)",bgColor:"var(--text-background-color-purple)"},{name:"Fuchsia",textColor:"var(--text-color-fuchsia)",bgColor:"var(--text-background-color-fuchsia)"},{name:"Pink",textColor:"var(--text-color-pink)",bgColor:"var(--text-background-color-pink)"},{name:"Rose",textColor:"var(--text-color-rose)",bgColor:"var(--text-background-color-rose)"},{name:"Zinc",textColor:"var(--text-color-zinc)",bgColor:"var(--text-background-color-zinc)"}];var FC="Popover",[N8,$_e]=El(FC,[hv]),E1=hv(),[NSe,Qd]=N8(FC),P8=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=n,a=E1(e),c=A.useRef(null),[f,d]=A.useState(!1),[m,g]=uv({prop:r,defaultProp:i??!1,onChange:s,caller:FC});return R.jsx(dI,{...a,children:R.jsx(NSe,{scope:e,contentId:vd(),triggerRef:c,open:m,onOpenChange:g,onOpenToggle:A.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:f,onCustomAnchorAdd:A.useCallback(()=>d(!0),[]),onCustomAnchorRemove:A.useCallback(()=>d(!1),[]),modal:o,children:t})})};P8.displayName=FC;var L8="PopoverAnchor",PSe=A.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Qd(L8,t),s=E1(t),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return A.useEffect(()=>(o(),()=>a()),[o,a]),R.jsx(VT,{...s,...r,ref:e})});PSe.displayName=L8;var V8="PopoverTrigger",B8=A.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Qd(V8,t),s=E1(t),o=qn(e,i.triggerRef),a=R.jsx(xn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":H8(i.open),...r,ref:o,onClick:rt(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:R.jsx(VT,{asChild:!0,...s,children:a})});B8.displayName=V8;var oN="PopoverPortal",[LSe,VSe]=N8(oN,{forceMount:void 0}),z8=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,s=Qd(oN,e);return R.jsx(LSe,{scope:e,forceMount:t,children:R.jsx(ks,{present:t||s.open,children:R.jsx(Kw,{asChild:!0,container:i,children:r})})})};z8.displayName=oN;var sv="PopoverContent",j8=A.forwardRef((n,e)=>{const t=VSe(sv,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,s=Qd(sv,n.__scopePopover);return R.jsx(ks,{present:r||s.open,children:s.modal?R.jsx(zSe,{...i,ref:e}):R.jsx(jSe,{...i,ref:e})})});j8.displayName=sv;var BSe=Kp("PopoverContent.RemoveScroll"),zSe=A.forwardRef((n,e)=>{const t=Qd(sv,n.__scopePopover),r=A.useRef(null),i=qn(e,r),s=A.useRef(!1);return A.useEffect(()=>{const o=r.current;if(o)return mI(o)},[]),R.jsx(zT,{as:BSe,allowPinchZoom:!0,children:R.jsx(U8,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(n.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:rt(n.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,f=a.button===2||c;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:rt(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),jSe=A.forwardRef((n,e)=>{const t=Qd(sv,n.__scopePopover),r=A.useRef(!1),i=A.useRef(!1);return R.jsx(U8,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,f;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=t.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),U8=A.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:d,...m}=n,g=Qd(sv,t),b=E1(t);return nI(),R.jsx(OT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:R.jsx(Ww,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:R.jsx(hI,{"data-state":H8(g.open),role:"dialog",id:g.contentId,...b,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),F8="PopoverClose",USe=A.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Qd(F8,t);return R.jsx(xn.button,{type:"button",...r,ref:e,onClick:rt(n.onClick,()=>i.onOpenChange(!1))})});USe.displayName=F8;var FSe="PopoverArrow",HSe=A.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=E1(t);return R.jsx(pI,{...i,...r,ref:e})});HSe.displayName=FSe;function H8(n){return n?"open":"closed"}var $Se=P8,qSe=B8,WSe=z8,GSe=j8;function $8({...n}){return R.jsx($Se,{"data-slot":"popover",...n})}function q8({...n}){return R.jsx(qSe,{"data-slot":"popover-trigger",...n})}function W8({className:n,align:e="center",sideOffset:t=4,...r}){return R.jsx(WSe,{children:R.jsx(GSe,{"data-slot":"popover-content",align:e,sideOffset:t,className:Je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}const KSe=({initialUrl:n,onSetLink:e})=>{const[t,r]=A.useState(n||""),i=A.useCallback(a=>{r(a.target.value)},[]),s=A.useMemo(()=>/^(\S+):(\/\/)?\S+$/.test(t),[t]),o=A.useCallback(a=>{a.preventDefault(),s&&e(t)},[t,s,e]);return{url:t,setUrl:r,onChange:i,handleSubmit:o,isValidUrl:s}},G8=({onSetLink:n,initialUrl:e})=>{const{t}=wt,r=KSe({onSetLink:n,initialUrl:e});return R.jsx("form",{onSubmit:r.handleSubmit,children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(NQ,{placeholder:"Enter URL",value:r.url,onChange:r.onChange}),R.jsx(bd,{type:"submit",disabled:!r.isValidUrl,children:t("Save")})]})})},YSe=({editor:n,isOpen:e,setIsOpen:t,children:r})=>{const i=A.useCallback(s=>{t(!1),n.chain().focus().setLink({href:s}).run()},[n,t]);return R.jsxs($8,{open:e,children:[R.jsx(q8,{children:R.jsx("div",{onClick:()=>t(!e),children:r})}),R.jsx(W8,{className:"w-[350px] p-2 mt-2",children:R.jsx(G8,{onSetLink:i})})]})};function XSe({editor:n}){const[e,t]=A.useState(!1),r=({active:s})=>({className:Je("p-1 hover:bg-sidebar-accent rounded-md cursor-pointer",s&&"text-primary")}),i=()=>R.jsxs($8,{children:[R.jsx(q8,{children:R.jsx("div",{...r({}),children:R.jsx(sW,{className:"h-4 w-4"})})}),R.jsx(W8,{className:"p-0 mt-2 w-54",children:R.jsx(ww,{className:"h-64 w-full",children:R.jsxs("div",{className:"p-2 pb-6",children:[R.jsx("div",{className:"text-xs text-muted-foreground mb-3",children:"Color"}),R.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-fit",children:[EB.map(s=>R.jsxs(ub,{children:[R.jsx(db,{children:s.name}),R.jsx(fb,{children:R.jsx("div",{className:"h-8 w-8 flex justify-center items-center rounded-lg cursor-pointer hover:bg-accent",style:{color:s.textColor},onClick:()=>n.chain().focus().setColor(s.textColor).run(),children:"A"})})]},s.name)),R.jsxs(ub,{children:[R.jsx(db,{children:"Remove color"}),R.jsx(fb,{children:R.jsx("div",{className:"h-8 w-8 flex justify-center items-center rounded-lg cursor-pointer hover:bg-accent",onClick:()=>n.chain().focus().unsetColor().run(),children:"A"})})]})]}),R.jsx("div",{className:"text-xs text-muted-foreground mt-2 mb-3",children:"Highlight"}),R.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-fit",children:[EB.map(s=>R.jsxs(ub,{children:[R.jsx(db,{children:s.name}),R.jsx(fb,{children:R.jsx("div",{className:"h-8 w-8 flex justify-center items-center rounded-lg cursor-pointer",style:{backgroundColor:s.bgColor},onClick:()=>n.chain().focus().toggleHighlight({color:s.bgColor}).run(),children:"A"})})]},s.name)),R.jsxs(ub,{children:[R.jsx(db,{children:"Remove highlight"}),R.jsx(fb,{children:R.jsx("div",{className:"h-8 w-8 flex justify-center items-center rounded-lg cursor-pointer border border-input",onClick:()=>n.chain().focus().unsetHighlight().run(),children:"A"})})]})]})]})})})]});return R.jsx(w8,{editor:n,className:"tiptap-bubble-menu",tippyOptions:{duration:100},children:R.jsxs("div",{className:"bubble-menu flex items-center border border-input bg-sidebar z-50 px-1.5 py-1.5 gap-1 rounded-lg",children:[R.jsx("div",{...r({active:(n==null?void 0:n.isActive("bold"))||!1}),onClick:()=>n==null?void 0:n.chain().focus().toggleBold().run(),children:R.jsx(pq,{className:"h-4 w-4"})}),R.jsx("div",{...r({active:(n==null?void 0:n.isActive("italic"))||!1}),onClick:()=>n==null?void 0:n.chain().focus().toggleItalic().run(),children:R.jsx(jq,{className:"h-4 w-4"})}),R.jsx("div",{...r({active:(n==null?void 0:n.isActive("underline"))||!1}),onClick:()=>n==null?void 0:n.chain().focus().toggleUnderline().run(),children:R.jsx(IW,{className:"h-4 w-4"})}),R.jsx("div",{...r({active:(n==null?void 0:n.isActive("underline"))||!1}),onClick:()=>n==null?void 0:n.chain().focus().toggleStrike().run(),children:R.jsx(_W,{className:"h-4 w-4"})}),i(),R.jsx(YSe,{editor:n,isOpen:e,setIsOpen:s=>{t(s)},children:R.jsx("div",{...r({active:(n==null?void 0:n.isActive("link"))||!1}),children:R.jsx(Fq,{className:"h-4 w-4"})})})]})})}const QSe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",JSe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ov=(n,e)=>{for(const t in e)n[t]=e[t];return n},zD="numeric",jD="ascii",UD="alpha",Zb="asciinumeric",Cb="alphanumeric",FD="domain",K8="emoji",ZSe="scheme",eEe="slashscheme",Mk="whitespace";function tEe(n,e){return n in e||(e[n]=[]),e[n]}function Ip(n,e,t){e[zD]&&(e[Zb]=!0,e[Cb]=!0),e[jD]&&(e[Zb]=!0,e[UD]=!0),e[Zb]&&(e[Cb]=!0),e[UD]&&(e[Cb]=!0),e[Cb]&&(e[FD]=!0),e[K8]&&(e[FD]=!0);for(const r in e){const i=tEe(r,t);i.indexOf(n)<0&&i.push(n)}}function nEe(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function yo(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}yo.groups={};yo.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||yo.groups;let i;return e&&e.j?i=e:(i=new yo(e),t&&r&&Ip(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(n[o]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||yo.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let o,a=i.go(n);if(a?(o=new yo,ov(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new yo,s){if(r)if(o.t&&typeof o.t=="string"){const c=ov(nEe(o.t,r),t);Ip(s,c,r)}else t&&Ip(s,t,r);o.t=s}return i.j[n]=o,o}};const $t=(n,e,t,r,i)=>n.ta(e,t,r,i),Nr=(n,e,t,r,i)=>n.tr(e,t,r,i),_B=(n,e,t,r,i)=>n.ts(e,t,r,i),Be=(n,e,t,r,i)=>n.tt(e,t,r,i),Au="WORD",HD="UWORD",Y8="ASCIINUMERICAL",X8="ALPHANUMERICAL",Fw="LOCALHOST",$D="TLD",qD="UTLD",QE="SCHEME",ay="SLASH_SCHEME",aN="NUM",WD="WS",lN="NL",ew="OPENBRACE",tw="CLOSEBRACE",tT="OPENBRACKET",nT="CLOSEBRACKET",rT="OPENPAREN",iT="CLOSEPAREN",sT="OPENANGLEBRACKET",oT="CLOSEANGLEBRACKET",aT="FULLWIDTHLEFTPAREN",lT="FULLWIDTHRIGHTPAREN",cT="LEFTCORNERBRACKET",uT="RIGHTCORNERBRACKET",fT="LEFTWHITECORNERBRACKET",dT="RIGHTWHITECORNERBRACKET",hT="FULLWIDTHLESSTHAN",pT="FULLWIDTHGREATERTHAN",mT="AMPERSAND",gT="APOSTROPHE",yT="ASTERISK",rd="AT",vT="BACKSLASH",bT="BACKTICK",wT="CARET",ud="COLON",cN="COMMA",xT="DOLLAR",cc="DOT",ST="EQUALS",uN="EXCLAMATION",_a="HYPHEN",nw="PERCENT",ET="PIPE",_T="PLUS",TT="POUND",rw="QUERY",fN="QUOTE",Q8="FULLWIDTHMIDDLEDOT",dN="SEMI",uc="SLASH",iw="TILDE",CT="UNDERSCORE",J8="EMOJI",AT="SYM";var Z8=Object.freeze({__proto__:null,ALPHANUMERICAL:X8,AMPERSAND:mT,APOSTROPHE:gT,ASCIINUMERICAL:Y8,ASTERISK:yT,AT:rd,BACKSLASH:vT,BACKTICK:bT,CARET:wT,CLOSEANGLEBRACKET:oT,CLOSEBRACE:tw,CLOSEBRACKET:nT,CLOSEPAREN:iT,COLON:ud,COMMA:cN,DOLLAR:xT,DOT:cc,EMOJI:J8,EQUALS:ST,EXCLAMATION:uN,FULLWIDTHGREATERTHAN:pT,FULLWIDTHLEFTPAREN:aT,FULLWIDTHLESSTHAN:hT,FULLWIDTHMIDDLEDOT:Q8,FULLWIDTHRIGHTPAREN:lT,HYPHEN:_a,LEFTCORNERBRACKET:cT,LEFTWHITECORNERBRACKET:fT,LOCALHOST:Fw,NL:lN,NUM:aN,OPENANGLEBRACKET:sT,OPENBRACE:ew,OPENBRACKET:tT,OPENPAREN:rT,PERCENT:nw,PIPE:ET,PLUS:_T,POUND:TT,QUERY:rw,QUOTE:fN,RIGHTCORNERBRACKET:uT,RIGHTWHITECORNERBRACKET:dT,SCHEME:QE,SEMI:dN,SLASH:uc,SLASH_SCHEME:ay,SYM:AT,TILDE:iw,TLD:$D,UNDERSCORE:CT,UTLD:qD,UWORD:HD,WORD:Au,WS:WD});const _u=/[a-z]/,lb=new RegExp("\\p{L}","u"),Dk=new RegExp("\\p{Emoji}","u"),Tu=/\d/,Ik=/\s/,TB="\r",Ok=`
`,rEe="",iEe="",Nk="";let hE=null,pE=null;function sEe(n=[]){const e={};yo.groups=e;const t=new yo;hE==null&&(hE=CB(QSe)),pE==null&&(pE=CB(JSe)),Be(t,"'",gT),Be(t,"{",ew),Be(t,"}",tw),Be(t,"[",tT),Be(t,"]",nT),Be(t,"(",rT),Be(t,")",iT),Be(t,"<",sT),Be(t,">",oT),Be(t,"",aT),Be(t,"",lT),Be(t,"",cT),Be(t,"",uT),Be(t,"",fT),Be(t,"",dT),Be(t,"",hT),Be(t,"",pT),Be(t,"&",mT),Be(t,"*",yT),Be(t,"@",rd),Be(t,"`",bT),Be(t,"^",wT),Be(t,":",ud),Be(t,",",cN),Be(t,"$",xT),Be(t,".",cc),Be(t,"=",ST),Be(t,"!",uN),Be(t,"-",_a),Be(t,"%",nw),Be(t,"|",ET),Be(t,"+",_T),Be(t,"#",TT),Be(t,"?",rw),Be(t,'"',fN),Be(t,"/",uc),Be(t,";",dN),Be(t,"~",iw),Be(t,"_",CT),Be(t,"\\",vT),Be(t,"",Q8);const r=Nr(t,Tu,aN,{[zD]:!0});Nr(r,Tu,r);const i=Nr(r,_u,Y8,{[Zb]:!0}),s=Nr(r,lb,X8,{[Cb]:!0}),o=Nr(t,_u,Au,{[jD]:!0});Nr(o,Tu,i),Nr(o,_u,o),Nr(i,Tu,i),Nr(i,_u,i);const a=Nr(t,lb,HD,{[UD]:!0});Nr(a,_u),Nr(a,Tu,s),Nr(a,lb,a),Nr(s,Tu,s),Nr(s,_u),Nr(s,lb,s);const c=Be(t,Ok,lN,{[Mk]:!0}),f=Be(t,TB,WD,{[Mk]:!0}),d=Nr(t,Ik,WD,{[Mk]:!0});Be(t,Nk,d),Be(f,Ok,c),Be(f,Nk,d),Nr(f,Ik,d),Be(d,TB),Be(d,Ok),Nr(d,Ik,d),Be(d,Nk,d);const m=Nr(t,Dk,J8,{[K8]:!0});Be(m,"#"),Nr(m,Dk,m),Be(m,rEe,m);const g=Be(m,iEe);Be(g,"#"),Nr(g,Dk,m);const b=[[_u,o],[Tu,i]],x=[[_u,null],[lb,a],[Tu,s]];for(let _=0;_<hE.length;_++)Xf(t,hE[_],$D,Au,b);for(let _=0;_<pE.length;_++)Xf(t,pE[_],qD,HD,x);Ip($D,{tld:!0,ascii:!0},e),Ip(qD,{utld:!0,alpha:!0},e),Xf(t,"file",QE,Au,b),Xf(t,"mailto",QE,Au,b),Xf(t,"http",ay,Au,b),Xf(t,"https",ay,Au,b),Xf(t,"ftp",ay,Au,b),Xf(t,"ftps",ay,Au,b),Ip(QE,{scheme:!0,ascii:!0},e),Ip(ay,{slashscheme:!0,ascii:!0},e),n=n.sort((_,C)=>_[0]>C[0]?1:-1);for(let _=0;_<n.length;_++){const C=n[_][0],N=n[_][1]?{[ZSe]:!0}:{[eEe]:!0};C.indexOf("-")>=0?N[FD]=!0:_u.test(C)?Tu.test(C)?N[Zb]=!0:N[jD]=!0:N[zD]=!0,_B(t,C,C,N)}return _B(t,"localhost",Fw,{ascii:!0}),t.jd=new yo(AT),{start:t,tokens:ov({groups:e},Z8)}}function e7(n,e){const t=oEe(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=t.length,i=[];let s=0,o=0;for(;o<r;){let a=n,c=null,f=0,d=null,m=-1,g=-1;for(;o<r&&(c=a.go(t[o]));)a=c,a.accepts()?(m=0,g=0,d=a):m>=0&&(m+=t[o].length,g++),f+=t[o].length,s+=t[o].length,o++;s-=m,o-=g,f-=m,i.push({t:d.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function oEe(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,o=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(o),r+=o.length}return e}function Xf(n,e,t,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const c=e[a];n.j[c]?s=n.j[c]:(s=new yo(r),s.jr=i.slice(),n.j[c]=s),n=s}return s=new yo(t),s.jr=i.slice(),n.j[e[o-1]]=s,s}function CB(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(n.substring(r,r+s),10);o>0;o--)t.pop();r+=s}else t.push(n[r]),r++}return e}const Hw={defaultProtocol:"http",events:null,format:AB,formatHref:AB,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function hN(n,e=null){let t=ov({},Hw);n&&(t=ov(t,n instanceof hN?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}hN.prototype={o:Hw,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:Hw[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function AB(n){return n}function t7(n,e){this.t="token",this.v=n,this.tk=e}t7.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Hw.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),o={},a=n.get("className",t,e),c=n.get("target",t,e),f=n.get("rel",t,e),d=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return o.href=r,a&&(o.class=a),c&&(o.target=c),f&&(o.rel=f),d&&ov(o,d),{tagName:i,attributes:o,content:s,eventListeners:m}}};function HC(n,e){class t extends t7{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const RB=HC("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kB=HC("text"),aEe=HC("nl"),mE=HC("url",{isLink:!0,toHref(n=Hw.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Fw&&n[1].t===ud}}),Sa=n=>new yo(n);function lEe({groups:n}){const e=n.domain.concat([mT,yT,rd,vT,bT,wT,xT,ST,_a,aN,nw,ET,_T,TT,uc,AT,iw,CT]),t=[gT,ud,cN,cc,uN,nw,rw,fN,dN,sT,oT,ew,tw,nT,tT,rT,iT,aT,lT,cT,uT,fT,dT,hT,pT],r=[mT,gT,yT,vT,bT,wT,xT,ST,_a,ew,tw,nw,ET,_T,TT,rw,uc,AT,iw,CT],i=Sa(),s=Be(i,iw);$t(s,r,s),$t(s,n.domain,s);const o=Sa(),a=Sa(),c=Sa();$t(i,n.domain,o),$t(i,n.scheme,a),$t(i,n.slashscheme,c),$t(o,r,s),$t(o,n.domain,o);const f=Be(o,rd);Be(s,rd,f),Be(a,rd,f),Be(c,rd,f);const d=Be(s,cc);$t(d,r,s),$t(d,n.domain,s);const m=Sa();$t(f,n.domain,m),$t(m,n.domain,m);const g=Be(m,cc);$t(g,n.domain,m);const b=Sa(RB);$t(g,n.tld,b),$t(g,n.utld,b),Be(f,Fw,b);const x=Be(m,_a);Be(x,_a,x),$t(x,n.domain,m),$t(b,n.domain,m),Be(b,cc,g),Be(b,_a,x);const _=Be(b,ud);$t(_,n.numeric,RB);const C=Be(o,_a),k=Be(o,cc);Be(C,_a,C),$t(C,n.domain,o),$t(k,r,s),$t(k,n.domain,o);const N=Sa(mE);$t(k,n.tld,N),$t(k,n.utld,N),$t(N,n.domain,o),$t(N,r,s),Be(N,cc,k),Be(N,_a,C),Be(N,rd,f);const z=Be(N,ud),P=Sa(mE);$t(z,n.numeric,P);const H=Sa(mE),U=Sa();$t(H,e,H),$t(H,t,U),$t(U,e,H),$t(U,t,U),Be(N,uc,H),Be(P,uc,H);const O=Be(a,ud),D=Be(c,ud),V=Be(D,uc),F=Be(V,uc);$t(a,n.domain,o),Be(a,cc,k),Be(a,_a,C),$t(c,n.domain,o),Be(c,cc,k),Be(c,_a,C),$t(O,n.domain,H),Be(O,uc,H),Be(O,rw,H),$t(F,n.domain,H),$t(F,e,H),Be(F,uc,H);const W=[[ew,tw],[tT,nT],[rT,iT],[sT,oT],[aT,lT],[cT,uT],[fT,dT],[hT,pT]];for(let X=0;X<W.length;X++){const[G,Te]=W[X],Ee=Be(H,G);Be(U,G,Ee),Be(Ee,Te,H);const J=Sa(mE);$t(Ee,e,J);const se=Sa();$t(Ee,t),$t(J,e,J),$t(J,t,se),$t(se,e,J),$t(se,t,se),Be(J,Te,H),Be(se,Te,H)}return Be(i,Fw,N),Be(i,lN,aEe),{start:i,tokens:Z8}}function cEe(n,e,t){let r=t.length,i=0,s=[],o=[];for(;i<r;){let a=n,c=null,f=null,d=0,m=null,g=-1;for(;i<r&&!(c=a.go(t[i].t));)o.push(t[i++]);for(;i<r&&(f=c||a.go(t[i].t));)c=null,a=f,a.accepts()?(g=0,m=a):g>=0&&g++,i++,d++;if(g<0)i-=d,i<r&&(o.push(t[i]),i++);else{o.length>0&&(s.push(Pk(kB,e,o)),o=[]),i-=g,d-=g;const b=m.t,x=t.slice(i-d,i);s.push(Pk(b,e,x))}}return o.length>0&&s.push(Pk(kB,e,o)),s}function Pk(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const uEe=typeof console<"u"&&console&&console.warn||(()=>{}),fEe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",dr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function dEe(){return yo.groups={},dr.scanner=null,dr.parser=null,dr.tokenQueue=[],dr.pluginQueue=[],dr.customSchemes=[],dr.initialized=!1,dr}function MB(n,e=!1){if(dr.initialized&&uEe(`linkifyjs: already initialized - will not register custom scheme "${n}" ${fEe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);dr.customSchemes.push([n,e])}function hEe(){dr.scanner=sEe(dr.customSchemes);for(let n=0;n<dr.tokenQueue.length;n++)dr.tokenQueue[n][1]({scanner:dr.scanner});dr.parser=lEe(dr.scanner.tokens);for(let n=0;n<dr.pluginQueue.length;n++)dr.pluginQueue[n][1]({scanner:dr.scanner,parser:dr.parser});return dr.initialized=!0,dr}function pN(n){return dr.initialized||hEe(),cEe(dr.parser.start,n,e7(dr.scanner.start,n))}pN.scan=e7;function n7(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new hN(t),i=pN(n),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}function pEe(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function mEe(n){return new xr({key:new ei("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(f=>f.docChanged)&&!t.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=c0e(t.doc,[...e]);if(g0e(a).forEach(({newRange:f})=>{const d=f0e(r.doc,f,b=>b.isTextblock);let m,g;if(d.length>1?(m=d[0],g=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):d.length&&r.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(m=d[0],g=r.doc.textBetween(m.pos,f.to,void 0," ")),m&&g){const b=g.split(" ").filter(k=>k!=="");if(b.length<=0)return!1;const x=b[b.length-1],_=m.pos+g.lastIndexOf(x);if(!x)return!1;const C=pN(x).map(k=>k.toObject(n.defaultProtocol));if(!pEe(C))return!1;C.filter(k=>k.isLink).map(k=>({...k,from:_+k.start+1,to:_+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>n.validate(k.value)).filter(k=>n.shouldAutoLink(k.value)).forEach(k=>{G2(k.from,k.to,r.doc).some(N=>N.mark.type===n.type)||o.addMark(k.from,k.to,n.type.create({href:k.href}))})}}),!!o.steps.length)return o}})}function gEe(n){return new xr({key:new ei("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(g=>g.nodeName==="A"))return!1;const c=X$(e.state,n.type.name),f=r.target,d=(i=f==null?void 0:f.href)!==null&&i!==void 0?i:c.href,m=(s=f==null?void 0:f.target)!==null&&s!==void 0?s:c.target;return f&&d?(window.open(d,m),!0):!1}}})}function yEe(n){return new xr({key:new ei("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(f=>{a+=f.textContent});const c=n7(a,{defaultProtocol:n.defaultProtocol}).find(f=>f.isLink&&f.value===a);return!a||!c?!1:n.editor.commands.setMark(n.type,{href:c.href})}}})}const vEe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function vp(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(vEe,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const bEe=_o.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){MB(n);return}MB(n.scheme,n.optionalSlashes)})},onDestroy(){dEe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!vp(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!vp(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!vp(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",zn(this.options.HTMLAttributes,n),0]:["a",zn(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!vp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!vp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Fd({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=n7(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!vp(o,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(mEe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!vp(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(gEe({type:this.type})),this.options.linkOnPaste&&n.push(yEe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),wEe=bEe.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])',getAttrs:n=>{var e;return(e=n.getAttribute("href"))!=null&&e.toLowerCase().startsWith("javascript:")?!1:null}}]},renderHTML({HTMLAttributes:n}){var e;return(e=n.href)!=null&&e.toLowerCase().startsWith("javascript:")?["a",zn(this.options.HTMLAttributes,{...n,href:""},{class:"link"}),0]:["a",zn(this.options.HTMLAttributes,n,{class:"link"}),0]},addProseMirrorPlugins(){var e;const{editor:n}=this;return[...((e=this.parent)==null?void 0:e.call(this))||[],new xr({props:{handleKeyDown:(t,r)=>{const{selection:i}=n.state;return r.key==="Escape"&&i.empty!==!0&&n.commands.focus(i.to,{scrollIntoView:!1}),!1}}})]}}),xEe=({onClear:n,onEdit:e,url:t})=>R.jsxs("div",{className:"border p-1 pl-3 rounded-lg bg-sidebar flex items-center",children:[R.jsx("a",{href:t,className:"text-sm text-muted-foreground underline line-clamp-1 cursor-pointer",target:"_blank",rel:"noopener noreferrer",title:t,children:t}),R.jsx(bd,{onClick:e,variant:"ghost",size:"icon",title:"Edit link",children:R.jsx(aW,{})}),R.jsx(bd,{onClick:n,variant:"ghost",size:"icon",title:"Clear link",children:R.jsx(LW,{})})]});function SEe({editor:n,appendTo:e}){const[t,r]=A.useState(!1),i=A.useCallback(()=>n.isActive("link"),[n]),{href:s}=n.getAttributes("link"),o=A.useCallback(()=>{r(!0)},[]),a=A.useCallback(f=>{n.chain().focus().extendMarkRange("link").setLink({href:f}).run(),r(!1)},[n]),c=A.useCallback(()=>(n.chain().focus().extendMarkRange("link").unsetLink().run(),r(!1),null),[n]);return R.jsx(w8,{editor:n,pluginKey:"link-menu}",updateDelay:0,tippyOptions:{appendTo:()=>e==null?void 0:e.current,onHidden:()=>{r(!1)},placement:"bottom",offset:[0,5],zIndex:101},shouldShow:i,children:t?R.jsx("div",{className:"border p-2 rounded-lg bg-sidebar",children:R.jsx(G8,{initialUrl:s,onSetLink:a})}):R.jsx(xEe,{url:s,onClear:c,onEdit:o})})}const EEe=[ebe.configure({types:[I3.name,AD.name]}),I3.configure({types:[AD.name]}),exe.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),txe,ixe,rxe.configure({nested:!0}),OSe,sxe,oxe,axe,uxe.configure({multicolor:!0}),fxe.configure({placeholder:"Write, '/' for commands..."}),ASe,wEe.configure({openOnClick:!1}),pSe.configure({resizable:!0,HTMLAttributes:{class:"tiptap-table"}}),ySe,gSe,mSe.extend({addAttributes(){var n;return{...(n=this.parent)==null?void 0:n.call(this),backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color"),renderHTML:e=>e.backgroundColor?{"data-background-color":e.backgroundColor,style:`background-color: ${e.backgroundColor}`}:{}}}}})];function _Ee({data:n,onUpdate:e,editorProps:t}){const r=Kwe({extensions:EEe,editorProps:t,onUpdate:({editor:s})=>{wt.debounce(e,300,{editor:s})}}),i=Ne.useRef(null);return Ne.useEffect(()=>{n&&(r==null||r.commands.setContent(n))},[n,r]),R.jsx("div",{className:"relative",children:R.jsxs("div",{ref:i,children:[R.jsx(Bwe,{editor:r,spellCheck:!1,className:"tiptap-editor"}),r&&r.isEditable&&R.jsxs("div",{children:[R.jsx(XSe,{editor:r}),R.jsx(SEe,{editor:r,appendTo:i})]})]})})}const TEe=A.forwardRef(function({value:e,onChange:t},r){return A.useImperativeHandle(r,()=>({})),A.useMemo(()=>R.jsx(_Ee,{data:e||"",onUpdate:({editor:s})=>{t==null||t(s.getJSON())}}),[e,t])}),CEe=A.forwardRef(function({activated:e},t){const[r,i]=A.useState(!0),[s,o]=A.useState(null),[a,c]=A.useState(null),f=A.useRef(null);A.useImperativeHandle(t,()=>({})),A.useEffect(()=>{i(!0),d()},[e]);const d=async()=>{if(!e){c("No note found"),i(!1);return}let b=e.cacheData;if(b||(b=await jd.note.getById(e.id),delete b.uid,wt.cache.tab.set(e.id,b)),!b){c("Note not found"),i(!1);return}o(b),setTimeout(()=>{i(!1)},200)},m=b=>{switch(b){case"fullWidth":f.current.classList.toggle("full-width");break}},g=(b,x)=>R.jsxs(R.Fragment,{children:[r&&R.jsx("div",{className:"absolute top-0 z-10 bg-background left-0 size-full flex items-center justify-center",children:R.jsx(K9,{})}),x&&R.jsxs(R.Fragment,{children:[R.jsx(Kpe,{note:x,onSettingChange:m}),R.jsxs("div",{className:"container relative px-8 lg:px-0 lg:mx-auto lg:max-w-screen-md [&.full-width]:!max-w-full [&.full-width]:!px-12",ref:f,children:[R.jsx(Ype,{}),R.jsx(Xpe,{noteId:b,note:x}),R.jsx(TEe,{value:x.data||{},onChange:_=>{wt.cache.tab.update(b,{data:_}),wt.needSavedNoteData[b]={data:_,time:+new Date,saved:!1}}}),R.jsx(Qpe,{})]})]})]});return e?a?R.jsx("div",{className:"size-full flex items-center justify-center text-red-500",children:a}):g(e.id,s):null});function r7({activatedItemStore:n,emptyContent:e}){const t=h1(n,f=>f),[r,i]=A.useState(null),s=A.useRef(null),o=A.useRef(`scroll-${wt.generateId()}`);A.useEffect(()=>{a()},[t]);const a=async()=>{var d;if(!t)return;r&&await wt.cache.tab.update(r.id,{scrollTop:((d=s.current)==null?void 0:d.scrollTop)||0});const f=await wt.cache.tab.get(t.id);if(f){let m=0;const g=setInterval(()=>{s.current&&(s.current.scrollTop=f.scrollTop||0,m++,m>=5&&clearInterval(g))},100)}i({...t,cacheData:f})};if(!t)return e;const c=()=>{if(!r)return e;switch(r==null?void 0:r.type){case"note":return R.jsx(CEe,{activated:r});default:return R.jsxs("div",{className:"flex flex-col items-center justify-center size-full text-red-500",children:["Cannot render content for type: ",(t==null?void 0:t.type)||"unknown",". Please check your configuration."]})}};return R.jsx(ww,{refViewport:s,id:o.current,className:"size-full",children:c()})}const AEe=A.lazy(()=>Nc(()=>import("./index-CcgSecBr.js"),__vite__mapDeps([0,1])));function REe(){return R.jsx(r7,{activatedItemStore:vb,emptyContent:R.jsx(A.Suspense,{children:R.jsx(AEe,{})})})}const kEe=A.lazy(()=>Nc(()=>import("./index-CcgSecBr.js"),__vite__mapDeps([0,1])));function MEe(){return R.jsx(r7,{activatedItemStore:my,emptyContent:R.jsx(A.Suspense,{children:R.jsx(kEe,{})})})}const $C=A.createContext(null);$C.displayName="PanelGroupContext";const zr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},mN=10,Gp=A.useLayoutEffect,DB=YD.useId,DEe=typeof DB=="function"?DB:()=>null;let IEe=0;function gN(n=null){const e=DEe(),t=A.useRef(n||e||null);return t.current===null&&(t.current=""+IEe++),n??t.current}function i7({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:c,onCollapse:f,onExpand:d,onResize:m,order:g,style:b,tagName:x="div",..._}){const C=A.useContext($C);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:k,expandPanel:N,getPanelSize:z,getPanelStyle:P,groupId:H,isPanelCollapsed:U,reevaluatePanelConstraints:O,registerPanel:D,resizePanel:V,unregisterPanel:F}=C,W=gN(o),X=A.useRef({callbacks:{onCollapse:f,onExpand:d,onResize:m},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:a,minSize:c},id:W,idIsFromProps:o!==void 0,order:g});A.useRef({didLogMissingDefaultSizeWarning:!1}),Gp(()=>{const{callbacks:Te,constraints:Ee}=X.current,J={...Ee};X.current.id=W,X.current.idIsFromProps=o!==void 0,X.current.order=g,Te.onCollapse=f,Te.onExpand=d,Te.onResize=m,Ee.collapsedSize=t,Ee.collapsible=r,Ee.defaultSize=i,Ee.maxSize=a,Ee.minSize=c,(J.collapsedSize!==Ee.collapsedSize||J.collapsible!==Ee.collapsible||J.maxSize!==Ee.maxSize||J.minSize!==Ee.minSize)&&O(X.current,J)}),Gp(()=>{const Te=X.current;return D(Te),()=>{F(Te)}},[g,W,D,F]),A.useImperativeHandle(s,()=>({collapse:()=>{k(X.current)},expand:Te=>{N(X.current,Te)},getId(){return W},getSize(){return z(X.current)},isCollapsed(){return U(X.current)},isExpanded(){return!U(X.current)},resize:Te=>{V(X.current,Te)}}),[k,N,z,U,W,V]);const G=P(X.current,i);return A.createElement(x,{..._,children:n,className:e,id:W,style:{...G,...b},[zr.groupId]:H,[zr.panel]:"",[zr.panelCollapsible]:r||void 0,[zr.panelId]:W,[zr.panelSize]:parseFloat(""+G.flexGrow).toFixed(1)})}const s7=A.forwardRef((n,e)=>A.createElement(i7,{...n,forwardedRef:e}));i7.displayName="Panel";s7.displayName="forwardRef(Panel)";let GD=null,JE=-1,fd=null;function OEe(n,e){if(e){const t=(e&u7)!==0,r=(e&f7)!==0,i=(e&d7)!==0,s=(e&h7)!==0;if(t)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function NEe(){fd!==null&&(document.head.removeChild(fd),GD=null,fd=null,JE=-1)}function Lk(n,e){var t,r;const i=OEe(n,e);if(GD!==i){if(GD=i,fd===null&&(fd=document.createElement("style"),document.head.appendChild(fd)),JE>=0){var s;(s=fd.sheet)===null||s===void 0||s.removeRule(JE)}JE=(t=(r=fd.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&t!==void 0?t:-1}}function o7(n){return n.type==="keydown"}function a7(n){return n.type.startsWith("pointer")}function l7(n){return n.type.startsWith("mouse")}function qC(n){if(a7(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(l7(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function PEe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function LEe(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function VEe(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:NB(n),b:NB(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;Gt(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:OB(IB(t.a)),b:OB(IB(t.b))};if(i.a===i.b){const s=r.childNodes,o={a:t.a.at(-1),b:t.b.at(-1)};let a=s.length;for(;a--;){const c=s[a];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(i.a-i.b)}const BEe=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function zEe(n){var e;const t=getComputedStyle((e=c7(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function jEe(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||zEe(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||BEe.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function IB(n){let e=n.length;for(;e--;){const t=n[e];if(Gt(t,"Missing node"),jEe(t))return t}return null}function OB(n){return n&&Number(getComputedStyle(n).zIndex)||0}function NB(n){const e=[];for(;n;)e.push(n),n=c7(n);return e}function c7(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const u7=1,f7=2,d7=4,h7=8,UEe=PEe()==="coarse";let bl=[],Dy=!1,dd=new Map,WC=new Map;const $w=new Set;function FEe(n,e,t,r,i){var s;const{ownerDocument:o}=e,a={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:i},c=(s=dd.get(o))!==null&&s!==void 0?s:0;return dd.set(o,c+1),$w.add(a),RT(),function(){var d;WC.delete(n),$w.delete(a);const m=(d=dd.get(o))!==null&&d!==void 0?d:1;if(dd.set(o,m-1),RT(),m===1&&dd.delete(o),bl.includes(a)){const g=bl.indexOf(a);g>=0&&bl.splice(g,1),vN(),i("up",!0,null)}}}function HEe(n){const{target:e}=n,{x:t,y:r}=qC(n);Dy=!0,yN({target:e,x:t,y:r}),RT(),bl.length>0&&(kT("down",n),n.preventDefault(),p7(e)||n.stopImmediatePropagation())}function Vk(n){const{x:e,y:t}=qC(n);if(Dy&&n.buttons===0&&(Dy=!1,kT("up",n)),!Dy){const{target:r}=n;yN({target:r,x:e,y:t})}kT("move",n),vN(),bl.length>0&&n.preventDefault()}function Bk(n){const{target:e}=n,{x:t,y:r}=qC(n);WC.clear(),Dy=!1,bl.length>0&&(n.preventDefault(),p7(e)||n.stopImmediatePropagation()),kT("up",n),yN({target:e,x:t,y:r}),vN(),RT()}function p7(n){let e=n;for(;e;){if(e.hasAttribute(zr.resizeHandle))return!0;e=e.parentElement}return!1}function yN({target:n,x:e,y:t}){bl.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),$w.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:c,left:f,right:d,top:m}=a,g=UEe?o.coarse:o.fine;if(e>=f-g&&e<=d+g&&t>=m-g&&t<=c+g){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&VEe(r,s)>0){let x=r,_=!1;for(;x&&!x.contains(s);){if(LEe(x.getBoundingClientRect(),a)){_=!0;break}x=x.parentElement}if(_)return}bl.push(i)}})}function zk(n,e){WC.set(n,e)}function vN(){let n=!1,e=!1;bl.forEach(r=>{const{direction:i}=r;i==="horizontal"?n=!0:e=!0});let t=0;WC.forEach(r=>{t|=r}),n&&e?Lk("intersection",t):n?Lk("horizontal",t):e?Lk("vertical",t):NEe()}let jk;function RT(){var n;(n=jk)===null||n===void 0||n.abort(),jk=new AbortController;const e={capture:!0,signal:jk.signal};$w.size&&(Dy?(bl.length>0&&dd.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("contextmenu",Bk,e),i.addEventListener("pointerleave",Vk,e),i.addEventListener("pointermove",Vk,e))}),dd.forEach((t,r)=>{const{body:i}=r;i.addEventListener("pointerup",Bk,e),i.addEventListener("pointercancel",Bk,e)})):dd.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("pointerdown",HEe,e),i.addEventListener("pointermove",Vk,e))}))}function kT(n,e){$w.forEach(t=>{const{setResizeHandlerState:r}=t,i=bl.includes(t);r(n,i,e)})}function $Ee(){const[n,e]=A.useState(0);return A.useCallback(()=>e(t=>t+1),[])}function Gt(n,e){if(!n)throw console.error(e),Error(e)}function um(n,e,t=mN){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function Du(n,e,t=mN){return um(n,e,t)===0}function $o(n,e,t){return um(n,e,t)===0}function qEe(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const i=n[r],s=e[r];if(!$o(i,s,t))return!1}return!0}function by({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];Gt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(um(t,a)<0)if(s){const c=(i+a)/2;um(t,c)<0?t=i:t=a}else t=a;return t=Math.min(o,t),t=parseFloat(t.toFixed(mN)),t}function Ab({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:s}){if($o(n,0))return e;const o=[...e],[a,c]=r;Gt(a!=null,"Invalid first pivot index"),Gt(c!=null,"Invalid second pivot index");let f=0;if(s==="keyboard"){{const m=n<0?c:a,g=t[m];Gt(g,`Panel constraints not found for index ${m}`);const{collapsedSize:b=0,collapsible:x,minSize:_=0}=g;if(x){const C=e[m];if(Gt(C!=null,`Previous layout not found for panel index ${m}`),$o(C,b)){const k=_-C;um(k,Math.abs(n))>0&&(n=n<0?0-k:k)}}}{const m=n<0?a:c,g=t[m];Gt(g,`No panel constraints found for index ${m}`);const{collapsedSize:b=0,collapsible:x,minSize:_=0}=g;if(x){const C=e[m];if(Gt(C!=null,`Previous layout not found for panel index ${m}`),$o(C,_)){const k=C-b;um(k,Math.abs(n))>0&&(n=n<0?0-k:k)}}}}{const m=n<0?1:-1;let g=n<0?c:a,b=0;for(;;){const _=e[g];Gt(_!=null,`Previous layout not found for panel index ${g}`);const k=by({panelConstraints:t,panelIndex:g,size:100})-_;if(b+=k,g+=m,g<0||g>=t.length)break}const x=Math.min(Math.abs(n),Math.abs(b));n=n<0?0-x:x}{let g=n<0?a:c;for(;g>=0&&g<t.length;){const b=Math.abs(n)-Math.abs(f),x=e[g];Gt(x!=null,`Previous layout not found for panel index ${g}`);const _=x-b,C=by({panelConstraints:t,panelIndex:g,size:_});if(!$o(x,C)&&(f+=x-C,o[g]=C,f.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?g--:g++}}if(qEe(i,o))return i;{const m=n<0?c:a,g=e[m];Gt(g!=null,`Previous layout not found for panel index ${m}`);const b=g+f,x=by({panelConstraints:t,panelIndex:m,size:b});if(o[m]=x,!$o(x,b)){let _=b-x,k=n<0?c:a;for(;k>=0&&k<t.length;){const N=o[k];Gt(N!=null,`Previous layout not found for panel index ${k}`);const z=N+_,P=by({panelConstraints:t,panelIndex:k,size:z});if($o(N,P)||(_-=P-N,o[k]=P),$o(_,0))break;n>0?k--:k++}}}const d=o.reduce((m,g)=>g+m,0);return $o(d,100)?o:i}function WEe({layout:n,panelsArray:e,pivotIndices:t}){let r=0,i=100,s=0,o=0;const a=t[0];Gt(a!=null,"No pivot index found"),e.forEach((m,g)=>{const{constraints:b}=m,{maxSize:x=100,minSize:_=0}=b;g===a?(r=_,i=x):(s+=_,o+=x)});const c=Math.min(i,100-s),f=Math.max(r,100-o),d=n[a];return{valueMax:c,valueMin:f,valueNow:d}}function qw(n,e=document){return Array.from(e.querySelectorAll(`[${zr.resizeHandleId}][data-panel-group-id="${n}"]`))}function m7(n,e,t=document){const i=qw(n,t).findIndex(s=>s.getAttribute(zr.resizeHandleId)===e);return i??null}function g7(n,e,t){const r=m7(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function GEe(n){return n instanceof HTMLElement?!0:typeof n=="object"&&n!==null&&"tagName"in n&&"getAttribute"in n}function y7(n,e=document){if(GEe(e)&&e.dataset.panelGroupId==n)return e;const t=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return t||null}function GC(n,e=document){const t=e.querySelector(`[${zr.resizeHandleId}="${n}"]`);return t||null}function KEe(n,e,t,r=document){var i,s,o,a;const c=GC(e,r),f=qw(n,r),d=c?f.indexOf(c):-1,m=(i=(s=t[d])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,g=(o=(a=t[d+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[m,g]}function YEe({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){A.useRef({didWarnAboutMissingResizeHandle:!1}),Gp(()=>{if(!s)return;const a=qw(t,s);for(let c=0;c<i.length-1;c++){const{valueMax:f,valueMin:d,valueNow:m}=WEe({layout:r,panelsArray:i,pivotIndices:[c,c+1]}),g=a[c];if(g!=null){const b=i[c];Gt(b,`No panel data found for index "${c}"`),g.setAttribute("aria-controls",b.id),g.setAttribute("aria-valuemax",""+Math.round(f)),g.setAttribute("aria-valuemin",""+Math.round(d)),g.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{a.forEach((c,f)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[t,r,i,s]),A.useEffect(()=>{if(!s)return;const a=e.current;Gt(a,"Eager values not found");const{panelDataArray:c}=a,f=y7(t,s);Gt(f!=null,`No group found for id "${t}"`);const d=qw(t,s);Gt(d,`No resize handles found for group id "${t}"`);const m=d.map(g=>{const b=g.getAttribute(zr.resizeHandleId);Gt(b,"Resize handle element has no handle id attribute");const[x,_]=KEe(t,b,c,s);if(x==null||_==null)return()=>{};const C=k=>{if(!k.defaultPrevented)switch(k.key){case"Enter":{k.preventDefault();const N=c.findIndex(z=>z.id===x);if(N>=0){const z=c[N];Gt(z,`No panel data found for index ${N}`);const P=r[N],{collapsedSize:H=0,collapsible:U,minSize:O=0}=z.constraints;if(P!=null&&U){const D=Ab({delta:$o(P,H)?O-H:H-P,initialLayout:r,panelConstraints:c.map(V=>V.constraints),pivotIndices:g7(t,b,s),prevLayout:r,trigger:"keyboard"});r!==D&&o(D)}}break}}};return g.addEventListener("keydown",C),()=>{g.removeEventListener("keydown",C)}});return()=>{m.forEach(g=>g())}},[s,n,e,t,r,i,o])}function PB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function v7(n,e){const t=n==="horizontal",{x:r,y:i}=qC(e);return t?r:i}function XEe(n,e,t,r,i){const s=t==="horizontal",o=GC(e,i);Gt(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(zr.groupId);Gt(a,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const f=v7(t,n),d=y7(a,i);Gt(d,`No group element found for id "${a}"`);const m=d.getBoundingClientRect(),g=s?m.width:m.height;return(f-c)/g*100}function QEe(n,e,t,r,i,s){if(o7(n)){const o=t==="horizontal";let a=0;n.shiftKey?a=100:i!=null?a=i:a=10;let c=0;switch(n.key){case"ArrowDown":c=o?0:a;break;case"ArrowLeft":c=o?-a:0;break;case"ArrowRight":c=o?a:0;break;case"ArrowUp":c=o?0:-a;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:XEe(n,e,t,r,s)}function JEe({panelDataArray:n}){const e=Array(n.length),t=n.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<n.length;s++){const o=t[s];Gt(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<n.length;s++){const o=t[s];Gt(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const c=n.length-r,f=i/c;r++,e[s]=f,i-=f}return e}function Jg(n,e,t){e.forEach((r,i)=>{const s=n[i];Gt(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:c}=s,{collapsedSize:f=0,collapsible:d}=a,m=t[c];if(m==null||r!==m){t[c]=r;const{onCollapse:g,onExpand:b,onResize:x}=o;x&&x(r,m),d&&(g||b)&&(b&&(m==null||Du(m,f))&&!Du(r,f)&&b(),g&&(m==null||!Du(m,f))&&Du(r,f)&&g())}})}function gE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function ZEe({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:i,precision:s=3}){const o=t[i];let a;return o==null?a=n!=null?n.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function e_e(n,e=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...i)},e)}}function LB(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function b7(n){return`react-resizable-panels:${n}`}function w7(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function x7(n,e){try{const t=b7(n),r=e.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function t_e(n,e,t){var r,i;const s=(r=x7(n,t))!==null&&r!==void 0?r:{},o=w7(e);return(i=s[o])!==null&&i!==void 0?i:null}function n_e(n,e,t,r,i){var s;const o=b7(n),a=w7(e),c=(s=x7(n,i))!==null&&s!==void 0?s:{};c[a]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(o,JSON.stringify(c))}catch(f){console.error(f)}}function VB({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((s,o)=>s+o,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!$o(r,100)&&t.length>0)for(let s=0;s<e.length;s++){const o=t[s];Gt(o!=null,`No layout data found for index ${s}`);const a=100/r*o;t[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=t[s];Gt(o!=null,`No layout data found for index ${s}`);const a=by({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,t[s]=a)}if(!$o(i,0))for(let s=0;s<e.length;s++){const o=t[s];Gt(o!=null,`No layout data found for index ${s}`);const a=o+i,c=by({panelConstraints:e,panelIndex:s,size:a});if(o!==c&&(i-=c-o,t[s]=c,$o(i,0)))break}return t}const r_e=100,Rb={getItem:n=>(LB(Rb),Rb.getItem(n)),setItem:(n,e)=>{LB(Rb),Rb.setItem(n,e)}},BB={};function S7({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:c=Rb,style:f,tagName:d="div",...m}){const g=gN(s),b=A.useRef(null),[x,_]=A.useState(null),[C,k]=A.useState([]),N=$Ee(),z=A.useRef({}),P=A.useRef(new Map),H=A.useRef(0),U=A.useRef({autoSaveId:n,direction:r,dragState:x,id:g,keyboardResizeBy:a,onLayout:o,storage:c}),O=A.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1});A.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),A.useImperativeHandle(i,()=>({getId:()=>U.current.id,getLayout:()=>{const{layout:ne}=O.current;return ne},setLayout:ne=>{const{onLayout:ge}=U.current,{layout:Re,panelDataArray:ye}=O.current,Ae=VB({layout:ne,panelConstraints:ye.map(Le=>Le.constraints)});PB(Re,Ae)||(k(Ae),O.current.layout=Ae,ge&&ge(Ae),Jg(ye,Ae,z.current))}}),[]),Gp(()=>{U.current.autoSaveId=n,U.current.direction=r,U.current.dragState=x,U.current.id=g,U.current.onLayout=o,U.current.storage=c}),YEe({committedValuesRef:U,eagerValuesRef:O,groupId:g,layout:C,panelDataArray:O.current.panelDataArray,setLayout:k,panelGroupElement:b.current}),A.useEffect(()=>{const{panelDataArray:ne}=O.current;if(n){if(C.length===0||C.length!==ne.length)return;let ge=BB[n];ge==null&&(ge=e_e(n_e,r_e),BB[n]=ge);const Re=[...ne],ye=new Map(P.current);ge(n,Re,ye,C,c)}},[n,C,c]),A.useEffect(()=>{});const D=A.useCallback(ne=>{const{onLayout:ge}=U.current,{layout:Re,panelDataArray:ye}=O.current;if(ne.constraints.collapsible){const Ae=ye.map(Lt=>Lt.constraints),{collapsedSize:Le=0,panelSize:He,pivotIndices:it}=bp(ye,ne,Re);if(Gt(He!=null,`Panel size not found for panel "${ne.id}"`),!Du(He,Le)){P.current.set(ne.id,He);const Kt=ly(ye,ne)===ye.length-1?He-Le:Le-He,Et=Ab({delta:Kt,initialLayout:Re,panelConstraints:Ae,pivotIndices:it,prevLayout:Re,trigger:"imperative-api"});gE(Re,Et)||(k(Et),O.current.layout=Et,ge&&ge(Et),Jg(ye,Et,z.current))}}},[]),V=A.useCallback((ne,ge)=>{const{onLayout:Re}=U.current,{layout:ye,panelDataArray:Ae}=O.current;if(ne.constraints.collapsible){const Le=Ae.map(Dt=>Dt.constraints),{collapsedSize:He=0,panelSize:it=0,minSize:Lt=0,pivotIndices:Kt}=bp(Ae,ne,ye),Et=ge??Lt;if(Du(it,He)){const Dt=P.current.get(ne.id),tr=Dt!=null&&Dt>=Et?Dt:Et,jt=ly(Ae,ne)===Ae.length-1?it-tr:tr-it,kn=Ab({delta:jt,initialLayout:ye,panelConstraints:Le,pivotIndices:Kt,prevLayout:ye,trigger:"imperative-api"});gE(ye,kn)||(k(kn),O.current.layout=kn,Re&&Re(kn),Jg(Ae,kn,z.current))}}},[]),F=A.useCallback(ne=>{const{layout:ge,panelDataArray:Re}=O.current,{panelSize:ye}=bp(Re,ne,ge);return Gt(ye!=null,`Panel size not found for panel "${ne.id}"`),ye},[]),W=A.useCallback((ne,ge)=>{const{panelDataArray:Re}=O.current,ye=ly(Re,ne);return ZEe({defaultSize:ge,dragState:x,layout:C,panelData:Re,panelIndex:ye})},[x,C]),X=A.useCallback(ne=>{const{layout:ge,panelDataArray:Re}=O.current,{collapsedSize:ye=0,collapsible:Ae,panelSize:Le}=bp(Re,ne,ge);return Gt(Le!=null,`Panel size not found for panel "${ne.id}"`),Ae===!0&&Du(Le,ye)},[]),G=A.useCallback(ne=>{const{layout:ge,panelDataArray:Re}=O.current,{collapsedSize:ye=0,collapsible:Ae,panelSize:Le}=bp(Re,ne,ge);return Gt(Le!=null,`Panel size not found for panel "${ne.id}"`),!Ae||um(Le,ye)>0},[]),Te=A.useCallback(ne=>{const{panelDataArray:ge}=O.current;ge.push(ne),ge.sort((Re,ye)=>{const Ae=Re.order,Le=ye.order;return Ae==null&&Le==null?0:Ae==null?-1:Le==null?1:Ae-Le}),O.current.panelDataArrayChanged=!0,N()},[N]);Gp(()=>{if(O.current.panelDataArrayChanged){O.current.panelDataArrayChanged=!1;const{autoSaveId:ne,onLayout:ge,storage:Re}=U.current,{layout:ye,panelDataArray:Ae}=O.current;let Le=null;if(ne){const it=t_e(ne,Ae,Re);it&&(P.current=new Map(Object.entries(it.expandToSizes)),Le=it.layout)}Le==null&&(Le=JEe({panelDataArray:Ae}));const He=VB({layout:Le,panelConstraints:Ae.map(it=>it.constraints)});PB(ye,He)||(k(He),O.current.layout=He,ge&&ge(He),Jg(Ae,He,z.current))}}),Gp(()=>{const ne=O.current;return()=>{ne.layout=[]}},[]);const Ee=A.useCallback(ne=>{let ge=!1;const Re=b.current;return Re&&window.getComputedStyle(Re,null).getPropertyValue("direction")==="rtl"&&(ge=!0),function(Ae){Ae.preventDefault();const Le=b.current;if(!Le)return()=>null;const{direction:He,dragState:it,id:Lt,keyboardResizeBy:Kt,onLayout:Et}=U.current,{layout:Dt,panelDataArray:tr}=O.current,{initialLayout:kr}=it??{},jt=g7(Lt,ne,Le);let kn=QEe(Ae,ne,He,it,Kt,Le);const Pn=He==="horizontal";Pn&&ge&&(kn=-kn);const nr=tr.map(Wn=>Wn.constraints),ln=Ab({delta:kn,initialLayout:kr??Dt,panelConstraints:nr,pivotIndices:jt,prevLayout:Dt,trigger:o7(Ae)?"keyboard":"mouse-or-touch"}),_n=!gE(Dt,ln);(a7(Ae)||l7(Ae))&&H.current!=kn&&(H.current=kn,!_n&&kn!==0?Pn?zk(ne,kn<0?u7:f7):zk(ne,kn<0?d7:h7):zk(ne,0)),_n&&(k(ln),O.current.layout=ln,Et&&Et(ln),Jg(tr,ln,z.current))}},[]),J=A.useCallback((ne,ge)=>{const{onLayout:Re}=U.current,{layout:ye,panelDataArray:Ae}=O.current,Le=Ae.map(Dt=>Dt.constraints),{panelSize:He,pivotIndices:it}=bp(Ae,ne,ye);Gt(He!=null,`Panel size not found for panel "${ne.id}"`);const Kt=ly(Ae,ne)===Ae.length-1?He-ge:ge-He,Et=Ab({delta:Kt,initialLayout:ye,panelConstraints:Le,pivotIndices:it,prevLayout:ye,trigger:"imperative-api"});gE(ye,Et)||(k(Et),O.current.layout=Et,Re&&Re(Et),Jg(Ae,Et,z.current))},[]),se=A.useCallback((ne,ge)=>{const{layout:Re,panelDataArray:ye}=O.current,{collapsedSize:Ae=0,collapsible:Le}=ge,{collapsedSize:He=0,collapsible:it,maxSize:Lt=100,minSize:Kt=0}=ne.constraints,{panelSize:Et}=bp(ye,ne,Re);Et!=null&&(Le&&it&&Du(Et,Ae)?Du(Ae,He)||J(ne,He):Et<Kt?J(ne,Kt):Et>Lt&&J(ne,Lt))},[J]),te=A.useCallback((ne,ge)=>{const{direction:Re}=U.current,{layout:ye}=O.current;if(!b.current)return;const Ae=GC(ne,b.current);Gt(Ae,`Drag handle element not found for id "${ne}"`);const Le=v7(Re,ge);_({dragHandleId:ne,dragHandleRect:Ae.getBoundingClientRect(),initialCursorPosition:Le,initialLayout:ye})},[]),we=A.useCallback(()=>{_(null)},[]),Q=A.useCallback(ne=>{const{panelDataArray:ge}=O.current,Re=ly(ge,ne);Re>=0&&(ge.splice(Re,1),delete z.current[ne.id],O.current.panelDataArrayChanged=!0,N())},[N]),ae=A.useMemo(()=>({collapsePanel:D,direction:r,dragState:x,expandPanel:V,getPanelSize:F,getPanelStyle:W,groupId:g,isPanelCollapsed:X,isPanelExpanded:G,reevaluatePanelConstraints:se,registerPanel:Te,registerResizeHandle:Ee,resizePanel:J,startDragging:te,stopDragging:we,unregisterPanel:Q,panelGroupElement:b.current}),[D,x,r,V,F,W,g,X,G,se,Te,Ee,J,te,we,Q]),ve={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return A.createElement($C.Provider,{value:ae},A.createElement(d,{...m,children:e,className:t,id:s,ref:b,style:{...ve,...f},[zr.group]:"",[zr.groupDirection]:r,[zr.groupId]:g}))}const E7=A.forwardRef((n,e)=>A.createElement(S7,{...n,forwardedRef:e}));S7.displayName="PanelGroup";E7.displayName="forwardRef(PanelGroup)";function ly(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function bp(n,e,t){const r=ly(n,e),s=r===n.length-1?[r-1,r]:[r,r+1],o=t[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function i_e({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){A.useEffect(()=>{if(n||t==null||r==null)return;const i=GC(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),t(o);break}case"F6":{o.preventDefault();const a=i.getAttribute(zr.groupId);Gt(a,`No group element found for id "${a}"`);const c=qw(a,r),f=m7(a,e,r);Gt(f!==null,`No resize element found for id "${e}"`);const d=o.shiftKey?f>0?f-1:c.length-1:f+1<c.length?f+1:0;c[d].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,n,e,t])}function _7({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:s,onClick:o,onDragging:a,onFocus:c,onPointerDown:f,onPointerUp:d,style:m={},tabIndex:g=0,tagName:b="div",...x}){var _,C;const k=A.useRef(null),N=A.useRef({onClick:o,onDragging:a,onPointerDown:f,onPointerUp:d});A.useEffect(()=>{N.current.onClick=o,N.current.onDragging=a,N.current.onPointerDown=f,N.current.onPointerUp=d});const z=A.useContext($C);if(z===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:P,groupId:H,registerResizeHandle:U,startDragging:O,stopDragging:D,panelGroupElement:V}=z,F=gN(i),[W,X]=A.useState("inactive"),[G,Te]=A.useState(!1),[Ee,J]=A.useState(null),se=A.useRef({state:W});Gp(()=>{se.current.state=W}),A.useEffect(()=>{if(t)J(null);else{const ae=U(F);J(()=>ae)}},[t,F,U]);const te=(_=r==null?void 0:r.coarse)!==null&&_!==void 0?_:15,we=(C=r==null?void 0:r.fine)!==null&&C!==void 0?C:5;A.useEffect(()=>{if(t||Ee==null)return;const ae=k.current;Gt(ae,"Element ref not attached");let ve=!1;return FEe(F,ae,P,{coarse:te,fine:we},(ge,Re,ye)=>{if(!Re){X("inactive");return}switch(ge){case"down":{X("drag"),ve=!1,Gt(ye,'Expected event to be defined for "down" action'),O(F,ye);const{onDragging:Ae,onPointerDown:Le}=N.current;Ae==null||Ae(!0),Le==null||Le();break}case"move":{const{state:Ae}=se.current;ve=!0,Ae!=="drag"&&X("hover"),Gt(ye,'Expected event to be defined for "move" action'),Ee(ye);break}case"up":{X("hover"),D();const{onClick:Ae,onDragging:Le,onPointerUp:He}=N.current;Le==null||Le(!1),He==null||He(),ve||Ae==null||Ae();break}}})},[te,P,t,we,U,F,Ee,O,D]),i_e({disabled:t,handleId:F,resizeHandler:Ee,panelGroupElement:V});const Q={touchAction:"none",userSelect:"none"};return A.createElement(b,{...x,children:n,className:e,id:i,onBlur:()=>{Te(!1),s==null||s()},onFocus:()=>{Te(!0),c==null||c()},ref:k,role:"separator",style:{...Q,...m},tabIndex:g,[zr.groupDirection]:P,[zr.groupId]:H,[zr.resizeHandle]:"",[zr.resizeHandleActive]:W==="drag"?"pointer":G?"keyboard":void 0,[zr.resizeHandleEnabled]:!t,[zr.resizeHandleId]:F,[zr.resizeHandleState]:W})}_7.displayName="PanelResizeHandle";function s_e({className:n,...e}){return R.jsx(E7,{"data-slot":"resizable-panel-group",className:Je("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e})}function zB({...n}){return R.jsx(s7,{"data-slot":"resizable-panel",...n})}function o_e({withHandle:n,className:e,...t}){return R.jsx(_7,{"data-slot":"resizable-handle",className:Je("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&R.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:R.jsx(KB,{className:"size-2.5"})})})}function a_e({...n}){return R.jsx(Jz,{"data-slot":"dialog",...n})}function l_e({...n}){return R.jsx(Zz,{"data-slot":"dialog-portal",...n})}function c_e({className:n,...e}){return R.jsx(ej,{"data-slot":"dialog-overlay",className:Je("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function u_e({className:n,children:e,showCloseButton:t=!0,...r}){return R.jsxs(l_e,{"data-slot":"dialog-portal",children:[R.jsx(c_e,{}),R.jsxs(tj,{"data-slot":"dialog-content",className:Je("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r,children:[e,t&&R.jsxs(ij,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[R.jsx(QD,{}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function f_e({className:n,...e}){return R.jsx("div",{"data-slot":"dialog-header",className:Je("flex flex-col gap-2 text-center sm:text-left",n),...e})}function d_e({className:n,...e}){return R.jsx(nj,{"data-slot":"dialog-title",className:Je("text-lg leading-none font-semibold",n),...e})}function h_e({className:n,...e}){return R.jsx(rj,{"data-slot":"dialog-description",className:Je("text-muted-foreground text-sm",n),...e})}const KD=()=>{const n=A.useContext($B);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},p_e=A.createContext(null),Uk={didCatch:!1,error:null};class m_e extends A.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Uk}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:s,reason:"imperative-api"}),this.setState(Uk)}}componentDidCatch(e,t){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&t.error!==null&&g_e(e.resetKeys,i)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(Uk)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:i}=this.props,{didCatch:s,error:o}=this.state;let a=e;if(s){const c={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")a=t(c);else if(r)a=A.createElement(r,c);else if(i!==void 0)a=i;else throw o}return A.createElement(p_e.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function g_e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}const y_e=A.lazy(()=>Nc(()=>import("./cursor-rainbow-hAtr1Emf.js"),[])),v_e=A.lazy(()=>Nc(()=>import("./cursor-bubble-B0Ny5Jn4.js"),[])),b_e=A.lazy(()=>Nc(()=>import("./cursor-snow-flake-hH4axSBu.js"),[])),w_e=A.lazy(()=>Nc(()=>import("./cursor-character-BVFMZH4a.js"),[])),x_e=A.lazy(()=>Nc(()=>import("./cursor-follow-DGBmGqdX.js"),[])),S_e=A.lazy(()=>Nc(()=>import("./cursor-trail-BPyNCDRM.js"),[])),E_e=A.lazy(()=>Nc(()=>import("./cursor-canvas-CRquXryc.js"),[]));function __e(){const{setTheme:n,theme:e}=KD(),[t,r]=A.useState(e.cursor||"default"),i=A.useRef(e.cursor);A.useEffect(()=>{const a=new AbortController,{signal:c}=a;return wt.eventBus.on(wt.enum.eventBus.changeCursor,s,{signal:c}),()=>{a.abort()}},[]);const s=({detail:a})=>{i.current!==a&&(i.current=a,n({cursor:a}),setTimeout(()=>{r(a)},300))},o=A.useMemo(()=>{switch(t){case"bubble":return R.jsx(A.Suspense,{children:R.jsx(v_e,{})});case"snow-flake":return R.jsx(A.Suspense,{children:R.jsx(b_e,{})});case"rainbow":return R.jsx(A.Suspense,{children:R.jsx(y_e,{})});case"character":return R.jsx(A.Suspense,{children:R.jsx(w_e,{})});case"follow":return R.jsx(A.Suspense,{children:R.jsx(x_e,{})});case"trail":return R.jsx(A.Suspense,{children:R.jsx(S_e,{})});case"canvas":return R.jsx(A.Suspense,{children:R.jsx(E_e,{})});default:return R.jsx(R.Fragment,{})}},[t]);return R.jsx(m_e,{fallback:R.jsx(R.Fragment,{children:o}),children:o})}const Fk=[{name:"Canvas",variant:"canvas"},{name:"Snow",variant:"snow-flake"},{name:"Rainbow",variant:"rainbow"},{name:"Character",variant:"character"},{name:"Follow",variant:"follow"},{name:"Trail",variant:"trail"},{name:"Bubble",variant:"bubble"},{name:"Default",variant:"default"}];function T_e(){var U,O;const[n,e]=A.useState(!1),{theme:t,setTheme:r}=KD(),[i]=A.useState(KD().theme),[s,o]=A.useState(t.colorTheme||"default"),[a,c]=A.useState(((U=yE.find(D=>D.value===t.colorTheme))==null?void 0:U.label)||"Default"),[f,d]=A.useState(t.cursor||"default"),[m,g]=A.useState(((O=Fk.find(D=>D.variant===t.cursor||"default"))==null?void 0:O.name)||"Default");A.useEffect(()=>{const D=new AbortController,{signal:V}=D;return wt.eventBus.on(wt.enum.eventBus.openSettings,b,{signal:V}),()=>{D.abort()}},[]);const b=()=>{e(!0)},x=D=>{var V;f!==D&&(wt.eventBus.dispatch(wt.enum.eventBus.changeCursor,D),d(D),g(((V=Fk.find(F=>F.variant===D))==null?void 0:V.name)||"Default"))},_=({children:D})=>R.jsx("div",{className:"flex flex-1 bg-muted rounded-lg flex-col overflow-y-auto px-4 py-3 border border-border",children:D}),C=({separator:D,children:V})=>R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"flex items-center justify-between",children:V}),D&&R.jsx("div",{className:"w-full h-[1px] bg-border my-3"})]}),k=({Icon:D,label:V})=>R.jsxs("div",{className:"flex items-center gap-2",children:[D&&R.jsx(D,{className:"w-4 h-4"}),R.jsx("span",{className:"text-sm",children:V})]}),N=D=>{var V;s!==D&&(o(D),c(((V=yE.find(F=>F.value===D))==null?void 0:V.label)||"Default"),r({colorTheme:D}))},z=()=>R.jsxs(C,{separator:!0,children:[R.jsx(k,{Icon:CW,label:"Light/Dark"}),R.jsxs(Op,{children:[R.jsx(Np,{asChild:!0,children:R.jsx("span",{className:"cursor-pointer hover:underline menu-action opacity-75 capitalize text-sm",children:i.theme})}),R.jsx(Pp,{children:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}].map(({value:D,label:V})=>R.jsx(lR,{checked:t.theme===D,onCheckedChange:()=>r({theme:D}),children:V},D))})]})]}),P=()=>R.jsxs(C,{children:[R.jsx(k,{Icon:tW,label:"Cursor"}),R.jsxs(Op,{children:[R.jsx(Np,{asChild:!0,children:R.jsx("span",{className:"cursor-pointer hover:underline menu-action opacity-75 text-sm capitalize",children:m})}),R.jsx(Pp,{children:Fk.map(D=>R.jsx(lR,{checked:f===D.variant,onCheckedChange:()=>x(D.variant),children:D.name},D.variant))})]})]}),H=()=>R.jsxs(C,{separator:!0,children:[R.jsx(k,{Icon:RW,label:"Theme"}),R.jsxs(Op,{children:[R.jsx(Np,{asChild:!0,children:R.jsx("span",{className:"cursor-pointer hover:underline menu-action opacity-75 text-sm capitalize",children:a})}),R.jsx(Pp,{children:R.jsx(ww,{className:"h-[300px]",children:yE.map(D=>R.jsx(lR,{checked:s===D.value,onCheckedChange:()=>N(D.value),children:R.jsxs("div",{className:"flex items-center justify-between w-48 pr-2",children:[D.label,R.jsx("div",{className:"flex items-center gap-0.5",children:D.colors&&D.colors.length>0&&D.colors.map((V,F)=>R.jsx("div",{className:"border-muted h-3 w-3 rounded-sm border",style:{backgroundColor:V}},F))})]})},D.value))})})]})]});return R.jsx(a_e,{open:n,onOpenChange:e,children:R.jsxs(u_e,{className:Je("overflow-hidden"),children:[R.jsxs(f_e,{children:[R.jsx(d_e,{children:"Settings"}),R.jsx(h_e,{children:"Tailor the settings to match your unique preferences and style."})]}),R.jsx(ww,{className:"h-[500px]",children:R.jsxs(_,{children:[H(),z(),P()]})})]})})}function C_e({user:n}){const[e,t]=A.useState(!0),r=h1(my,s=>s);A.useEffect(()=>{i()},[]);const i=async()=>{if(n){jd.init({user:n});const s=await jd.notebooks.getByUserId();Ky.setState(s),await ME.tab.clear(),t(!1)}};return e?R.jsx("div",{className:"size-full flex items-center justify-center",children:R.jsx(K9,{variant:"default"})}):R.jsxs(R.Fragment,{children:[R.jsxs(RJ,{style:{"--sidebar-width":"350px"},className:"size-full",children:[R.jsx(Kde,{}),R.jsx(kJ,{children:R.jsxs(s_e,{direction:"horizontal",children:[R.jsx(zB,{children:R.jsx(REe,{})}),R.jsx(o_e,{withHandle:!0,hidden:!r}),R.jsx(zB,{hidden:!r,children:R.jsx(MEe,{})})]})})]}),R.jsx(ahe,{}),R.jsx(T_e,{}),R.jsx(__e,{})]})}const A_e=({children:n})=>{const{isAuthenticated:e,user:t}=A.useContext(Hy.Context);return e?A.cloneElement(n,{isAuthenticated:e,user:t}):R.jsx(g2,{to:"/login",replace:!0})},R_e=({children:n})=>{const{isAuthenticated:e}=A.useContext(Hy.Context);return e?R.jsx(g2,{to:"/",replace:!0}):n},k_e=A.lazy(()=>Nc(()=>import("./index-BO9QUQ4L.js"),__vite__mapDeps([2,1])));function M_e(){return R.jsx(Hy.Provider,{children:R.jsx(aq,{storageKey:"note-it-tag-it-theme",children:R.jsx(Ipe,{children:R.jsxs(lpe,{children:[R.jsx(UE,{path:"/",element:R.jsx(A_e,{children:R.jsx(C_e,{})})}),R.jsx(UE,{path:"/login",element:R.jsx(R_e,{children:R.jsx(k_e,{})})}),R.jsx(UE,{path:"*",element:R.jsx(g2,{to:"/",replace:!0})})]})})})})}HB.createRoot(document.getElementById("root")).render(R.jsx(M_e,{}));export{Hy as A,bd as B,Fk as C,NQ as I,Fq as L,tW as M,rW as N,xn as P,ww as S,__e as a,wt as b,Je as c,Ot as d,pW as e,CW as f,sW as g,RW as h,Bq as i,R as j,SW as k,wq as l,ZE as m,A as r};
